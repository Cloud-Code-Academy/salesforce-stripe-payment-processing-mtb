# Stripe Integration Guidelines

## Project Context
This project integrates Stripe with Salesforce for subscription and payment management.
Always reference official Stripe API documentation: https://docs.stripe.com/api

## API Configuration
- Use Stripe API version: 2024-10-28.acacia (or latest stable)
- Initialize client: `const stripe = new Stripe(process.env.STRIPE_SECRET_KEY, { apiVersion: '2024-10-28.acacia' })`
- Store API keys in Named Credentials or environment variables (never hardcode)
- Use test mode keys (sk_test_..., pk_test_...) for development

## Core Data Model

### Stripe Objects We Use
Follow these exact object structures from Stripe API:

# The Customer object

## Attributes

- `id` (string)
  Unique identifier for the object.

- `object` (string)
  String representing the object’s type. Objects of the same type share the same value.

- `address` (object, nullable)
  The customer’s address.

  - `address.city` (string, nullable)
    City, district, suburb, town, or village.

  - `address.country` (string, nullable)
    Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

  - `address.line1` (string, nullable)
    Address line 1, such as the street, PO Box, or company name.

  - `address.line2` (string, nullable)
    Address line 2, such as the apartment, suite, unit, or building.

  - `address.postal_code` (string, nullable)
    ZIP or postal code.

  - `address.state` (string, nullable)
    State, county, province, or region.

- `balance` (integer)
  The current balance, if any, that’s stored on the customer in their default currency. If negative, the customer has credit to apply to their next invoice. If positive, the customer has an amount owed that’s added to their next invoice. The balance only considers amounts that Stripe hasn’t successfully applied to any invoice. It doesn’t reflect unpaid invoices. This balance is only taken into account after invoices finalize. For multi-currency balances, see [invoice_credit_balance](https://docs.stripe.com/docs/api/customers/object.md#customer_object-invoice_credit_balance).

- `business_name` (string, nullable)
  The customer’s business name.

- `cash_balance` (object, nullable)
  The current funds being held by Stripe on behalf of the customer. You can apply these funds towards payment intents when the source is “cash_balance”. The `settings[reconciliation_mode]` field describes if these funds apply to these payment intents manually or automatically.

  - `cash_balance.object` (string)
    String representing the object’s type. Objects of the same type share the same value.

  - `cash_balance.available` (object, nullable)
    A hash of all cash balances available to this customer. You cannot delete a customer with any cash balances, even if the balance is 0. Amounts are represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal).

  - `cash_balance.customer` (string)
    The ID of the customer whose cash balance this object represents.

  - `cash_balance.livemode` (boolean)
    Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

  - `cash_balance.settings` (object)
    A hash of settings for this cash balance.

    - `cash_balance.settings.reconciliation_mode` (enum)
      The configuration for how funds that land in the customer cash balance are reconciled.
Possible enum values:
      - `automatic`
      - `manual`

    - `cash_balance.settings.using_merchant_default` (boolean)
      A flag to indicate if reconciliation mode returned is the user’s default or is specific to this customer cash balance

- `created` (timestamp)
  Time at which the object was created. Measured in seconds since the Unix epoch.

- `currency` (string, nullable)
  Three-letter [ISO code for the currency](https://stripe.com/docs/currencies) the customer can be charged in for recurring billing purposes.

- `default_source` (string, nullable)
  ID of the default payment source for the customer.

  If you use payment methods created through the PaymentMethods API, see the [invoice_settings.default_payment_method](https://docs.stripe.com/docs/api/customers/object.md#customer_object-invoice_settings-default_payment_method) field instead.

- `delinquent` (boolean, nullable)
  Tracks the most recent state change on any invoice belonging to the customer. Paying an invoice or marking it uncollectible via the API will set this field to false. An automatic payment failure or passing the `invoice.due_date` will set this field to `true`.

  If an invoice becomes uncollectible by [dunning](https://docs.stripe.com/docs/billing/automatic-collection.md), `delinquent` doesn’t reset to `false`.

  If you care whether the customer has paid their most recent subscription invoice, use `subscription.status` instead. Paying or marking uncollectible any customer invoice regardless of whether it is the latest invoice for a subscription will always set this field to `false`.

- `description` (string, nullable)
  An arbitrary string attached to the object. Often useful for displaying to users.

- `discount` (object, nullable)
  Describes the current discount active on the customer, if there is one.

  - `discount.id` (string)
    The ID of the discount object. Discounts cannot be fetched by ID. Use `expand[]=discounts` in API calls to expand discount IDs in an array.

  - `discount.object` (string)
    String representing the object’s type. Objects of the same type share the same value.

  - `discount.checkout_session` (string, nullable)
    The Checkout session that this coupon is applied to, if it is applied to a particular session in payment mode. Will not be present for subscription mode.

  - `discount.customer` (string, nullable)
    The ID of the customer associated with this discount.

  - `discount.end` (timestamp, nullable)
    If the coupon has a duration of `repeating`, the date that this discount will end. If the coupon has a duration of `once` or `forever`, this attribute will be null.

  - `discount.invoice` (string, nullable)
    The invoice that the discount’s coupon was applied to, if it was applied directly to a particular invoice.

  - `discount.invoice_item` (string, nullable)
    The invoice item `id` (or invoice line item `id` for invoice line items of type=‘subscription’) that the discount’s coupon was applied to, if it was applied directly to a particular invoice item or invoice line item.

  - `discount.promotion_code` (string, nullable)
    The promotion code applied to create this discount.

  - `discount.source` (object)
    The source of the discount.

    - `discount.source.coupon` (string, nullable)
      The coupon that was redeemed to create this discount.

    - `discount.source.type` (enum)
      The source type of the discount.
Possible enum values:
      - `coupon`
        Coupon source type

  - `discount.start` (timestamp)
    Date that the coupon was applied.

  - `discount.subscription` (string, nullable)
    The subscription that this coupon is applied to, if it is applied to a particular subscription.

  - `discount.subscription_item` (string, nullable)
    The subscription item that this coupon is applied to, if it is applied to a particular subscription item.

- `email` (string, nullable)
  The customer’s email address.

- `individual_name` (string, nullable)
  The customer’s individual name.

- `invoice_credit_balance` (object)
  The current multi-currency balances, if any, that’s stored on the customer. If positive in a currency, the customer has a credit to apply to their next invoice denominated in that currency. If negative, the customer has an amount owed that’s added to their next invoice denominated in that currency. These balances don’t apply to unpaid invoices. They solely track amounts that Stripe hasn’t successfully applied to any invoice. Stripe only applies a balance in a specific currency to an invoice after that invoice (which is in the same currency) finalizes.

- `invoice_prefix` (string, nullable)
  The prefix for the customer used to generate unique invoice numbers.

- `invoice_settings` (object)
  The customer’s default invoice settings.

  - `invoice_settings.custom_fields` (array of objects, nullable)
    Default custom fields to be displayed on invoices for this customer.

    - `invoice_settings.custom_fields.name` (string)
      The name of the custom field.

    - `invoice_settings.custom_fields.value` (string)
      The value of the custom field.

  - `invoice_settings.default_payment_method` (string, nullable)
    ID of a payment method that’s attached to the customer, to be used as the customer’s default payment method for subscriptions and invoices.

  - `invoice_settings.footer` (string, nullable)
    Default footer to be displayed on invoices for this customer.

  - `invoice_settings.rendering_options` (object, nullable)
    Default options for invoice PDF rendering for this customer.

    - `invoice_settings.rendering_options.amount_tax_display` (string, nullable)
      How line-item prices and amounts will be displayed with respect to tax on invoice PDFs.

    - `invoice_settings.rendering_options.template` (string, nullable)
      ID of the invoice rendering template to be used for this customer’s invoices. If set, the template will be used on all invoices for this customer unless a template is set directly on the invoice.

- `livemode` (boolean)
  Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

- `metadata` (object)
  Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

- `name` (string, nullable)
  The customer’s full name or business name.

- `next_invoice_sequence` (integer, nullable)
  The suffix of the customer’s next invoice number (for example, 0001). When the account uses account level sequencing, this parameter is ignored in API requests and the field omitted in API responses.

- `phone` (string, nullable)
  The customer’s phone number.

- `preferred_locales` (array of strings, nullable)
  The customer’s preferred locales (languages), ordered by preference.

- `shipping` (object, nullable)
  Mailing and shipping address for the customer. Appears on invoices emailed to this customer.

  - `shipping.address` (object)
    Customer shipping address.

    - `shipping.address.city` (string, nullable)
      City, district, suburb, town, or village.

    - `shipping.address.country` (string, nullable)
      Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

    - `shipping.address.line1` (string, nullable)
      Address line 1, such as the street, PO Box, or company name.

    - `shipping.address.line2` (string, nullable)
      Address line 2, such as the apartment, suite, unit, or building.

    - `shipping.address.postal_code` (string, nullable)
      ZIP or postal code.

    - `shipping.address.state` (string, nullable)
      State, county, province, or region.

  - `shipping.name` (string)
    Customer name.

  - `shipping.phone` (string, nullable)
    Customer phone (including extension).

- `sources` (object, nullable)
  The customer’s payment sources, if any.

  - `sources.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `sources.data` (array of objects)
    Details about each object.

    - `sources.data.id` (string)
      Unique identifier for the object.

    - `sources.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `sources.data.account` (string, nullable)
      The account this bank account belongs to. Only applicable on Accounts (not customers or recipients) This property is only available when returned as an [External Account](https://docs.stripe.com/api/external_account_bank_accounts/object.md) where [controller.is_controller](https://docs.stripe.com/api/accounts/object.md#account_object-controller-is_controller) is `true`.

    - `sources.data.account_holder_name` (string, nullable)
      The name of the person or business that owns the bank account.

    - `sources.data.account_holder_type` (string, nullable)
      The type of entity that holds the account. This can be either `individual` or `company`.

    - `sources.data.account_type` (string, nullable)
      The bank account type. This can only be `checking` or `savings` in most countries. In Japan, this can only be `futsu` or `toza`.

    - `sources.data.available_payout_methods` (array of enums, nullable)
      A set of available payout methods for this bank account. Only values from this set should be passed as the `method` when creating a payout.
Possible enum values:
      - `instant`
      - `standard`

    - `sources.data.bank_name` (string, nullable)
      Name of the bank associated with the routing number (e.g., `WELLS FARGO`).

    - `sources.data.country` (string)
      Two-letter ISO code representing the country the bank account is located in.

    - `sources.data.currency` (enum)
      Three-letter [ISO code for the currency](https://stripe.com/docs/payouts) paid out to the bank account.

    - `sources.data.customer` (string, nullable)
      The ID of the customer that the bank account is associated with.

    - `sources.data.fingerprint` (string, nullable)
      Uniquely identifies this particular bank account. You can use this attribute to check whether two bank accounts are the same.

    - `sources.data.last4` (string)
      The last four digits of the bank account number.

    - `sources.data.metadata` (object, nullable)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `sources.data.routing_number` (string, nullable)
      The routing transit number for the bank account.

    - `sources.data.status` (string)
      For bank accounts, possible values are `new`, `validated`, `verified`, `verification_failed`, `tokenized_account_number_deactivated` or `errored`. A bank account that hasn’t had any activity or validation performed is `new`. If Stripe can determine that the bank account exists, its status will be `validated`. Note that there often isn’t enough information to know (e.g., for smaller credit unions), and the validation is not always run. If customer bank account verification has succeeded, the bank account status will be `verified`. If the verification failed for any reason, such as microdeposit failure, the status will be `verification_failed`. If the status is `tokenized_account_number_deactivated`, the account utilizes a tokenized account number which has been deactivated due to expiration or revocation. This account will need to be reverified to continue using it for money movement. If a payout sent to this bank account fails, we’ll set the status to `errored` and will not continue to send [scheduled payouts](https://stripe.com/docs/payouts#payout-schedule) until the bank details are updated.

      For external accounts, possible values are `new`, `errored`, `verification_failed`, and `tokenized_account_number_deactivated`. If a payout fails, the status is set to `errored` and scheduled payouts are stopped until account details are updated. In the US and India, if we can’t [verify the owner of the bank account](https://support.stripe.com/questions/bank-account-ownership-verification), we’ll set the status to `verification_failed`. Other validations aren’t run against external accounts because they’re only used for payouts. This means the other statuses don’t apply.

  - `sources.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `sources.url` (string)
    The URL where this list can be accessed.

- `subscriptions` (object, nullable)
  The customer’s current subscriptions, if any.

  - `subscriptions.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `subscriptions.data` (array of objects)
    Details about each object.

    - `subscriptions.data.id` (string)
      Unique identifier for the object.

    - `subscriptions.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `subscriptions.data.application` (string, nullable)
      ID of the Connect Application that created the subscription.

    - `subscriptions.data.application_fee_percent` (float, nullable)
      A non-negative decimal between 0 and 100, with at most two decimal places. This represents the percentage of the subscription invoice total that will be transferred to the application owner’s Stripe account.

    - `subscriptions.data.automatic_tax` (object)
      Automatic tax settings for this subscription.

      - `subscriptions.data.automatic_tax.disabled_reason` (enum, nullable)
        If Stripe disabled automatic tax, this enum describes why.
Possible enum values:
        - `requires_location_inputs`
          Stripe’s systems automatically turned off Tax for this subscription when finalizing one of its invoices with a missing or incomplete location for your customer.

      - `subscriptions.data.automatic_tax.enabled` (boolean)
        Whether Stripe automatically computes tax on this subscription.

      - `subscriptions.data.automatic_tax.liability` (object, nullable)
        The account that’s liable for tax. If set, the business address and tax registrations required to perform the tax calculation are loaded from this account. The tax transaction is returned in the report of the connected account.

        - `subscriptions.data.automatic_tax.liability.account` (string, nullable)
          The connected account being referenced when `type` is `account`.

        - `subscriptions.data.automatic_tax.liability.type` (enum)
          Type of the account referenced.
Possible enum values:
          - `account`
            Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

          - `self`
            Indicates that the account being referenced is the account making the API request.

    - `subscriptions.data.billing_cadence` (string, nullable)
      The Billing Cadence which controls the timing of recurring invoice generation for this subscription.If unset, the subscription will bill according to its own configured schedule and create its own invoices.If set, this subscription will be billed by the cadence instead, potentially sharing invoices with the other subscriptions linked to that Cadence.

    - `subscriptions.data.billing_cycle_anchor` (timestamp)
      The reference point that aligns future [billing cycle](https://docs.stripe.com/docs/subscriptions/billing-cycle.md) dates. It sets the day of week for `week` intervals, the day of month for `month` and `year` intervals, and the month of year for `year` intervals. The timestamp is in UTC format.

    - `subscriptions.data.billing_cycle_anchor_config` (object, nullable)
      The fixed values used to calculate the `billing_cycle_anchor`.

      - `subscriptions.data.billing_cycle_anchor_config.day_of_month` (integer)
        The day of the month of the billing_cycle_anchor.

      - `subscriptions.data.billing_cycle_anchor_config.hour` (integer, nullable)
        The hour of the day of the billing_cycle_anchor.

      - `subscriptions.data.billing_cycle_anchor_config.minute` (integer, nullable)
        The minute of the hour of the billing_cycle_anchor.

      - `subscriptions.data.billing_cycle_anchor_config.month` (integer, nullable)
        The month to start full cycle billing periods.

      - `subscriptions.data.billing_cycle_anchor_config.second` (integer, nullable)
        The second of the minute of the billing_cycle_anchor.

    - `subscriptions.data.billing_mode` (object)
      Controls how prorations and invoices for subscriptions are calculated and orchestrated.

      - `subscriptions.data.billing_mode.flexible` (object, nullable)
        Configure behavior for flexible billing mode

        - `subscriptions.data.billing_mode.flexible.proration_discounts` (enum)
          Controls how invoices and invoice items display proration amounts and discount amounts.
Possible enum values:
          - `included`
            Amounts are net of discounts, and discount amounts are zero.

          - `itemized`
            Amounts are gross of discounts, and discount amounts are accurate.

      - `subscriptions.data.billing_mode.type` (enum)
        Controls how prorations and invoices for subscriptions are calculated and orchestrated.
Possible enum values:
        - `classic`
          Calculations for subscriptions and invoices are based on legacy defaults.

        - `flexible`
          Supports more flexible calculation and orchestration options for subscriptions and invoices.

      - `subscriptions.data.billing_mode.updated_at` (timestamp, nullable)
        Details on when the current billing_mode was adopted.

    - `subscriptions.data.billing_schedules` (array of objects)
      Billing schedules for this subscription.

      - `subscriptions.data.billing_schedules.applies_to` (array of objects, nullable)
        Specifies which subscription items the billing schedule applies to.

        - `subscriptions.data.billing_schedules.applies_to.price` (string, nullable)
          The billing schedule will apply to the subscription item with the given price ID.

        - `subscriptions.data.billing_schedules.applies_to.type` (enum)
          Controls which subscription items the billing schedule applies to.
Possible enum values:
          - `price`
            If specified, the billing schedule will apply to the subscription with the given price ID.

      - `subscriptions.data.billing_schedules.bill_until` (object)
        Specifies the billing period.

        - `subscriptions.data.billing_schedules.bill_until.computed_timestamp` (timestamp)
          The timestamp the billing schedule will apply until.

        - `subscriptions.data.billing_schedules.bill_until.duration` (object, nullable)
          Specifies the billing period.

          - `subscriptions.data.billing_schedules.bill_until.duration.interval` (enum)
            Specifies billing duration. Either `day`, `week`, `month` or `year`.
Possible enum values:
            - `day`
            - `month`
            - `week`
            - `year`

          - `subscriptions.data.billing_schedules.bill_until.duration.interval_count` (integer, nullable)
            The multiplier applied to the interval.

        - `subscriptions.data.billing_schedules.bill_until.timestamp` (timestamp, nullable)
          If specified, the billing schedule will apply until the specified timestamp.

        - `subscriptions.data.billing_schedules.bill_until.type` (enum)
          Describes how the billing schedule will determine the end date. Either `duration` or `timestamp`.
Possible enum values:
          - `duration`
            If specified, the billing schedule will apply until the specified duration is reached.

          - `timestamp`
            If specified, the billing schedule will apply until the specified timestamp.

      - `subscriptions.data.billing_schedules.key` (string)
        Unique identifier for the billing schedule.

    - `subscriptions.data.billing_thresholds` (object, nullable)
      Define thresholds at which an invoice will be sent, and the subscription advanced to a new billing period

      - `subscriptions.data.billing_thresholds.amount_gte` (integer, nullable)
        Monetary threshold that triggers the subscription to create an invoice

      - `subscriptions.data.billing_thresholds.reset_billing_cycle_anchor` (boolean, nullable)
        Indicates if the `billing_cycle_anchor` should be reset when a threshold is reached. If true, `billing_cycle_anchor` will be updated to the date/time the threshold was last reached; otherwise, the value will remain unchanged. This value may not be `true` if the subscription contains items with plans that have `aggregate_usage=last_ever`.

    - `subscriptions.data.cancel_at` (timestamp, nullable)
      A date in the future at which the subscription will automatically get canceled

    - `subscriptions.data.cancel_at_period_end` (boolean)
      Whether this subscription will (if `status=active`) or did (if `status=canceled`) cancel at the end of the current billing period.

    - `subscriptions.data.canceled_at` (timestamp, nullable)
      If the subscription has been canceled, the date of that cancellation. If the subscription was canceled with `cancel_at_period_end`, `canceled_at` will reflect the time of the most recent update request, not the end of the subscription period when the subscription is automatically moved to a canceled state.

    - `subscriptions.data.cancellation_details` (object, nullable)
      Details about why this subscription was cancelled

      - `subscriptions.data.cancellation_details.comment` (string, nullable)
        Additional comments about why the user canceled the subscription, if the subscription was canceled explicitly by the user.

      - `subscriptions.data.cancellation_details.feedback` (enum, nullable)
        The customer submitted reason for why they canceled, if the subscription was canceled explicitly by the user.
Possible enum values:
        - `customer_service`
          Customer service was less than expected

        - `low_quality`
          Quality was less than expected

        - `missing_features`
          Some features are missing

        - `other`
          Other reason

        - `switched_service`
          I’m switching to a different service

        - `too_complex`
          Ease of use was less than expected

        - `too_expensive`
          It’s too expensive

        - `unused`
          I don’t use the service enough

      - `subscriptions.data.cancellation_details.reason` (enum, nullable)
        Why this subscription was canceled.
Possible enum values:
        - `cancellation_requested`
        - `payment_disputed`
        - `payment_failed`

    - `subscriptions.data.collection_method` (enum)
      Either `charge_automatically`, or `send_invoice`. When charging automatically, Stripe will attempt to pay this subscription at the end of the cycle using the default source attached to the customer. When sending an invoice, Stripe will email your customer an invoice with payment instructions and mark the subscription as `active`.
Possible enum values:
      - `charge_automatically`
      - `send_invoice`

    - `subscriptions.data.created` (timestamp)
      Time at which the object was created. Measured in seconds since the Unix epoch.

    - `subscriptions.data.currency` (enum)
      Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

    - `subscriptions.data.customer` (string)
      ID of the customer who owns the subscription.

    - `subscriptions.data.days_until_due` (integer, nullable)
      Number of days a customer has to pay invoices generated by this subscription. This value will be `null` for subscriptions where `collection_method=charge_automatically`.

    - `subscriptions.data.default_payment_method` (string, nullable)
      ID of the default payment method for the subscription. It must belong to the customer associated with the subscription. This takes precedence over `default_source`. If neither are set, invoices will use the customer’s [invoice_settings.default_payment_method](https://docs.stripe.com/docs/api/customers/object.md#customer_object-invoice_settings-default_payment_method) or [default_source](https://docs.stripe.com/docs/api/customers/object.md#customer_object-default_source).

    - `subscriptions.data.default_source` (string, nullable)
      ID of the default payment source for the subscription. It must belong to the customer associated with the subscription and be in a chargeable state. If `default_payment_method` is also set, `default_payment_method` will take precedence. If neither are set, invoices will use the customer’s [invoice_settings.default_payment_method](https://docs.stripe.com/docs/api/customers/object.md#customer_object-invoice_settings-default_payment_method) or [default_source](https://docs.stripe.com/docs/api/customers/object.md#customer_object-default_source).

    - `subscriptions.data.default_tax_rates` (array of objects, nullable)
      The tax rates that will apply to any subscription item that does not have `tax_rates` set. Invoices created will have their `default_tax_rates` populated from the subscription.

      - `subscriptions.data.default_tax_rates.id` (string)
        Unique identifier for the object.

      - `subscriptions.data.default_tax_rates.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `subscriptions.data.default_tax_rates.active` (boolean)
        Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

      - `subscriptions.data.default_tax_rates.country` (string, nullable)
        Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

      - `subscriptions.data.default_tax_rates.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `subscriptions.data.default_tax_rates.description` (string, nullable)
        An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

      - `subscriptions.data.default_tax_rates.display_name` (string)
        The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

      - `subscriptions.data.default_tax_rates.effective_percentage` (float, nullable)
        Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

      - `subscriptions.data.default_tax_rates.flat_amount` (object, nullable)
        The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

        - `subscriptions.data.default_tax_rates.flat_amount.amount` (integer)
          Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

        - `subscriptions.data.default_tax_rates.flat_amount.currency` (string)
          Three-letter ISO currency code, in lowercase.

      - `subscriptions.data.default_tax_rates.inclusive` (boolean)
        This specifies if the tax rate is inclusive or exclusive.

      - `subscriptions.data.default_tax_rates.jurisdiction` (string, nullable)
        The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

      - `subscriptions.data.default_tax_rates.jurisdiction_level` (enum, nullable)
        The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
        - `city`
        - `country`
        - `county`
        - `district`
        - `multiple`
        - `state`

      - `subscriptions.data.default_tax_rates.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `subscriptions.data.default_tax_rates.metadata` (object, nullable)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `subscriptions.data.default_tax_rates.percentage` (float)
        Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

      - `subscriptions.data.default_tax_rates.rate_type` (enum, nullable)
        Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
        - `flat_amount`
          A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

        - `percentage`
          A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

      - `subscriptions.data.default_tax_rates.state` (string, nullable)
        [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

      - `subscriptions.data.default_tax_rates.tax_type` (enum, nullable)
        The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
        - `amusement_tax`
          Amusement Tax

        - `communications_tax`
          Communications Tax

        - `gst`
          Goods and Services Tax

        - `hst`
          Harmonized Sales Tax

        - `igst`
          Integrated Goods and Services Tax

        - `jct`
          Japanese Consumption Tax

        - `lease_tax`
          Chicago Lease Tax

        - `pst`
          Provincial Sales Tax

        - `qst`
          Quebec Sales Tax

        - `retail_delivery_fee`
          Retail Delivery Fee

        - `rst`
          Retail Sales Tax

        - `sales_tax`
          Sales Tax

        - `service_tax`
          Service Tax

        - `vat`
          Value-Added Tax

    - `subscriptions.data.description` (string, nullable)
      The subscription’s description, meant to be displayable to the customer. Use this field to optionally store an explanation of the subscription for rendering in Stripe surfaces and certain local payment methods UIs.

    - `subscriptions.data.discounts` (array of strings)
      The discounts applied to the subscription. Subscription item discounts are applied before subscription discounts. Use `expand[]=discounts` to expand each discount.

    - `subscriptions.data.ended_at` (timestamp, nullable)
      If the subscription has ended, the date the subscription ended.

    - `subscriptions.data.invoice_settings` (object)
      All invoices will be billed using the specified settings.

      - `subscriptions.data.invoice_settings.account_tax_ids` (array of strings, nullable)
        The account tax IDs associated with the subscription. Will be set on invoices generated by the subscription.

      - `subscriptions.data.invoice_settings.issuer` (object)
        The connected account that issues the invoice. The invoice is presented with the branding and support information of the specified account.

        - `subscriptions.data.invoice_settings.issuer.account` (string, nullable)
          The connected account being referenced when `type` is `account`.

        - `subscriptions.data.invoice_settings.issuer.type` (enum)
          Type of the account referenced.
Possible enum values:
          - `account`
            Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

          - `self`
            Indicates that the account being referenced is the account making the API request.

    - `subscriptions.data.items` (object)
      List of subscription items, each with an attached price.

      - `subscriptions.data.items.object` (string)
        String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

      - `subscriptions.data.items.data` (array of objects)
        Details about each object.

        - `subscriptions.data.items.data.id` (string)
          Unique identifier for the object.

        - `subscriptions.data.items.data.object` (string)
          String representing the object’s type. Objects of the same type share the same value.

        - `subscriptions.data.items.data.billed_until` (timestamp, nullable)
          The time period the subscription item has been billed for.

        - `subscriptions.data.items.data.billing_thresholds` (object, nullable)
          Define thresholds at which an invoice will be sent, and the related subscription advanced to a new billing period

          - `subscriptions.data.items.data.billing_thresholds.usage_gte` (integer, nullable)
            Usage threshold that triggers the subscription to create an invoice

        - `subscriptions.data.items.data.created` (integer)
          Time at which the object was created. Measured in seconds since the Unix epoch.

        - `subscriptions.data.items.data.current_period_end` (timestamp)
          The end time of this subscription item’s current billing period.

        - `subscriptions.data.items.data.current_period_start` (timestamp)
          The start time of this subscription item’s current billing period.

        - `subscriptions.data.items.data.discounts` (array of strings)
          The discounts applied to the subscription item. Subscription item discounts are applied before subscription discounts. Use `expand[]=discounts` to expand each discount.

        - `subscriptions.data.items.data.metadata` (object)
          Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

        - `subscriptions.data.items.data.price` (object)
          The price the customer is subscribed to.

          - `subscriptions.data.items.data.price.id` (string)
            Unique identifier for the object.

          - `subscriptions.data.items.data.price.object` (string)
            String representing the object’s type. Objects of the same type share the same value.

          - `subscriptions.data.items.data.price.active` (boolean)
            Whether the price can be used for new purchases.

          - `subscriptions.data.items.data.price.billing_scheme` (enum)
            Describes how to compute the price per period. Either `per_unit` or `tiered`. `per_unit` indicates that the fixed amount (specified in `unit_amount` or `unit_amount_decimal`) will be charged per unit in `quantity` (for prices with `usage_type=licensed`), or per unit of total usage (for prices with `usage_type=metered`). `tiered` indicates that the unit pricing will be computed using a tiering strategy as defined using the `tiers` and `tiers_mode` attributes.
Possible enum values:
            - `per_unit`
            - `tiered`

          - `subscriptions.data.items.data.price.created` (timestamp)
            Time at which the object was created. Measured in seconds since the Unix epoch.

          - `subscriptions.data.items.data.price.currency` (enum)
            Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

          - `subscriptions.data.items.data.price.currency_options` (object, nullable)
            Prices defined in each available currency option. Each key must be a three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) and a [supported currency](https://stripe.com/docs/currencies).

            - `subscriptions.data.items.data.price.currency_options.<currency>.custom_unit_amount` (object, nullable)
              When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

              - `subscriptions.data.items.data.price.currency_options.<currency>.custom_unit_amount.maximum` (integer, nullable)
                The maximum unit amount the customer can specify for this item.

              - `subscriptions.data.items.data.price.currency_options.<currency>.custom_unit_amount.minimum` (integer, nullable)
                The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

              - `subscriptions.data.items.data.price.currency_options.<currency>.custom_unit_amount.preset` (integer, nullable)
                The starting unit amount which can be updated by the customer.

            - `subscriptions.data.items.data.price.currency_options.<currency>.tax_behavior` (enum, nullable)
              Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
              - `exclusive`
              - `inclusive`
              - `unspecified`

            - `subscriptions.data.items.data.price.currency_options.<currency>.tiers` (array of objects, nullable)
              Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

              - `subscriptions.data.items.data.price.currency_options.<currency>.tiers.flat_amount` (integer, nullable)
                Price for the entire tier.

              - `subscriptions.data.items.data.price.currency_options.<currency>.tiers.flat_amount_decimal` (decimal string, nullable)
                Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

              - `subscriptions.data.items.data.price.currency_options.<currency>.tiers.unit_amount` (integer, nullable)
                Per unit price for units relevant to the tier.

              - `subscriptions.data.items.data.price.currency_options.<currency>.tiers.unit_amount_decimal` (decimal string, nullable)
                Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

              - `subscriptions.data.items.data.price.currency_options.<currency>.tiers.up_to` (integer, nullable)
                Up to and including to this quantity will be contained in the tier.

            - `subscriptions.data.items.data.price.currency_options.<currency>.unit_amount` (integer, nullable)
              The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

            - `subscriptions.data.items.data.price.currency_options.<currency>.unit_amount_decimal` (decimal string, nullable)
              The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

          - `subscriptions.data.items.data.price.custom_unit_amount` (object, nullable)
            When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

            - `subscriptions.data.items.data.price.custom_unit_amount.maximum` (integer, nullable)
              The maximum unit amount the customer can specify for this item.

            - `subscriptions.data.items.data.price.custom_unit_amount.minimum` (integer, nullable)
              The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

            - `subscriptions.data.items.data.price.custom_unit_amount.preset` (integer, nullable)
              The starting unit amount which can be updated by the customer.

          - `subscriptions.data.items.data.price.livemode` (boolean)
            Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

          - `subscriptions.data.items.data.price.lookup_key` (string, nullable)
            A lookup key used to retrieve prices dynamically from a static string. This may be up to 200 characters.

          - `subscriptions.data.items.data.price.metadata` (object)
            Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

          - `subscriptions.data.items.data.price.nickname` (string, nullable)
            A brief description of the price, hidden from customers.

          - `subscriptions.data.items.data.price.product` (string)
            The ID of the product this price is associated with.

          - `subscriptions.data.items.data.price.recurring` (object, nullable)
            The recurring components of a price such as `interval` and `usage_type`.

            - `subscriptions.data.items.data.price.recurring.interval` (enum)
              The frequency at which a subscription is billed. One of `day`, `week`, `month` or `year`.

            - `subscriptions.data.items.data.price.recurring.interval_count` (integer)
              The number of intervals (specified in the `interval` attribute) between subscription billings. For example, `interval=month` and `interval_count=3` bills every 3 months.

            - `subscriptions.data.items.data.price.recurring.meter` (string, nullable)
              The meter tracking the usage of a metered price

            - `subscriptions.data.items.data.price.recurring.usage_type` (enum)
              Configures how the quantity per period should be determined. Can be either `metered` or `licensed`. `licensed` automatically bills the `quantity` set when adding it to a subscription. `metered` aggregates the total usage based on usage records. Defaults to `licensed`.

          - `subscriptions.data.items.data.price.tax_behavior` (enum, nullable)
            Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
            - `exclusive`
            - `inclusive`
            - `unspecified`

          - `subscriptions.data.items.data.price.tiers` (array of objects, nullable)
            Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

            - `subscriptions.data.items.data.price.tiers.flat_amount` (integer, nullable)
              Price for the entire tier.

            - `subscriptions.data.items.data.price.tiers.flat_amount_decimal` (decimal string, nullable)
              Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

            - `subscriptions.data.items.data.price.tiers.unit_amount` (integer, nullable)
              Per unit price for units relevant to the tier.

            - `subscriptions.data.items.data.price.tiers.unit_amount_decimal` (decimal string, nullable)
              Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

            - `subscriptions.data.items.data.price.tiers.up_to` (integer, nullable)
              Up to and including to this quantity will be contained in the tier.

          - `subscriptions.data.items.data.price.tiers_mode` (enum, nullable)
            Defines if the tiering price should be `graduated` or `volume` based. In `volume`-based tiering, the maximum quantity within a period determines the per unit price. In `graduated` tiering, pricing can change as the quantity grows.
Possible enum values:
            - `graduated`
            - `volume`

          - `subscriptions.data.items.data.price.transform_quantity` (object, nullable)
            Apply a transformation to the reported usage or set quantity before computing the amount billed. Cannot be combined with `tiers`.

            - `subscriptions.data.items.data.price.transform_quantity.divide_by` (integer)
              Divide usage by this number.

            - `subscriptions.data.items.data.price.transform_quantity.round` (enum)
              After division, either round the result `up` or `down`.

          - `subscriptions.data.items.data.price.type` (enum)
            One of `one_time` or `recurring` depending on whether the price is for a one-time purchase or a recurring (subscription) purchase.
Possible enum values:
            - `one_time`
            - `recurring`

          - `subscriptions.data.items.data.price.unit_amount` (integer, nullable)
            The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

          - `subscriptions.data.items.data.price.unit_amount_decimal` (decimal string, nullable)
            The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

        - `subscriptions.data.items.data.quantity` (integer, nullable)
          The [quantity](https://docs.stripe.com/docs/subscriptions/quantities.md) of the plan to which the customer should be subscribed.

        - `subscriptions.data.items.data.subscription` (string)
          The `subscription` this `subscription_item` belongs to.

        - `subscriptions.data.items.data.tax_rates` (array of objects, nullable)
          The tax rates which apply to this `subscription_item`. When set, the `default_tax_rates` on the subscription do not apply to this `subscription_item`.

          - `subscriptions.data.items.data.tax_rates.id` (string)
            Unique identifier for the object.

          - `subscriptions.data.items.data.tax_rates.object` (string)
            String representing the object’s type. Objects of the same type share the same value.

          - `subscriptions.data.items.data.tax_rates.active` (boolean)
            Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

          - `subscriptions.data.items.data.tax_rates.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `subscriptions.data.items.data.tax_rates.created` (timestamp)
            Time at which the object was created. Measured in seconds since the Unix epoch.

          - `subscriptions.data.items.data.tax_rates.description` (string, nullable)
            An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

          - `subscriptions.data.items.data.tax_rates.display_name` (string)
            The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

          - `subscriptions.data.items.data.tax_rates.effective_percentage` (float, nullable)
            Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

          - `subscriptions.data.items.data.tax_rates.flat_amount` (object, nullable)
            The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

            - `subscriptions.data.items.data.tax_rates.flat_amount.amount` (integer)
              Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

            - `subscriptions.data.items.data.tax_rates.flat_amount.currency` (string)
              Three-letter ISO currency code, in lowercase.

          - `subscriptions.data.items.data.tax_rates.inclusive` (boolean)
            This specifies if the tax rate is inclusive or exclusive.

          - `subscriptions.data.items.data.tax_rates.jurisdiction` (string, nullable)
            The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

          - `subscriptions.data.items.data.tax_rates.jurisdiction_level` (enum, nullable)
            The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
            - `city`
            - `country`
            - `county`
            - `district`
            - `multiple`
            - `state`

          - `subscriptions.data.items.data.tax_rates.livemode` (boolean)
            Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

          - `subscriptions.data.items.data.tax_rates.metadata` (object, nullable)
            Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

          - `subscriptions.data.items.data.tax_rates.percentage` (float)
            Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

          - `subscriptions.data.items.data.tax_rates.rate_type` (enum, nullable)
            Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
            - `flat_amount`
              A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

            - `percentage`
              A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

          - `subscriptions.data.items.data.tax_rates.state` (string, nullable)
            [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

          - `subscriptions.data.items.data.tax_rates.tax_type` (enum, nullable)
            The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
            - `amusement_tax`
              Amusement Tax

            - `communications_tax`
              Communications Tax

            - `gst`
              Goods and Services Tax

            - `hst`
              Harmonized Sales Tax

            - `igst`
              Integrated Goods and Services Tax

            - `jct`
              Japanese Consumption Tax

            - `lease_tax`
              Chicago Lease Tax

            - `pst`
              Provincial Sales Tax

            - `qst`
              Quebec Sales Tax

            - `retail_delivery_fee`
              Retail Delivery Fee

            - `rst`
              Retail Sales Tax

            - `sales_tax`
              Sales Tax

            - `service_tax`
              Service Tax

            - `vat`
              Value-Added Tax

      - `subscriptions.data.items.has_more` (boolean)
        True if this list has another page of items after this one that can be fetched.

      - `subscriptions.data.items.url` (string)
        The URL where this list can be accessed.

    - `subscriptions.data.latest_invoice` (string, nullable)
      The most recent invoice this subscription has generated.

    - `subscriptions.data.livemode` (boolean)
      Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

    - `subscriptions.data.metadata` (object)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `subscriptions.data.next_pending_invoice_item_invoice` (timestamp, nullable)
      Specifies the approximate timestamp on which any pending invoice items will be billed according to the schedule provided at `pending_invoice_item_interval`.

    - `subscriptions.data.on_behalf_of` (string, nullable)
      The account (if any) the charge was made on behalf of for charges associated with this subscription. See the [Connect documentation](https://docs.stripe.com/docs/connect/subscriptions.md#on-behalf-of) for details.

    - `subscriptions.data.pause_collection` (object, nullable)
      If specified, payment collection for this subscription will be paused. Note that the subscription status will be unchanged and will not be updated to `paused`. Learn more about [pausing collection](https://docs.stripe.com/docs/billing/subscriptions/pause-payment.md).

      - `subscriptions.data.pause_collection.behavior` (enum)
        The payment collection behavior for this subscription while paused. One of `keep_as_draft`, `mark_uncollectible`, or `void`.
Possible enum values:
        - `keep_as_draft`
        - `mark_uncollectible`
        - `void`

      - `subscriptions.data.pause_collection.resumes_at` (timestamp, nullable)
        The time after which the subscription will resume collecting payments.

    - `subscriptions.data.payment_settings` (object, nullable)
      Payment settings passed on to invoices created by the subscription.

      - `subscriptions.data.payment_settings.payment_method_options` (object, nullable)
        Payment-method-specific configuration to provide to invoices created by the subscription.

        - `subscriptions.data.payment_settings.payment_method_options.acss_debit` (object, nullable)
          This sub-hash contains details about the Canadian pre-authorized debit payment method options to pass to invoices created by the subscription.

          - `subscriptions.data.payment_settings.payment_method_options.acss_debit.mandate_options` (object, nullable)
            Additional fields for Mandate creation

            - `subscriptions.data.payment_settings.payment_method_options.acss_debit.mandate_options.transaction_type` (enum, nullable)
              Transaction type of the mandate.
Possible enum values:
              - `business`
                Transactions are made for business reasons

              - `personal`
                Transactions are made for personal reasons

          - `subscriptions.data.payment_settings.payment_method_options.acss_debit.verification_method` (enum, nullable)
            Bank account verification method.
Possible enum values:
            - `automatic`
              Instant verification with fallback to microdeposits.

            - `instant`
              Instant verification.

            - `microdeposits`
              Verification using microdeposits.

        - `subscriptions.data.payment_settings.payment_method_options.bancontact` (object, nullable)
          This sub-hash contains details about the Bancontact payment method options to pass to invoices created by the subscription.

          - `subscriptions.data.payment_settings.payment_method_options.bancontact.preferred_language` (enum)
            Preferred language of the Bancontact authorization page that the customer is redirected to.
Possible enum values:
            - `de`
              German

            - `en`
              English

            - `fr`
              French

            - `nl`
              Dutch

        - `subscriptions.data.payment_settings.payment_method_options.card` (object, nullable)
          This sub-hash contains details about the Card payment method options to pass to invoices created by the subscription.

          - `subscriptions.data.payment_settings.payment_method_options.card.mandate_options` (object, nullable)
            Configuration options for setting up an eMandate for cards issued in India.

            - `subscriptions.data.payment_settings.payment_method_options.card.mandate_options.amount` (integer, nullable)
              Amount to be charged for future payments.

            - `subscriptions.data.payment_settings.payment_method_options.card.mandate_options.amount_type` (enum, nullable)
              One of `fixed` or `maximum`. If `fixed`, the `amount` param refers to the exact amount to be charged in future payments. If `maximum`, the amount charged can be up to the value passed for the `amount` param.
Possible enum values:
              - `fixed`
                If `fixed`, the `amount` param refers to the exact amount to be charged in future payments.

              - `maximum`
                If `maximum`, the amount charged can be up to the value passed for the `amount` param.

            - `subscriptions.data.payment_settings.payment_method_options.card.mandate_options.description` (string, nullable)
              A description of the mandate or subscription that is meant to be displayed to the customer.

          - `subscriptions.data.payment_settings.payment_method_options.card.network` (enum, nullable)
            Selected network to process this Subscription on. Depends on the available networks of the card attached to the Subscription. Can be only set confirm-time.
Possible enum values:
            - `amex`
            - `cartes_bancaires`
            - `diners`
            - `discover`
            - `eftpos_au`
            - `girocard`
            - `interac`
            - `jcb`
            - `link`
            - `mastercard`
            - `unionpay`
            - `unknown`
            - `visa`

          - `subscriptions.data.payment_settings.payment_method_options.card.request_three_d_secure` (enum, nullable)
            We strongly recommend that you rely on our SCA Engine to automatically prompt your customers for authentication based on risk level and [other requirements](https://docs.stripe.com/docs/strong-customer-authentication.md). However, if you wish to request 3D Secure based on logic from your own fraud engine, provide this option. Read our guide on [manually requesting 3D Secure](https://docs.stripe.com/docs/payments/3d-secure/authentication-flow.md#manual-three-ds) for more information on how this configuration interacts with Radar and our SCA Engine.
Possible enum values:
            - `any`
              Use `any` to manually request 3DS with a preference for a `frictionless` flow, increasing the likelihood of the authentication being completed without any additional input from the customer. 3DS will always be attempted if it is supported for the card, but Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

            - `automatic`
              (Default) Our SCA Engine automatically prompts your customers for authentication based on risk level and other requirements.

            - `challenge`
              Use `challenge` to request 3DS with a preference for a `challenge` flow, where the customer must respond to a prompt for active authentication. Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

        - `subscriptions.data.payment_settings.payment_method_options.customer_balance` (object, nullable)
          This sub-hash contains details about the Bank transfer payment method options to pass to invoices created by the subscription.

          - `subscriptions.data.payment_settings.payment_method_options.customer_balance.bank_transfer` (object, nullable)
            Configuration for the bank transfer funding type, if the `funding_type` is set to `bank_transfer`.

            - `subscriptions.data.payment_settings.payment_method_options.customer_balance.bank_transfer.eu_bank_transfer` (object, nullable)
              Configuration for eu_bank_transfer funding type.

              - `subscriptions.data.payment_settings.payment_method_options.customer_balance.bank_transfer.eu_bank_transfer.country` (enum)
                The desired country code of the bank account information. Permitted values include: `BE`, `DE`, `ES`, `FR`, `IE`, or `NL`.
Possible enum values:
                - `BE`
                - `DE`
                - `ES`
                - `FR`
                - `IE`
                - `NL`

            - `subscriptions.data.payment_settings.payment_method_options.customer_balance.bank_transfer.type` (enum, nullable)
              The bank transfer type that can be used for funding. Permitted values include: `eu_bank_transfer`, `gb_bank_transfer`, `jp_bank_transfer`, `mx_bank_transfer`, or `us_bank_transfer`.

          - `subscriptions.data.payment_settings.payment_method_options.customer_balance.funding_type` (enum, nullable)
            The funding method type to be used when there are not enough funds in the customer balance. Permitted values include: `bank_transfer`.
Possible enum values:
            - `bank_transfer`

        - `subscriptions.data.payment_settings.payment_method_options.konbini` (object, nullable)
          This sub-hash contains details about the Konbini payment method options to pass to invoices created by the subscription.

        - `subscriptions.data.payment_settings.payment_method_options.sepa_debit` (object, nullable)
          This sub-hash contains details about the SEPA Direct Debit payment method options to pass to invoices created by the subscription.

        - `subscriptions.data.payment_settings.payment_method_options.us_bank_account` (object, nullable)
          This sub-hash contains details about the ACH direct debit payment method options to pass to invoices created by the subscription.

          - `subscriptions.data.payment_settings.payment_method_options.us_bank_account.financial_connections` (object, nullable)
            Additional fields for Financial Connections Session creation

            - `subscriptions.data.payment_settings.payment_method_options.us_bank_account.financial_connections.filters` (object, nullable)
              Filter the list of accounts that are allowed to be linked.

              - `subscriptions.data.payment_settings.payment_method_options.us_bank_account.financial_connections.filters.account_subcategories` (array of enums, nullable)
                The account subcategories to use to filter for possible accounts to link. Valid subcategories are `checking` and `savings`.
Possible enum values:
                - `checking`
                  Bank account subcategory is checking

                - `savings`
                  Bank account subcategory is savings

            - `subscriptions.data.payment_settings.payment_method_options.us_bank_account.financial_connections.permissions` (array of enums, nullable)
              The list of permissions to request. The `payment_method` permission must be included.
Possible enum values:
              - `balances`
                Allows accessing balance data from the account.

              - `ownership`
                Allows accessing ownership data from the account.

              - `payment_method`
                Allows the creation of a payment method from the account.

              - `transactions`
                Allows accessing transactions data from the account.

            - `subscriptions.data.payment_settings.payment_method_options.us_bank_account.financial_connections.prefetch` (array of enums, nullable)
              Data features requested to be retrieved upon account creation.
Possible enum values:
              - `balances`
                Requests to prefetch balance data on accounts collected in this session.

              - `ownership`
                Requests to prefetch ownership data on accounts collected in this session.

              - `transactions`
                Requests to prefetch transaction data on accounts collected in this session.

          - `subscriptions.data.payment_settings.payment_method_options.us_bank_account.verification_method` (enum, nullable)
            Bank account verification method.
Possible enum values:
            - `automatic`
              Instant verification with fallback to microdeposits.

            - `instant`
              Instant verification only.

            - `microdeposits`
              Verification using microdeposits. Cannot be used with Stripe Checkout, Hosted Invoices, or Payment Element.

      - `subscriptions.data.payment_settings.payment_method_types` (array of enums, nullable)
        The list of payment method types to provide to every invoice created by the subscription. If not set, Stripe attempts to automatically determine the types to use by looking at the invoice’s default payment method, the subscription’s default payment method, the customer’s default payment method, and your [invoice template settings](https://dashboard.stripe.com/settings/billing/invoice).
Possible enum values:
        - `ach_debit`
          ACH

        - `acss_debit`
          Canadian pre-authorized debit

        - `affirm`
          Affirm

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `amazon_pay`
          Amazon Pay

        - `au_becs_debit`
          BECS Direct Debit

        - `bacs_debit`
          Bacs Direct Debit

        - `bancontact`
          Bancontact

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `boleto`
          Boleto

        - `card`
          Card

        - `cashapp`
          Cash App Pay

        - `crypto`
          Crypto

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `custom`
          Custom

        - `customer_balance`
          Bank transfer

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `eps`
          EPS

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `fpx`
          FPX

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `giropay`
          giropay

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `grabpay`
          GrabPay

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `ideal`
          iDEAL

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `kakao_pay`
          Kakao Pay

        - `klarna`
          Klarna

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `konbini`
          Konbini

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `kr_card`
          Korean card

        - `link`
          Link

        - `multibanco`
          Multibanco

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `naver_pay`
          Naver Pay

        - `nz_bank_account`
          NZ BECS Direct Debit

        - `p24`
          Przelewy24

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `pay_by_bank`
          Pay By Bank

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `payco`
          PAYCO

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `paynow`
          PayNow

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `paypal`
          PayPal

        - `promptpay`
          PromptPay

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `revolut_pay`
          Revolut Pay

        - `sepa_debit`
          SEPA Direct Debit

        - `sofort`
          SOFORT

          If set, the Subscription `collection_method` must be `send_invoice`.

        - `us_bank_account`
          ACH direct debit

        - `wechat_pay`
          WeChat Pay

          If set, the Subscription `collection_method` must be `send_invoice`.

      - `subscriptions.data.payment_settings.save_default_payment_method` (enum, nullable)
        Configure whether Stripe updates `subscription.default_payment_method` when payment succeeds. Defaults to `off`.
Possible enum values:
        - `off`
          Stripe never sets `subscription.default_payment_method`.

        - `on_subscription`
          Stripe sets `subscription.default_payment_method` when a subscription payment succeeds.

    - `subscriptions.data.pending_invoice_item_interval` (object, nullable)
      Specifies an interval for how often to bill for any pending invoice items. It is analogous to calling [Create an invoice](https://docs.stripe.com/docs/api.md#create_invoice) for the given subscription at the specified interval.

      - `subscriptions.data.pending_invoice_item_interval.interval` (enum)
        Specifies invoicing frequency. Either `day`, `week`, `month` or `year`.
Possible enum values:
        - `day`
        - `month`
        - `week`
        - `year`

      - `subscriptions.data.pending_invoice_item_interval.interval_count` (integer)
        The number of intervals between invoices. For example, `interval=month` and `interval_count=3` bills every 3 months. Maximum of one year interval allowed (1 year, 12 months, or 52 weeks).

    - `subscriptions.data.pending_setup_intent` (string, nullable)
      You can use this [SetupIntent](https://docs.stripe.com/docs/api/setup_intents.md) to collect user authentication when creating a subscription without immediate payment or updating a subscription’s payment method, allowing you to optimize for off-session payments. Learn more in the [SCA Migration Guide](https://docs.stripe.com/docs/billing/migration/strong-customer-authentication.md#scenario-2).

    - `subscriptions.data.pending_update` (object, nullable)
      If specified, [pending updates](https://docs.stripe.com/docs/billing/subscriptions/pending-updates.md) that will be applied to the subscription once the `latest_invoice` has been paid.

      - `subscriptions.data.pending_update.billing_cycle_anchor` (timestamp, nullable)
        If the update is applied, determines the date of the first full invoice, and, for plans with `month` or `year` intervals, the day of the month for subsequent invoices. The timestamp is in UTC format.

      - `subscriptions.data.pending_update.expires_at` (timestamp)
        The point after which the changes reflected by this update will be discarded and no longer applied.

      - `subscriptions.data.pending_update.subscription_items` (array of objects, nullable)
        List of subscription items, each with an attached plan, that will be set if the update is applied.

        - `subscriptions.data.pending_update.subscription_items.id` (string)
          Unique identifier for the object.

        - `subscriptions.data.pending_update.subscription_items.object` (string)
          String representing the object’s type. Objects of the same type share the same value.

        - `subscriptions.data.pending_update.subscription_items.billed_until` (timestamp, nullable)
          The time period the subscription item has been billed for.

        - `subscriptions.data.pending_update.subscription_items.billing_thresholds` (object, nullable)
          Define thresholds at which an invoice will be sent, and the related subscription advanced to a new billing period

          - `subscriptions.data.pending_update.subscription_items.billing_thresholds.usage_gte` (integer, nullable)
            Usage threshold that triggers the subscription to create an invoice

        - `subscriptions.data.pending_update.subscription_items.created` (integer)
          Time at which the object was created. Measured in seconds since the Unix epoch.

        - `subscriptions.data.pending_update.subscription_items.current_period_end` (timestamp)
          The end time of this subscription item’s current billing period.

        - `subscriptions.data.pending_update.subscription_items.current_period_start` (timestamp)
          The start time of this subscription item’s current billing period.

        - `subscriptions.data.pending_update.subscription_items.discounts` (array of strings)
          The discounts applied to the subscription item. Subscription item discounts are applied before subscription discounts. Use `expand[]=discounts` to expand each discount.

        - `subscriptions.data.pending_update.subscription_items.metadata` (object)
          Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

        - `subscriptions.data.pending_update.subscription_items.price` (object)
          The price the customer is subscribed to.

          - `subscriptions.data.pending_update.subscription_items.price.id` (string)
            Unique identifier for the object.

          - `subscriptions.data.pending_update.subscription_items.price.object` (string)
            String representing the object’s type. Objects of the same type share the same value.

          - `subscriptions.data.pending_update.subscription_items.price.active` (boolean)
            Whether the price can be used for new purchases.

          - `subscriptions.data.pending_update.subscription_items.price.billing_scheme` (enum)
            Describes how to compute the price per period. Either `per_unit` or `tiered`. `per_unit` indicates that the fixed amount (specified in `unit_amount` or `unit_amount_decimal`) will be charged per unit in `quantity` (for prices with `usage_type=licensed`), or per unit of total usage (for prices with `usage_type=metered`). `tiered` indicates that the unit pricing will be computed using a tiering strategy as defined using the `tiers` and `tiers_mode` attributes.
Possible enum values:
            - `per_unit`
            - `tiered`

          - `subscriptions.data.pending_update.subscription_items.price.created` (timestamp)
            Time at which the object was created. Measured in seconds since the Unix epoch.

          - `subscriptions.data.pending_update.subscription_items.price.currency` (enum)
            Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

          - `subscriptions.data.pending_update.subscription_items.price.currency_options` (object, nullable)
            Prices defined in each available currency option. Each key must be a three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) and a [supported currency](https://stripe.com/docs/currencies).

            - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount` (object, nullable)
              When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount.maximum` (integer, nullable)
                The maximum unit amount the customer can specify for this item.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount.minimum` (integer, nullable)
                The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount.preset` (integer, nullable)
                The starting unit amount which can be updated by the customer.

            - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tax_behavior` (enum, nullable)
              Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
              - `exclusive`
              - `inclusive`
              - `unspecified`

            - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tiers` (array of objects, nullable)
              Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tiers.flat_amount` (integer, nullable)
                Price for the entire tier.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tiers.flat_amount_decimal` (decimal string, nullable)
                Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tiers.unit_amount` (integer, nullable)
                Per unit price for units relevant to the tier.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tiers.unit_amount_decimal` (decimal string, nullable)
                Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

              - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.tiers.up_to` (integer, nullable)
                Up to and including to this quantity will be contained in the tier.

            - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.unit_amount` (integer, nullable)
              The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

            - `subscriptions.data.pending_update.subscription_items.price.currency_options.<currency>.unit_amount_decimal` (decimal string, nullable)
              The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

          - `subscriptions.data.pending_update.subscription_items.price.custom_unit_amount` (object, nullable)
            When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

            - `subscriptions.data.pending_update.subscription_items.price.custom_unit_amount.maximum` (integer, nullable)
              The maximum unit amount the customer can specify for this item.

            - `subscriptions.data.pending_update.subscription_items.price.custom_unit_amount.minimum` (integer, nullable)
              The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

            - `subscriptions.data.pending_update.subscription_items.price.custom_unit_amount.preset` (integer, nullable)
              The starting unit amount which can be updated by the customer.

          - `subscriptions.data.pending_update.subscription_items.price.livemode` (boolean)
            Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

          - `subscriptions.data.pending_update.subscription_items.price.lookup_key` (string, nullable)
            A lookup key used to retrieve prices dynamically from a static string. This may be up to 200 characters.

          - `subscriptions.data.pending_update.subscription_items.price.metadata` (object)
            Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

          - `subscriptions.data.pending_update.subscription_items.price.nickname` (string, nullable)
            A brief description of the price, hidden from customers.

          - `subscriptions.data.pending_update.subscription_items.price.product` (string)
            The ID of the product this price is associated with.

          - `subscriptions.data.pending_update.subscription_items.price.recurring` (object, nullable)
            The recurring components of a price such as `interval` and `usage_type`.

            - `subscriptions.data.pending_update.subscription_items.price.recurring.interval` (enum)
              The frequency at which a subscription is billed. One of `day`, `week`, `month` or `year`.

            - `subscriptions.data.pending_update.subscription_items.price.recurring.interval_count` (integer)
              The number of intervals (specified in the `interval` attribute) between subscription billings. For example, `interval=month` and `interval_count=3` bills every 3 months.

            - `subscriptions.data.pending_update.subscription_items.price.recurring.meter` (string, nullable)
              The meter tracking the usage of a metered price

            - `subscriptions.data.pending_update.subscription_items.price.recurring.usage_type` (enum)
              Configures how the quantity per period should be determined. Can be either `metered` or `licensed`. `licensed` automatically bills the `quantity` set when adding it to a subscription. `metered` aggregates the total usage based on usage records. Defaults to `licensed`.

          - `subscriptions.data.pending_update.subscription_items.price.tax_behavior` (enum, nullable)
            Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
            - `exclusive`
            - `inclusive`
            - `unspecified`

          - `subscriptions.data.pending_update.subscription_items.price.tiers` (array of objects, nullable)
            Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

            - `subscriptions.data.pending_update.subscription_items.price.tiers.flat_amount` (integer, nullable)
              Price for the entire tier.

            - `subscriptions.data.pending_update.subscription_items.price.tiers.flat_amount_decimal` (decimal string, nullable)
              Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

            - `subscriptions.data.pending_update.subscription_items.price.tiers.unit_amount` (integer, nullable)
              Per unit price for units relevant to the tier.

            - `subscriptions.data.pending_update.subscription_items.price.tiers.unit_amount_decimal` (decimal string, nullable)
              Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

            - `subscriptions.data.pending_update.subscription_items.price.tiers.up_to` (integer, nullable)
              Up to and including to this quantity will be contained in the tier.

          - `subscriptions.data.pending_update.subscription_items.price.tiers_mode` (enum, nullable)
            Defines if the tiering price should be `graduated` or `volume` based. In `volume`-based tiering, the maximum quantity within a period determines the per unit price. In `graduated` tiering, pricing can change as the quantity grows.
Possible enum values:
            - `graduated`
            - `volume`

          - `subscriptions.data.pending_update.subscription_items.price.transform_quantity` (object, nullable)
            Apply a transformation to the reported usage or set quantity before computing the amount billed. Cannot be combined with `tiers`.

            - `subscriptions.data.pending_update.subscription_items.price.transform_quantity.divide_by` (integer)
              Divide usage by this number.

            - `subscriptions.data.pending_update.subscription_items.price.transform_quantity.round` (enum)
              After division, either round the result `up` or `down`.

          - `subscriptions.data.pending_update.subscription_items.price.type` (enum)
            One of `one_time` or `recurring` depending on whether the price is for a one-time purchase or a recurring (subscription) purchase.
Possible enum values:
            - `one_time`
            - `recurring`

          - `subscriptions.data.pending_update.subscription_items.price.unit_amount` (integer, nullable)
            The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

          - `subscriptions.data.pending_update.subscription_items.price.unit_amount_decimal` (decimal string, nullable)
            The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

        - `subscriptions.data.pending_update.subscription_items.quantity` (integer, nullable)
          The [quantity](https://docs.stripe.com/docs/subscriptions/quantities.md) of the plan to which the customer should be subscribed.

        - `subscriptions.data.pending_update.subscription_items.subscription` (string)
          The `subscription` this `subscription_item` belongs to.

        - `subscriptions.data.pending_update.subscription_items.tax_rates` (array of objects, nullable)
          The tax rates which apply to this `subscription_item`. When set, the `default_tax_rates` on the subscription do not apply to this `subscription_item`.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.id` (string)
            Unique identifier for the object.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.object` (string)
            String representing the object’s type. Objects of the same type share the same value.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.active` (boolean)
            Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `subscriptions.data.pending_update.subscription_items.tax_rates.created` (timestamp)
            Time at which the object was created. Measured in seconds since the Unix epoch.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.description` (string, nullable)
            An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.display_name` (string)
            The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.effective_percentage` (float, nullable)
            Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.flat_amount` (object, nullable)
            The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

            - `subscriptions.data.pending_update.subscription_items.tax_rates.flat_amount.amount` (integer)
              Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

            - `subscriptions.data.pending_update.subscription_items.tax_rates.flat_amount.currency` (string)
              Three-letter ISO currency code, in lowercase.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.inclusive` (boolean)
            This specifies if the tax rate is inclusive or exclusive.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.jurisdiction` (string, nullable)
            The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.jurisdiction_level` (enum, nullable)
            The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
            - `city`
            - `country`
            - `county`
            - `district`
            - `multiple`
            - `state`

          - `subscriptions.data.pending_update.subscription_items.tax_rates.livemode` (boolean)
            Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.metadata` (object, nullable)
            Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.percentage` (float)
            Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.rate_type` (enum, nullable)
            Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
            - `flat_amount`
              A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

            - `percentage`
              A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.state` (string, nullable)
            [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

          - `subscriptions.data.pending_update.subscription_items.tax_rates.tax_type` (enum, nullable)
            The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
            - `amusement_tax`
              Amusement Tax

            - `communications_tax`
              Communications Tax

            - `gst`
              Goods and Services Tax

            - `hst`
              Harmonized Sales Tax

            - `igst`
              Integrated Goods and Services Tax

            - `jct`
              Japanese Consumption Tax

            - `lease_tax`
              Chicago Lease Tax

            - `pst`
              Provincial Sales Tax

            - `qst`
              Quebec Sales Tax

            - `retail_delivery_fee`
              Retail Delivery Fee

            - `rst`
              Retail Sales Tax

            - `sales_tax`
              Sales Tax

            - `service_tax`
              Service Tax

            - `vat`
              Value-Added Tax

      - `subscriptions.data.pending_update.trial_end` (timestamp, nullable)
        Unix timestamp representing the end of the trial period the customer will get before being charged for the first time, if the update is applied.

      - `subscriptions.data.pending_update.trial_from_plan` (boolean, nullable)
        Indicates if a plan’s `trial_period_days` should be applied to the subscription. Setting `trial_end` per subscription is preferred, and this defaults to `false`. Setting this flag to `true` together with `trial_end` is not allowed. See [Using trial periods on subscriptions](https://docs.stripe.com/docs/billing/subscriptions/trials.md) to learn more.

    - `subscriptions.data.schedule` (string, nullable)
      The schedule attached to the subscription

    - `subscriptions.data.start_date` (timestamp)
      Date when the subscription was first created. The date might differ from the `created` date due to backdating.

    - `subscriptions.data.status` (enum)
      Possible values are `incomplete`, `incomplete_expired`, `trialing`, `active`, `past_due`, `canceled`, `unpaid`, or `paused`.

      For `collection_method=charge_automatically` a subscription moves into `incomplete` if the initial payment attempt fails. A subscription in this status can only have metadata and default_source updated. Once the first invoice is paid, the subscription moves into an `active` status. If the first invoice is not paid within 23 hours, the subscription transitions to `incomplete_expired`. This is a terminal status, the open invoice will be voided and no further invoices will be generated.

      A subscription that is currently in a trial period is `trialing` and moves to `active` when the trial period is over.

      A subscription can only enter a `paused` status [when a trial ends without a payment method](https://docs.stripe.com/docs/billing/subscriptions/trials.md#create-free-trials-without-payment). A `paused` subscription doesn’t generate invoices and can be resumed after your customer adds their payment method. The `paused` status is different from [pausing collection](https://docs.stripe.com/docs/billing/subscriptions/pause-payment.md), which still generates invoices and leaves the subscription’s status unchanged.

      If subscription `collection_method=charge_automatically`, it becomes `past_due` when payment is required but cannot be paid (due to failed payment or awaiting additional user actions). Once Stripe has exhausted all payment retry attempts, the subscription will become `canceled` or `unpaid` (depending on your subscriptions settings).

      If subscription `collection_method=send_invoice` it becomes `past_due` when its invoice is not paid by the due date, and `canceled` or `unpaid` if it is still not paid by an additional deadline after that. Note that when a subscription has a status of `unpaid`, no subsequent invoices will be attempted (invoices will be created, but then immediately automatically closed). After receiving updated payment information from a customer, you may choose to reopen and pay their closed invoices.

    - `subscriptions.data.test_clock` (string, nullable)
      ID of the test clock this subscription belongs to.

    - `subscriptions.data.transfer_data` (object, nullable)
      The account (if any) the subscription’s payments will be attributed to for tax reporting, and where funds from each payment will be transferred to for each of the subscription’s invoices.

      - `subscriptions.data.transfer_data.amount_percent` (float, nullable)
        A non-negative decimal between 0 and 100, with at most two decimal places. This represents the percentage of the subscription invoice total that will be transferred to the destination account. By default, the entire amount is transferred to the destination.

      - `subscriptions.data.transfer_data.destination` (string)
        The account where funds from the payment will be transferred to upon payment success.

    - `subscriptions.data.trial_end` (timestamp, nullable)
      If the subscription has a trial, the end of that trial.

    - `subscriptions.data.trial_settings` (object, nullable)
      Settings related to subscription trials.

      - `subscriptions.data.trial_settings.end_behavior` (object)
        Defines how the subscription should behave when the user’s free trial ends.

        - `subscriptions.data.trial_settings.end_behavior.missing_payment_method` (enum)
          Indicates how the subscription should change when the trial ends if the user did not provide a payment method.
Possible enum values:
          - `cancel`
            Cancel the subscription if a payment method is not attached when the trial ends.

          - `create_invoice`
            Create an invoice when the trial ends, even if the user did not set up a payment method.

          - `pause`
            Pause the subscription if a payment method is not attached when the trial ends.

    - `subscriptions.data.trial_start` (timestamp, nullable)
      If the subscription has a trial, the beginning of that trial.

  - `subscriptions.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `subscriptions.url` (string)
    The URL where this list can be accessed.

- `tax` (object)
  Tax details for the customer.

  - `tax.automatic_tax` (enum)
    Surfaces if automatic tax computation is possible given the current customer location information.
Possible enum values:
    - `failed`
      There was an error determining the customer’s location. This is usually caused by a temporary issue. Retrieve the customer to try again.

    - `not_collecting`
      The customer is located in a country or state where you’re [not registered to collect tax](https://stripe.com/docs/tax/zero-tax#not-registered). Also returned when automatic tax calculation is not supported in the customer’s location.

    - `supported`
      The customer is located in a country or state where you’re collecting tax.

    - `unrecognized_location`
      The customer’s location couldn’t be determined. Make sure the provided address information is valid and [supported in the customer’s country](https://stripe.com/docs/tax/customer-locations#supported-formats).

  - `tax.ip_address` (string, nullable)
    A recent IP address of the customer used for tax reporting and tax location inference.

  - `tax.location` (object, nullable)
    The identified tax location of the customer.

    - `tax.location.country` (string)
      The identified tax country of the customer.

    - `tax.location.source` (enum)
      The data source used to infer the customer’s location.

    - `tax.location.state` (string, nullable)
      The identified tax state, county, province, or region of the customer.

  - `tax.provider` (enum)
    The tax calculation provider used for location resolution. Defaults to `stripe` when not using a [third-party provider](https://docs.stripe.com/tax/third-party-apps.md).

- `tax_exempt` (enum, nullable)
  Describes the customer’s tax exemption status, which is `none`, `exempt`, or `reverse`. When set to `reverse`, invoice and receipt PDFs include the following text: **“Reverse charge”**.
Possible enum values:
  - `exempt`
  - `none`
  - `reverse`

- `tax_ids` (object, nullable)
  The customer’s tax IDs.

  - `tax_ids.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `tax_ids.data` (array of objects)
    Details about each object.

    - `tax_ids.data.id` (string)
      Unique identifier for the object.

    - `tax_ids.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `tax_ids.data.country` (string, nullable)
      Two-letter ISO code representing the country of the tax ID.

    - `tax_ids.data.created` (timestamp)
      Time at which the object was created. Measured in seconds since the Unix epoch.

    - `tax_ids.data.customer` (string, nullable)
      ID of the customer.

    - `tax_ids.data.livemode` (boolean)
      Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

    - `tax_ids.data.owner` (object, nullable)
      The account or customer the tax ID belongs to.

      - `tax_ids.data.owner.account` (string, nullable)
        The account being referenced when `type` is `account`.

      - `tax_ids.data.owner.application` (string, nullable)
        The Connect Application being referenced when `type` is `application`.

      - `tax_ids.data.owner.customer` (string, nullable)
        The customer being referenced when `type` is `customer`.

      - `tax_ids.data.owner.type` (enum)
        Type of owner referenced.
Possible enum values:
        - `account`
          Indicates an account is being referenced.

        - `application`
          Indicates an application is being referenced.

        - `customer`
          Indicates a customer is being referenced.

        - `self`
          Indicates that the account being referenced is the account making the API request.

    - `tax_ids.data.type` (enum)
      Type of the tax ID, one of `ad_nrt`, `ae_trn`, `al_tin`, `am_tin`, `ao_tin`, `ar_cuit`, `au_abn`, `au_arn`, `aw_tin`, `az_tin`, `ba_tin`, `bb_tin`, `bd_bin`, `bf_ifu`, `bg_uic`, `bh_vat`, `bj_ifu`, `bo_tin`, `br_cnpj`, `br_cpf`, `bs_tin`, `by_tin`, `ca_bn`, `ca_gst_hst`, `ca_pst_bc`, `ca_pst_mb`, `ca_pst_sk`, `ca_qst`, `cd_nif`, `ch_uid`, `ch_vat`, `cl_tin`, `cm_niu`, `cn_tin`, `co_nit`, `cr_tin`, `cv_nif`, `de_stn`, `do_rcn`, `ec_ruc`, `eg_tin`, `es_cif`, `et_tin`, `eu_oss_vat`, `eu_vat`, `gb_vat`, `ge_vat`, `gn_nif`, `hk_br`, `hr_oib`, `hu_tin`, `id_npwp`, `il_vat`, `in_gst`, `is_vat`, `jp_cn`, `jp_rn`, `jp_trn`, `ke_pin`, `kg_tin`, `kh_tin`, `kr_brn`, `kz_bin`, `la_tin`, `li_uid`, `li_vat`, `ma_vat`, `md_vat`, `me_pib`, `mk_vat`, `mr_nif`, `mx_rfc`, `my_frp`, `my_itn`, `my_sst`, `ng_tin`, `no_vat`, `no_voec`, `np_pan`, `nz_gst`, `om_vat`, `pe_ruc`, `ph_tin`, `ro_tin`, `rs_pib`, `ru_inn`, `ru_kpp`, `sa_vat`, `sg_gst`, `sg_uen`, `si_tin`, `sn_ninea`, `sr_fin`, `sv_nit`, `th_vat`, `tj_tin`, `tr_tin`, `tw_vat`, `tz_vat`, `ua_vat`, `ug_tin`, `us_ein`, `uy_ruc`, `uz_tin`, `uz_vat`, `ve_rif`, `vn_tin`, `za_vat`, `zm_tin`, or `zw_tin`. Note that some legacy tax IDs have type `unknown`
Possible enum values:
      - `ad_nrt`
      - `ae_trn`
      - `al_tin`
      - `am_tin`
      - `ao_tin`
      - `ar_cuit`
      - `au_abn`
      - `au_arn`
      - `aw_tin`
      - `az_tin`
      - `ba_tin`
      - `bb_tin`
      - `bd_bin`
      - `bf_ifu`
      - `bg_uic`
      - `bh_vat`
      - `bj_ifu`
      - `bo_tin`
      - `br_cnpj`
      - `br_cpf`
      - `bs_tin`
      - `by_tin`
      - `ca_bn`
      - `ca_gst_hst`
      - `ca_pst_bc`
      - `ca_pst_mb`
      - `ca_pst_sk`
      - `ca_qst`
      - `cd_nif`
      - `ch_uid`
      - `ch_vat`
      - `cl_tin`
      - `cm_niu`
      - `cn_tin`
      - `co_nit`
      - `cr_tin`
      - `cv_nif`
      - `de_stn`
      - `do_rcn`
      - `ec_ruc`
      - `eg_tin`
      - `es_cif`
      - `et_tin`
      - `eu_oss_vat`
      - `eu_vat`
      - `gb_vat`
      - `ge_vat`
      - `gn_nif`
      - `hk_br`
      - `hr_oib`
      - `hu_tin`
      - `id_npwp`
      - `il_vat`
      - `in_gst`
      - `is_vat`
      - `jp_cn`
      - `jp_rn`
      - `jp_trn`
      - `ke_pin`
      - `kg_tin`
      - `kh_tin`
      - `kr_brn`
      - `kz_bin`
      - `la_tin`
      - `li_uid`
      - `li_vat`
      - `ma_vat`
      - `md_vat`
      - `me_pib`
      - `mk_vat`
      - `mr_nif`
      - `mx_rfc`
      - `my_frp`
      - `my_itn`
      - `my_sst`
      - `ng_tin`
      - `no_vat`
      - `no_voec`
      - `np_pan`
      - `nz_gst`
      - `om_vat`
      - `pe_ruc`
      - `ph_tin`
      - `ro_tin`
      - `rs_pib`
      - `ru_inn`
      - `ru_kpp`
      - `sa_vat`
      - `sg_gst`
      - `sg_uen`
      - `si_tin`
      - `sn_ninea`
      - `sr_fin`
      - `sv_nit`
      - `th_vat`
      - `tj_tin`
      - `tr_tin`
      - `tw_vat`
      - `tz_vat`
      - `ua_vat`
      - `ug_tin`
      - `unknown`
      - `us_ein`
      - `uy_ruc`
      - `uz_tin`
      - `uz_vat`
      - `ve_rif`
      - `vn_tin`
      - `za_vat`
      - `zm_tin`
      - `zw_tin`

    - `tax_ids.data.value` (string)
      Value of the tax ID.

    - `tax_ids.data.verification` (object, nullable)
      Tax ID verification information.

      - `tax_ids.data.verification.status` (enum)
        Verification status, one of `pending`, `verified`, `unverified`, or `unavailable`.
Possible enum values:
        - `pending`
        - `unavailable`
        - `unverified`
        - `verified`

      - `tax_ids.data.verification.verified_address` (string, nullable)
        Verified address.

      - `tax_ids.data.verification.verified_name` (string, nullable)
        Verified name.

  - `tax_ids.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `tax_ids.url` (string)
    The URL where this list can be accessed.

- `test_clock` (string, nullable)
  ID of the test clock that this customer belongs to.

### The Customer object

```json
{
  "id": "cus_NffrFeUfNV2Hib",
  "object": "customer",
  "address": null,
  "balance": 0,
  "created": 1680893993,
  "currency": null,
  "default_source": null,
  "delinquent": false,
  "description": null,
  "discount": null,
  "email": "jennyrosen@example.com",
  "invoice_prefix": "0759376C",
  "invoice_settings": {
    "custom_fields": null,
    "default_payment_method": null,
    "footer": null,
    "rendering_options": null
  },
  "livemode": false,
  "metadata": {},
  "name": "Jenny Rosen",
  "next_invoice_sequence": 1,
  "phone": null,
  "preferred_locales": [],
  "shipping": null,
  "tax_exempt": "none",
  "test_clock": null
}
```

# The Subscription object

## Attributes

- `id` (string)
  Unique identifier for the object.

- `object` (string)
  String representing the object’s type. Objects of the same type share the same value.

- `application` (string, nullable)
  ID of the Connect Application that created the subscription.

- `application_fee_percent` (float, nullable)
  A non-negative decimal between 0 and 100, with at most two decimal places. This represents the percentage of the subscription invoice total that will be transferred to the application owner’s Stripe account.

- `automatic_tax` (object)
  Automatic tax settings for this subscription.

  - `automatic_tax.disabled_reason` (enum, nullable)
    If Stripe disabled automatic tax, this enum describes why.
Possible enum values:
    - `requires_location_inputs`
      Stripe’s systems automatically turned off Tax for this subscription when finalizing one of its invoices with a missing or incomplete location for your customer.

  - `automatic_tax.enabled` (boolean)
    Whether Stripe automatically computes tax on this subscription.

  - `automatic_tax.liability` (object, nullable)
    The account that’s liable for tax. If set, the business address and tax registrations required to perform the tax calculation are loaded from this account. The tax transaction is returned in the report of the connected account.

    - `automatic_tax.liability.account` (string, nullable)
      The connected account being referenced when `type` is `account`.

    - `automatic_tax.liability.type` (enum)
      Type of the account referenced.
Possible enum values:
      - `account`
        Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

      - `self`
        Indicates that the account being referenced is the account making the API request.

- `billing_cadence` (string, nullable)
  The Billing Cadence which controls the timing of recurring invoice generation for this subscription.If unset, the subscription will bill according to its own configured schedule and create its own invoices.If set, this subscription will be billed by the cadence instead, potentially sharing invoices with the other subscriptions linked to that Cadence.

- `billing_cycle_anchor` (timestamp)
  The reference point that aligns future [billing cycle](https://docs.stripe.com/docs/subscriptions/billing-cycle.md) dates. It sets the day of week for `week` intervals, the day of month for `month` and `year` intervals, and the month of year for `year` intervals. The timestamp is in UTC format.

- `billing_cycle_anchor_config` (object, nullable)
  The fixed values used to calculate the `billing_cycle_anchor`.

  - `billing_cycle_anchor_config.day_of_month` (integer)
    The day of the month of the billing_cycle_anchor.

  - `billing_cycle_anchor_config.hour` (integer, nullable)
    The hour of the day of the billing_cycle_anchor.

  - `billing_cycle_anchor_config.minute` (integer, nullable)
    The minute of the hour of the billing_cycle_anchor.

  - `billing_cycle_anchor_config.month` (integer, nullable)
    The month to start full cycle billing periods.

  - `billing_cycle_anchor_config.second` (integer, nullable)
    The second of the minute of the billing_cycle_anchor.

- `billing_mode` (object)
  Controls how prorations and invoices for subscriptions are calculated and orchestrated.

  - `billing_mode.flexible` (object, nullable)
    Configure behavior for flexible billing mode

    - `billing_mode.flexible.proration_discounts` (enum)
      Controls how invoices and invoice items display proration amounts and discount amounts.
Possible enum values:
      - `included`
        Amounts are net of discounts, and discount amounts are zero.

      - `itemized`
        Amounts are gross of discounts, and discount amounts are accurate.

  - `billing_mode.type` (enum)
    Controls how prorations and invoices for subscriptions are calculated and orchestrated.
Possible enum values:
    - `classic`
      Calculations for subscriptions and invoices are based on legacy defaults.

    - `flexible`
      Supports more flexible calculation and orchestration options for subscriptions and invoices.

  - `billing_mode.updated_at` (timestamp, nullable)
    Details on when the current billing_mode was adopted.

- `billing_schedules` (array of objects)
  Billing schedules for this subscription.

  - `billing_schedules.applies_to` (array of objects, nullable)
    Specifies which subscription items the billing schedule applies to.

    - `billing_schedules.applies_to.price` (string, nullable)
      The billing schedule will apply to the subscription item with the given price ID.

    - `billing_schedules.applies_to.type` (enum)
      Controls which subscription items the billing schedule applies to.
Possible enum values:
      - `price`
        If specified, the billing schedule will apply to the subscription with the given price ID.

  - `billing_schedules.bill_until` (object)
    Specifies the billing period.

    - `billing_schedules.bill_until.computed_timestamp` (timestamp)
      The timestamp the billing schedule will apply until.

    - `billing_schedules.bill_until.duration` (object, nullable)
      Specifies the billing period.

      - `billing_schedules.bill_until.duration.interval` (enum)
        Specifies billing duration. Either `day`, `week`, `month` or `year`.
Possible enum values:
        - `day`
        - `month`
        - `week`
        - `year`

      - `billing_schedules.bill_until.duration.interval_count` (integer, nullable)
        The multiplier applied to the interval.

    - `billing_schedules.bill_until.timestamp` (timestamp, nullable)
      If specified, the billing schedule will apply until the specified timestamp.

    - `billing_schedules.bill_until.type` (enum)
      Describes how the billing schedule will determine the end date. Either `duration` or `timestamp`.
Possible enum values:
      - `duration`
        If specified, the billing schedule will apply until the specified duration is reached.

      - `timestamp`
        If specified, the billing schedule will apply until the specified timestamp.

  - `billing_schedules.key` (string)
    Unique identifier for the billing schedule.

- `billing_thresholds` (object, nullable)
  Define thresholds at which an invoice will be sent, and the subscription advanced to a new billing period

  - `billing_thresholds.amount_gte` (integer, nullable)
    Monetary threshold that triggers the subscription to create an invoice

  - `billing_thresholds.reset_billing_cycle_anchor` (boolean, nullable)
    Indicates if the `billing_cycle_anchor` should be reset when a threshold is reached. If true, `billing_cycle_anchor` will be updated to the date/time the threshold was last reached; otherwise, the value will remain unchanged. This value may not be `true` if the subscription contains items with plans that have `aggregate_usage=last_ever`.

- `cancel_at` (timestamp, nullable)
  A date in the future at which the subscription will automatically get canceled

- `cancel_at_period_end` (boolean)
  Whether this subscription will (if `status=active`) or did (if `status=canceled`) cancel at the end of the current billing period.

- `canceled_at` (timestamp, nullable)
  If the subscription has been canceled, the date of that cancellation. If the subscription was canceled with `cancel_at_period_end`, `canceled_at` will reflect the time of the most recent update request, not the end of the subscription period when the subscription is automatically moved to a canceled state.

- `cancellation_details` (object, nullable)
  Details about why this subscription was cancelled

  - `cancellation_details.comment` (string, nullable)
    Additional comments about why the user canceled the subscription, if the subscription was canceled explicitly by the user.

  - `cancellation_details.feedback` (enum, nullable)
    The customer submitted reason for why they canceled, if the subscription was canceled explicitly by the user.
Possible enum values:
    - `customer_service`
      Customer service was less than expected

    - `low_quality`
      Quality was less than expected

    - `missing_features`
      Some features are missing

    - `other`
      Other reason

    - `switched_service`
      I’m switching to a different service

    - `too_complex`
      Ease of use was less than expected

    - `too_expensive`
      It’s too expensive

    - `unused`
      I don’t use the service enough

  - `cancellation_details.reason` (enum, nullable)
    Why this subscription was canceled.
Possible enum values:
    - `cancellation_requested`
    - `payment_disputed`
    - `payment_failed`

- `collection_method` (enum)
  Either `charge_automatically`, or `send_invoice`. When charging automatically, Stripe will attempt to pay this subscription at the end of the cycle using the default source attached to the customer. When sending an invoice, Stripe will email your customer an invoice with payment instructions and mark the subscription as `active`.
Possible enum values:
  - `charge_automatically`
  - `send_invoice`

- `created` (timestamp)
  Time at which the object was created. Measured in seconds since the Unix epoch.

- `currency` (enum)
  Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

- `customer` (string)
  ID of the customer who owns the subscription.

- `days_until_due` (integer, nullable)
  Number of days a customer has to pay invoices generated by this subscription. This value will be `null` for subscriptions where `collection_method=charge_automatically`.

- `default_payment_method` (string, nullable)
  ID of the default payment method for the subscription. It must belong to the customer associated with the subscription. This takes precedence over `default_source`. If neither are set, invoices will use the customer’s [invoice_settings.default_payment_method](https://docs.stripe.com/docs/api/customers/object.md#customer_object-invoice_settings-default_payment_method) or [default_source](https://docs.stripe.com/docs/api/customers/object.md#customer_object-default_source).

- `default_source` (string, nullable)
  ID of the default payment source for the subscription. It must belong to the customer associated with the subscription and be in a chargeable state. If `default_payment_method` is also set, `default_payment_method` will take precedence. If neither are set, invoices will use the customer’s [invoice_settings.default_payment_method](https://docs.stripe.com/docs/api/customers/object.md#customer_object-invoice_settings-default_payment_method) or [default_source](https://docs.stripe.com/docs/api/customers/object.md#customer_object-default_source).

- `default_tax_rates` (array of objects, nullable)
  The tax rates that will apply to any subscription item that does not have `tax_rates` set. Invoices created will have their `default_tax_rates` populated from the subscription.

  - `default_tax_rates.id` (string)
    Unique identifier for the object.

  - `default_tax_rates.object` (string)
    String representing the object’s type. Objects of the same type share the same value.

  - `default_tax_rates.active` (boolean)
    Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

  - `default_tax_rates.country` (string, nullable)
    Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

  - `default_tax_rates.created` (timestamp)
    Time at which the object was created. Measured in seconds since the Unix epoch.

  - `default_tax_rates.description` (string, nullable)
    An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

  - `default_tax_rates.display_name` (string)
    The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

  - `default_tax_rates.effective_percentage` (float, nullable)
    Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

  - `default_tax_rates.flat_amount` (object, nullable)
    The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

    - `default_tax_rates.flat_amount.amount` (integer)
      Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

    - `default_tax_rates.flat_amount.currency` (string)
      Three-letter ISO currency code, in lowercase.

  - `default_tax_rates.inclusive` (boolean)
    This specifies if the tax rate is inclusive or exclusive.

  - `default_tax_rates.jurisdiction` (string, nullable)
    The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

  - `default_tax_rates.jurisdiction_level` (enum, nullable)
    The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
    - `city`
    - `country`
    - `county`
    - `district`
    - `multiple`
    - `state`

  - `default_tax_rates.livemode` (boolean)
    Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

  - `default_tax_rates.metadata` (object, nullable)
    Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

  - `default_tax_rates.percentage` (float)
    Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

  - `default_tax_rates.rate_type` (enum, nullable)
    Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
    - `flat_amount`
      A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

    - `percentage`
      A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

  - `default_tax_rates.state` (string, nullable)
    [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

  - `default_tax_rates.tax_type` (enum, nullable)
    The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
    - `amusement_tax`
      Amusement Tax

    - `communications_tax`
      Communications Tax

    - `gst`
      Goods and Services Tax

    - `hst`
      Harmonized Sales Tax

    - `igst`
      Integrated Goods and Services Tax

    - `jct`
      Japanese Consumption Tax

    - `lease_tax`
      Chicago Lease Tax

    - `pst`
      Provincial Sales Tax

    - `qst`
      Quebec Sales Tax

    - `retail_delivery_fee`
      Retail Delivery Fee

    - `rst`
      Retail Sales Tax

    - `sales_tax`
      Sales Tax

    - `service_tax`
      Service Tax

    - `vat`
      Value-Added Tax

- `description` (string, nullable)
  The subscription’s description, meant to be displayable to the customer. Use this field to optionally store an explanation of the subscription for rendering in Stripe surfaces and certain local payment methods UIs.

- `discounts` (array of strings)
  The discounts applied to the subscription. Subscription item discounts are applied before subscription discounts. Use `expand[]=discounts` to expand each discount.

- `ended_at` (timestamp, nullable)
  If the subscription has ended, the date the subscription ended.

- `invoice_settings` (object)
  All invoices will be billed using the specified settings.

  - `invoice_settings.account_tax_ids` (array of strings, nullable)
    The account tax IDs associated with the subscription. Will be set on invoices generated by the subscription.

  - `invoice_settings.issuer` (object)
    The connected account that issues the invoice. The invoice is presented with the branding and support information of the specified account.

    - `invoice_settings.issuer.account` (string, nullable)
      The connected account being referenced when `type` is `account`.

    - `invoice_settings.issuer.type` (enum)
      Type of the account referenced.
Possible enum values:
      - `account`
        Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

      - `self`
        Indicates that the account being referenced is the account making the API request.

- `items` (object)
  List of subscription items, each with an attached price.

  - `items.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `items.data` (array of objects)
    Details about each object.

    - `items.data.id` (string)
      Unique identifier for the object.

    - `items.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `items.data.billed_until` (timestamp, nullable)
      The time period the subscription item has been billed for.

    - `items.data.billing_thresholds` (object, nullable)
      Define thresholds at which an invoice will be sent, and the related subscription advanced to a new billing period

      - `items.data.billing_thresholds.usage_gte` (integer, nullable)
        Usage threshold that triggers the subscription to create an invoice

    - `items.data.created` (integer)
      Time at which the object was created. Measured in seconds since the Unix epoch.

    - `items.data.current_period_end` (timestamp)
      The end time of this subscription item’s current billing period.

    - `items.data.current_period_start` (timestamp)
      The start time of this subscription item’s current billing period.

    - `items.data.discounts` (array of strings)
      The discounts applied to the subscription item. Subscription item discounts are applied before subscription discounts. Use `expand[]=discounts` to expand each discount.

    - `items.data.metadata` (object)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `items.data.price` (object)
      The price the customer is subscribed to.

      - `items.data.price.id` (string)
        Unique identifier for the object.

      - `items.data.price.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `items.data.price.active` (boolean)
        Whether the price can be used for new purchases.

      - `items.data.price.billing_scheme` (enum)
        Describes how to compute the price per period. Either `per_unit` or `tiered`. `per_unit` indicates that the fixed amount (specified in `unit_amount` or `unit_amount_decimal`) will be charged per unit in `quantity` (for prices with `usage_type=licensed`), or per unit of total usage (for prices with `usage_type=metered`). `tiered` indicates that the unit pricing will be computed using a tiering strategy as defined using the `tiers` and `tiers_mode` attributes.
Possible enum values:
        - `per_unit`
        - `tiered`

      - `items.data.price.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `items.data.price.currency` (enum)
        Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

      - `items.data.price.currency_options` (object, nullable)
        Prices defined in each available currency option. Each key must be a three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) and a [supported currency](https://stripe.com/docs/currencies).

        - `items.data.price.currency_options.<currency>.custom_unit_amount` (object, nullable)
          When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

          - `items.data.price.currency_options.<currency>.custom_unit_amount.maximum` (integer, nullable)
            The maximum unit amount the customer can specify for this item.

          - `items.data.price.currency_options.<currency>.custom_unit_amount.minimum` (integer, nullable)
            The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

          - `items.data.price.currency_options.<currency>.custom_unit_amount.preset` (integer, nullable)
            The starting unit amount which can be updated by the customer.

        - `items.data.price.currency_options.<currency>.tax_behavior` (enum, nullable)
          Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
          - `exclusive`
          - `inclusive`
          - `unspecified`

        - `items.data.price.currency_options.<currency>.tiers` (array of objects, nullable)
          Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

          - `items.data.price.currency_options.<currency>.tiers.flat_amount` (integer, nullable)
            Price for the entire tier.

          - `items.data.price.currency_options.<currency>.tiers.flat_amount_decimal` (decimal string, nullable)
            Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

          - `items.data.price.currency_options.<currency>.tiers.unit_amount` (integer, nullable)
            Per unit price for units relevant to the tier.

          - `items.data.price.currency_options.<currency>.tiers.unit_amount_decimal` (decimal string, nullable)
            Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

          - `items.data.price.currency_options.<currency>.tiers.up_to` (integer, nullable)
            Up to and including to this quantity will be contained in the tier.

        - `items.data.price.currency_options.<currency>.unit_amount` (integer, nullable)
          The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

        - `items.data.price.currency_options.<currency>.unit_amount_decimal` (decimal string, nullable)
          The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

      - `items.data.price.custom_unit_amount` (object, nullable)
        When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

        - `items.data.price.custom_unit_amount.maximum` (integer, nullable)
          The maximum unit amount the customer can specify for this item.

        - `items.data.price.custom_unit_amount.minimum` (integer, nullable)
          The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

        - `items.data.price.custom_unit_amount.preset` (integer, nullable)
          The starting unit amount which can be updated by the customer.

      - `items.data.price.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `items.data.price.lookup_key` (string, nullable)
        A lookup key used to retrieve prices dynamically from a static string. This may be up to 200 characters.

      - `items.data.price.metadata` (object)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `items.data.price.nickname` (string, nullable)
        A brief description of the price, hidden from customers.

      - `items.data.price.product` (string)
        The ID of the product this price is associated with.

      - `items.data.price.recurring` (object, nullable)
        The recurring components of a price such as `interval` and `usage_type`.

        - `items.data.price.recurring.interval` (enum)
          The frequency at which a subscription is billed. One of `day`, `week`, `month` or `year`.

        - `items.data.price.recurring.interval_count` (integer)
          The number of intervals (specified in the `interval` attribute) between subscription billings. For example, `interval=month` and `interval_count=3` bills every 3 months.

        - `items.data.price.recurring.meter` (string, nullable)
          The meter tracking the usage of a metered price

        - `items.data.price.recurring.usage_type` (enum)
          Configures how the quantity per period should be determined. Can be either `metered` or `licensed`. `licensed` automatically bills the `quantity` set when adding it to a subscription. `metered` aggregates the total usage based on usage records. Defaults to `licensed`.

      - `items.data.price.tax_behavior` (enum, nullable)
        Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
        - `exclusive`
        - `inclusive`
        - `unspecified`

      - `items.data.price.tiers` (array of objects, nullable)
        Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

        - `items.data.price.tiers.flat_amount` (integer, nullable)
          Price for the entire tier.

        - `items.data.price.tiers.flat_amount_decimal` (decimal string, nullable)
          Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

        - `items.data.price.tiers.unit_amount` (integer, nullable)
          Per unit price for units relevant to the tier.

        - `items.data.price.tiers.unit_amount_decimal` (decimal string, nullable)
          Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

        - `items.data.price.tiers.up_to` (integer, nullable)
          Up to and including to this quantity will be contained in the tier.

      - `items.data.price.tiers_mode` (enum, nullable)
        Defines if the tiering price should be `graduated` or `volume` based. In `volume`-based tiering, the maximum quantity within a period determines the per unit price. In `graduated` tiering, pricing can change as the quantity grows.
Possible enum values:
        - `graduated`
        - `volume`

      - `items.data.price.transform_quantity` (object, nullable)
        Apply a transformation to the reported usage or set quantity before computing the amount billed. Cannot be combined with `tiers`.

        - `items.data.price.transform_quantity.divide_by` (integer)
          Divide usage by this number.

        - `items.data.price.transform_quantity.round` (enum)
          After division, either round the result `up` or `down`.

      - `items.data.price.type` (enum)
        One of `one_time` or `recurring` depending on whether the price is for a one-time purchase or a recurring (subscription) purchase.
Possible enum values:
        - `one_time`
        - `recurring`

      - `items.data.price.unit_amount` (integer, nullable)
        The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

      - `items.data.price.unit_amount_decimal` (decimal string, nullable)
        The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

    - `items.data.quantity` (integer, nullable)
      The [quantity](https://docs.stripe.com/docs/subscriptions/quantities.md) of the plan to which the customer should be subscribed.

    - `items.data.subscription` (string)
      The `subscription` this `subscription_item` belongs to.

    - `items.data.tax_rates` (array of objects, nullable)
      The tax rates which apply to this `subscription_item`. When set, the `default_tax_rates` on the subscription do not apply to this `subscription_item`.

      - `items.data.tax_rates.id` (string)
        Unique identifier for the object.

      - `items.data.tax_rates.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `items.data.tax_rates.active` (boolean)
        Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

      - `items.data.tax_rates.country` (string, nullable)
        Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

      - `items.data.tax_rates.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `items.data.tax_rates.description` (string, nullable)
        An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

      - `items.data.tax_rates.display_name` (string)
        The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

      - `items.data.tax_rates.effective_percentage` (float, nullable)
        Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

      - `items.data.tax_rates.flat_amount` (object, nullable)
        The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

        - `items.data.tax_rates.flat_amount.amount` (integer)
          Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

        - `items.data.tax_rates.flat_amount.currency` (string)
          Three-letter ISO currency code, in lowercase.

      - `items.data.tax_rates.inclusive` (boolean)
        This specifies if the tax rate is inclusive or exclusive.

      - `items.data.tax_rates.jurisdiction` (string, nullable)
        The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

      - `items.data.tax_rates.jurisdiction_level` (enum, nullable)
        The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
        - `city`
        - `country`
        - `county`
        - `district`
        - `multiple`
        - `state`

      - `items.data.tax_rates.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `items.data.tax_rates.metadata` (object, nullable)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `items.data.tax_rates.percentage` (float)
        Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

      - `items.data.tax_rates.rate_type` (enum, nullable)
        Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
        - `flat_amount`
          A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

        - `percentage`
          A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

      - `items.data.tax_rates.state` (string, nullable)
        [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

      - `items.data.tax_rates.tax_type` (enum, nullable)
        The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
        - `amusement_tax`
          Amusement Tax

        - `communications_tax`
          Communications Tax

        - `gst`
          Goods and Services Tax

        - `hst`
          Harmonized Sales Tax

        - `igst`
          Integrated Goods and Services Tax

        - `jct`
          Japanese Consumption Tax

        - `lease_tax`
          Chicago Lease Tax

        - `pst`
          Provincial Sales Tax

        - `qst`
          Quebec Sales Tax

        - `retail_delivery_fee`
          Retail Delivery Fee

        - `rst`
          Retail Sales Tax

        - `sales_tax`
          Sales Tax

        - `service_tax`
          Service Tax

        - `vat`
          Value-Added Tax

  - `items.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `items.url` (string)
    The URL where this list can be accessed.

- `latest_invoice` (string, nullable)
  The most recent invoice this subscription has generated.

- `livemode` (boolean)
  Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

- `metadata` (object)
  Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

- `next_pending_invoice_item_invoice` (timestamp, nullable)
  Specifies the approximate timestamp on which any pending invoice items will be billed according to the schedule provided at `pending_invoice_item_interval`.

- `on_behalf_of` (string, nullable)
  The account (if any) the charge was made on behalf of for charges associated with this subscription. See the [Connect documentation](https://docs.stripe.com/docs/connect/subscriptions.md#on-behalf-of) for details.

- `pause_collection` (object, nullable)
  If specified, payment collection for this subscription will be paused. Note that the subscription status will be unchanged and will not be updated to `paused`. Learn more about [pausing collection](https://docs.stripe.com/docs/billing/subscriptions/pause-payment.md).

  - `pause_collection.behavior` (enum)
    The payment collection behavior for this subscription while paused. One of `keep_as_draft`, `mark_uncollectible`, or `void`.
Possible enum values:
    - `keep_as_draft`
    - `mark_uncollectible`
    - `void`

  - `pause_collection.resumes_at` (timestamp, nullable)
    The time after which the subscription will resume collecting payments.

- `payment_settings` (object, nullable)
  Payment settings passed on to invoices created by the subscription.

  - `payment_settings.payment_method_options` (object, nullable)
    Payment-method-specific configuration to provide to invoices created by the subscription.

    - `payment_settings.payment_method_options.acss_debit` (object, nullable)
      This sub-hash contains details about the Canadian pre-authorized debit payment method options to pass to invoices created by the subscription.

      - `payment_settings.payment_method_options.acss_debit.mandate_options` (object, nullable)
        Additional fields for Mandate creation

        - `payment_settings.payment_method_options.acss_debit.mandate_options.transaction_type` (enum, nullable)
          Transaction type of the mandate.
Possible enum values:
          - `business`
            Transactions are made for business reasons

          - `personal`
            Transactions are made for personal reasons

      - `payment_settings.payment_method_options.acss_debit.verification_method` (enum, nullable)
        Bank account verification method.
Possible enum values:
        - `automatic`
          Instant verification with fallback to microdeposits.

        - `instant`
          Instant verification.

        - `microdeposits`
          Verification using microdeposits.

    - `payment_settings.payment_method_options.bancontact` (object, nullable)
      This sub-hash contains details about the Bancontact payment method options to pass to invoices created by the subscription.

      - `payment_settings.payment_method_options.bancontact.preferred_language` (enum)
        Preferred language of the Bancontact authorization page that the customer is redirected to.
Possible enum values:
        - `de`
          German

        - `en`
          English

        - `fr`
          French

        - `nl`
          Dutch

    - `payment_settings.payment_method_options.card` (object, nullable)
      This sub-hash contains details about the Card payment method options to pass to invoices created by the subscription.

      - `payment_settings.payment_method_options.card.mandate_options` (object, nullable)
        Configuration options for setting up an eMandate for cards issued in India.

        - `payment_settings.payment_method_options.card.mandate_options.amount` (integer, nullable)
          Amount to be charged for future payments.

        - `payment_settings.payment_method_options.card.mandate_options.amount_type` (enum, nullable)
          One of `fixed` or `maximum`. If `fixed`, the `amount` param refers to the exact amount to be charged in future payments. If `maximum`, the amount charged can be up to the value passed for the `amount` param.
Possible enum values:
          - `fixed`
            If `fixed`, the `amount` param refers to the exact amount to be charged in future payments.

          - `maximum`
            If `maximum`, the amount charged can be up to the value passed for the `amount` param.

        - `payment_settings.payment_method_options.card.mandate_options.description` (string, nullable)
          A description of the mandate or subscription that is meant to be displayed to the customer.

      - `payment_settings.payment_method_options.card.network` (enum, nullable)
        Selected network to process this Subscription on. Depends on the available networks of the card attached to the Subscription. Can be only set confirm-time.
Possible enum values:
        - `amex`
        - `cartes_bancaires`
        - `diners`
        - `discover`
        - `eftpos_au`
        - `girocard`
        - `interac`
        - `jcb`
        - `link`
        - `mastercard`
        - `unionpay`
        - `unknown`
        - `visa`

      - `payment_settings.payment_method_options.card.request_three_d_secure` (enum, nullable)
        We strongly recommend that you rely on our SCA Engine to automatically prompt your customers for authentication based on risk level and [other requirements](https://docs.stripe.com/docs/strong-customer-authentication.md). However, if you wish to request 3D Secure based on logic from your own fraud engine, provide this option. Read our guide on [manually requesting 3D Secure](https://docs.stripe.com/docs/payments/3d-secure/authentication-flow.md#manual-three-ds) for more information on how this configuration interacts with Radar and our SCA Engine.
Possible enum values:
        - `any`
          Use `any` to manually request 3DS with a preference for a `frictionless` flow, increasing the likelihood of the authentication being completed without any additional input from the customer. 3DS will always be attempted if it is supported for the card, but Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

        - `automatic`
          (Default) Our SCA Engine automatically prompts your customers for authentication based on risk level and other requirements.

        - `challenge`
          Use `challenge` to request 3DS with a preference for a `challenge` flow, where the customer must respond to a prompt for active authentication. Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

    - `payment_settings.payment_method_options.customer_balance` (object, nullable)
      This sub-hash contains details about the Bank transfer payment method options to pass to invoices created by the subscription.

      - `payment_settings.payment_method_options.customer_balance.bank_transfer` (object, nullable)
        Configuration for the bank transfer funding type, if the `funding_type` is set to `bank_transfer`.

        - `payment_settings.payment_method_options.customer_balance.bank_transfer.eu_bank_transfer` (object, nullable)
          Configuration for eu_bank_transfer funding type.

          - `payment_settings.payment_method_options.customer_balance.bank_transfer.eu_bank_transfer.country` (enum)
            The desired country code of the bank account information. Permitted values include: `BE`, `DE`, `ES`, `FR`, `IE`, or `NL`.
Possible enum values:
            - `BE`
            - `DE`
            - `ES`
            - `FR`
            - `IE`
            - `NL`

        - `payment_settings.payment_method_options.customer_balance.bank_transfer.type` (enum, nullable)
          The bank transfer type that can be used for funding. Permitted values include: `eu_bank_transfer`, `gb_bank_transfer`, `jp_bank_transfer`, `mx_bank_transfer`, or `us_bank_transfer`.

      - `payment_settings.payment_method_options.customer_balance.funding_type` (enum, nullable)
        The funding method type to be used when there are not enough funds in the customer balance. Permitted values include: `bank_transfer`.
Possible enum values:
        - `bank_transfer`

    - `payment_settings.payment_method_options.konbini` (object, nullable)
      This sub-hash contains details about the Konbini payment method options to pass to invoices created by the subscription.

    - `payment_settings.payment_method_options.sepa_debit` (object, nullable)
      This sub-hash contains details about the SEPA Direct Debit payment method options to pass to invoices created by the subscription.

    - `payment_settings.payment_method_options.us_bank_account` (object, nullable)
      This sub-hash contains details about the ACH direct debit payment method options to pass to invoices created by the subscription.

      - `payment_settings.payment_method_options.us_bank_account.financial_connections` (object, nullable)
        Additional fields for Financial Connections Session creation

        - `payment_settings.payment_method_options.us_bank_account.financial_connections.filters` (object, nullable)
          Filter the list of accounts that are allowed to be linked.

          - `payment_settings.payment_method_options.us_bank_account.financial_connections.filters.account_subcategories` (array of enums, nullable)
            The account subcategories to use to filter for possible accounts to link. Valid subcategories are `checking` and `savings`.
Possible enum values:
            - `checking`
              Bank account subcategory is checking

            - `savings`
              Bank account subcategory is savings

        - `payment_settings.payment_method_options.us_bank_account.financial_connections.permissions` (array of enums, nullable)
          The list of permissions to request. The `payment_method` permission must be included.
Possible enum values:
          - `balances`
            Allows accessing balance data from the account.

          - `ownership`
            Allows accessing ownership data from the account.

          - `payment_method`
            Allows the creation of a payment method from the account.

          - `transactions`
            Allows accessing transactions data from the account.

        - `payment_settings.payment_method_options.us_bank_account.financial_connections.prefetch` (array of enums, nullable)
          Data features requested to be retrieved upon account creation.
Possible enum values:
          - `balances`
            Requests to prefetch balance data on accounts collected in this session.

          - `ownership`
            Requests to prefetch ownership data on accounts collected in this session.

          - `transactions`
            Requests to prefetch transaction data on accounts collected in this session.

      - `payment_settings.payment_method_options.us_bank_account.verification_method` (enum, nullable)
        Bank account verification method.
Possible enum values:
        - `automatic`
          Instant verification with fallback to microdeposits.

        - `instant`
          Instant verification only.

        - `microdeposits`
          Verification using microdeposits. Cannot be used with Stripe Checkout, Hosted Invoices, or Payment Element.

  - `payment_settings.payment_method_types` (array of enums, nullable)
    The list of payment method types to provide to every invoice created by the subscription. If not set, Stripe attempts to automatically determine the types to use by looking at the invoice’s default payment method, the subscription’s default payment method, the customer’s default payment method, and your [invoice template settings](https://dashboard.stripe.com/settings/billing/invoice).
Possible enum values:
    - `ach_debit`
      ACH

    - `acss_debit`
      Canadian pre-authorized debit

    - `affirm`
      Affirm

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `amazon_pay`
      Amazon Pay

    - `au_becs_debit`
      BECS Direct Debit

    - `bacs_debit`
      Bacs Direct Debit

    - `bancontact`
      Bancontact

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `boleto`
      Boleto

    - `card`
      Card

    - `cashapp`
      Cash App Pay

    - `crypto`
      Crypto

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `custom`
      Custom

    - `customer_balance`
      Bank transfer

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `eps`
      EPS

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `fpx`
      FPX

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `giropay`
      giropay

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `grabpay`
      GrabPay

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `ideal`
      iDEAL

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `kakao_pay`
      Kakao Pay

    - `klarna`
      Klarna

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `konbini`
      Konbini

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `kr_card`
      Korean card

    - `link`
      Link

    - `multibanco`
      Multibanco

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `naver_pay`
      Naver Pay

    - `nz_bank_account`
      NZ BECS Direct Debit

    - `p24`
      Przelewy24

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `pay_by_bank`
      Pay By Bank

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `payco`
      PAYCO

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `paynow`
      PayNow

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `paypal`
      PayPal

    - `promptpay`
      PromptPay

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `revolut_pay`
      Revolut Pay

    - `sepa_debit`
      SEPA Direct Debit

    - `sofort`
      SOFORT

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `us_bank_account`
      ACH direct debit

    - `wechat_pay`
      WeChat Pay

      If set, the Subscription `collection_method` must be `send_invoice`.

  - `payment_settings.save_default_payment_method` (enum, nullable)
    Configure whether Stripe updates `subscription.default_payment_method` when payment succeeds. Defaults to `off`.
Possible enum values:
    - `off`
      Stripe never sets `subscription.default_payment_method`.

    - `on_subscription`
      Stripe sets `subscription.default_payment_method` when a subscription payment succeeds.

- `pending_invoice_item_interval` (object, nullable)
  Specifies an interval for how often to bill for any pending invoice items. It is analogous to calling [Create an invoice](https://docs.stripe.com/docs/api.md#create_invoice) for the given subscription at the specified interval.

  - `pending_invoice_item_interval.interval` (enum)
    Specifies invoicing frequency. Either `day`, `week`, `month` or `year`.
Possible enum values:
    - `day`
    - `month`
    - `week`
    - `year`

  - `pending_invoice_item_interval.interval_count` (integer)
    The number of intervals between invoices. For example, `interval=month` and `interval_count=3` bills every 3 months. Maximum of one year interval allowed (1 year, 12 months, or 52 weeks).

- `pending_setup_intent` (string, nullable)
  You can use this [SetupIntent](https://docs.stripe.com/docs/api/setup_intents.md) to collect user authentication when creating a subscription without immediate payment or updating a subscription’s payment method, allowing you to optimize for off-session payments. Learn more in the [SCA Migration Guide](https://docs.stripe.com/docs/billing/migration/strong-customer-authentication.md#scenario-2).

- `pending_update` (object, nullable)
  If specified, [pending updates](https://docs.stripe.com/docs/billing/subscriptions/pending-updates.md) that will be applied to the subscription once the `latest_invoice` has been paid.

  - `pending_update.billing_cycle_anchor` (timestamp, nullable)
    If the update is applied, determines the date of the first full invoice, and, for plans with `month` or `year` intervals, the day of the month for subsequent invoices. The timestamp is in UTC format.

  - `pending_update.expires_at` (timestamp)
    The point after which the changes reflected by this update will be discarded and no longer applied.

  - `pending_update.subscription_items` (array of objects, nullable)
    List of subscription items, each with an attached plan, that will be set if the update is applied.

    - `pending_update.subscription_items.id` (string)
      Unique identifier for the object.

    - `pending_update.subscription_items.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `pending_update.subscription_items.billed_until` (timestamp, nullable)
      The time period the subscription item has been billed for.

    - `pending_update.subscription_items.billing_thresholds` (object, nullable)
      Define thresholds at which an invoice will be sent, and the related subscription advanced to a new billing period

      - `pending_update.subscription_items.billing_thresholds.usage_gte` (integer, nullable)
        Usage threshold that triggers the subscription to create an invoice

    - `pending_update.subscription_items.created` (integer)
      Time at which the object was created. Measured in seconds since the Unix epoch.

    - `pending_update.subscription_items.current_period_end` (timestamp)
      The end time of this subscription item’s current billing period.

    - `pending_update.subscription_items.current_period_start` (timestamp)
      The start time of this subscription item’s current billing period.

    - `pending_update.subscription_items.discounts` (array of strings)
      The discounts applied to the subscription item. Subscription item discounts are applied before subscription discounts. Use `expand[]=discounts` to expand each discount.

    - `pending_update.subscription_items.metadata` (object)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `pending_update.subscription_items.price` (object)
      The price the customer is subscribed to.

      - `pending_update.subscription_items.price.id` (string)
        Unique identifier for the object.

      - `pending_update.subscription_items.price.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `pending_update.subscription_items.price.active` (boolean)
        Whether the price can be used for new purchases.

      - `pending_update.subscription_items.price.billing_scheme` (enum)
        Describes how to compute the price per period. Either `per_unit` or `tiered`. `per_unit` indicates that the fixed amount (specified in `unit_amount` or `unit_amount_decimal`) will be charged per unit in `quantity` (for prices with `usage_type=licensed`), or per unit of total usage (for prices with `usage_type=metered`). `tiered` indicates that the unit pricing will be computed using a tiering strategy as defined using the `tiers` and `tiers_mode` attributes.
Possible enum values:
        - `per_unit`
        - `tiered`

      - `pending_update.subscription_items.price.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `pending_update.subscription_items.price.currency` (enum)
        Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

      - `pending_update.subscription_items.price.currency_options` (object, nullable)
        Prices defined in each available currency option. Each key must be a three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) and a [supported currency](https://stripe.com/docs/currencies).

        - `pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount` (object, nullable)
          When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

          - `pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount.maximum` (integer, nullable)
            The maximum unit amount the customer can specify for this item.

          - `pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount.minimum` (integer, nullable)
            The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

          - `pending_update.subscription_items.price.currency_options.<currency>.custom_unit_amount.preset` (integer, nullable)
            The starting unit amount which can be updated by the customer.

        - `pending_update.subscription_items.price.currency_options.<currency>.tax_behavior` (enum, nullable)
          Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
          - `exclusive`
          - `inclusive`
          - `unspecified`

        - `pending_update.subscription_items.price.currency_options.<currency>.tiers` (array of objects, nullable)
          Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

          - `pending_update.subscription_items.price.currency_options.<currency>.tiers.flat_amount` (integer, nullable)
            Price for the entire tier.

          - `pending_update.subscription_items.price.currency_options.<currency>.tiers.flat_amount_decimal` (decimal string, nullable)
            Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

          - `pending_update.subscription_items.price.currency_options.<currency>.tiers.unit_amount` (integer, nullable)
            Per unit price for units relevant to the tier.

          - `pending_update.subscription_items.price.currency_options.<currency>.tiers.unit_amount_decimal` (decimal string, nullable)
            Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

          - `pending_update.subscription_items.price.currency_options.<currency>.tiers.up_to` (integer, nullable)
            Up to and including to this quantity will be contained in the tier.

        - `pending_update.subscription_items.price.currency_options.<currency>.unit_amount` (integer, nullable)
          The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

        - `pending_update.subscription_items.price.currency_options.<currency>.unit_amount_decimal` (decimal string, nullable)
          The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

      - `pending_update.subscription_items.price.custom_unit_amount` (object, nullable)
        When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

        - `pending_update.subscription_items.price.custom_unit_amount.maximum` (integer, nullable)
          The maximum unit amount the customer can specify for this item.

        - `pending_update.subscription_items.price.custom_unit_amount.minimum` (integer, nullable)
          The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

        - `pending_update.subscription_items.price.custom_unit_amount.preset` (integer, nullable)
          The starting unit amount which can be updated by the customer.

      - `pending_update.subscription_items.price.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `pending_update.subscription_items.price.lookup_key` (string, nullable)
        A lookup key used to retrieve prices dynamically from a static string. This may be up to 200 characters.

      - `pending_update.subscription_items.price.metadata` (object)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `pending_update.subscription_items.price.nickname` (string, nullable)
        A brief description of the price, hidden from customers.

      - `pending_update.subscription_items.price.product` (string)
        The ID of the product this price is associated with.

      - `pending_update.subscription_items.price.recurring` (object, nullable)
        The recurring components of a price such as `interval` and `usage_type`.

        - `pending_update.subscription_items.price.recurring.interval` (enum)
          The frequency at which a subscription is billed. One of `day`, `week`, `month` or `year`.

        - `pending_update.subscription_items.price.recurring.interval_count` (integer)
          The number of intervals (specified in the `interval` attribute) between subscription billings. For example, `interval=month` and `interval_count=3` bills every 3 months.

        - `pending_update.subscription_items.price.recurring.meter` (string, nullable)
          The meter tracking the usage of a metered price

        - `pending_update.subscription_items.price.recurring.usage_type` (enum)
          Configures how the quantity per period should be determined. Can be either `metered` or `licensed`. `licensed` automatically bills the `quantity` set when adding it to a subscription. `metered` aggregates the total usage based on usage records. Defaults to `licensed`.

      - `pending_update.subscription_items.price.tax_behavior` (enum, nullable)
        Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
        - `exclusive`
        - `inclusive`
        - `unspecified`

      - `pending_update.subscription_items.price.tiers` (array of objects, nullable)
        Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

        - `pending_update.subscription_items.price.tiers.flat_amount` (integer, nullable)
          Price for the entire tier.

        - `pending_update.subscription_items.price.tiers.flat_amount_decimal` (decimal string, nullable)
          Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

        - `pending_update.subscription_items.price.tiers.unit_amount` (integer, nullable)
          Per unit price for units relevant to the tier.

        - `pending_update.subscription_items.price.tiers.unit_amount_decimal` (decimal string, nullable)
          Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

        - `pending_update.subscription_items.price.tiers.up_to` (integer, nullable)
          Up to and including to this quantity will be contained in the tier.

      - `pending_update.subscription_items.price.tiers_mode` (enum, nullable)
        Defines if the tiering price should be `graduated` or `volume` based. In `volume`-based tiering, the maximum quantity within a period determines the per unit price. In `graduated` tiering, pricing can change as the quantity grows.
Possible enum values:
        - `graduated`
        - `volume`

      - `pending_update.subscription_items.price.transform_quantity` (object, nullable)
        Apply a transformation to the reported usage or set quantity before computing the amount billed. Cannot be combined with `tiers`.

        - `pending_update.subscription_items.price.transform_quantity.divide_by` (integer)
          Divide usage by this number.

        - `pending_update.subscription_items.price.transform_quantity.round` (enum)
          After division, either round the result `up` or `down`.

      - `pending_update.subscription_items.price.type` (enum)
        One of `one_time` or `recurring` depending on whether the price is for a one-time purchase or a recurring (subscription) purchase.
Possible enum values:
        - `one_time`
        - `recurring`

      - `pending_update.subscription_items.price.unit_amount` (integer, nullable)
        The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

      - `pending_update.subscription_items.price.unit_amount_decimal` (decimal string, nullable)
        The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

    - `pending_update.subscription_items.quantity` (integer, nullable)
      The [quantity](https://docs.stripe.com/docs/subscriptions/quantities.md) of the plan to which the customer should be subscribed.

    - `pending_update.subscription_items.subscription` (string)
      The `subscription` this `subscription_item` belongs to.

    - `pending_update.subscription_items.tax_rates` (array of objects, nullable)
      The tax rates which apply to this `subscription_item`. When set, the `default_tax_rates` on the subscription do not apply to this `subscription_item`.

      - `pending_update.subscription_items.tax_rates.id` (string)
        Unique identifier for the object.

      - `pending_update.subscription_items.tax_rates.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `pending_update.subscription_items.tax_rates.active` (boolean)
        Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

      - `pending_update.subscription_items.tax_rates.country` (string, nullable)
        Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

      - `pending_update.subscription_items.tax_rates.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `pending_update.subscription_items.tax_rates.description` (string, nullable)
        An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

      - `pending_update.subscription_items.tax_rates.display_name` (string)
        The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

      - `pending_update.subscription_items.tax_rates.effective_percentage` (float, nullable)
        Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

      - `pending_update.subscription_items.tax_rates.flat_amount` (object, nullable)
        The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

        - `pending_update.subscription_items.tax_rates.flat_amount.amount` (integer)
          Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

        - `pending_update.subscription_items.tax_rates.flat_amount.currency` (string)
          Three-letter ISO currency code, in lowercase.

      - `pending_update.subscription_items.tax_rates.inclusive` (boolean)
        This specifies if the tax rate is inclusive or exclusive.

      - `pending_update.subscription_items.tax_rates.jurisdiction` (string, nullable)
        The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

      - `pending_update.subscription_items.tax_rates.jurisdiction_level` (enum, nullable)
        The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
        - `city`
        - `country`
        - `county`
        - `district`
        - `multiple`
        - `state`

      - `pending_update.subscription_items.tax_rates.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `pending_update.subscription_items.tax_rates.metadata` (object, nullable)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `pending_update.subscription_items.tax_rates.percentage` (float)
        Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

      - `pending_update.subscription_items.tax_rates.rate_type` (enum, nullable)
        Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
        - `flat_amount`
          A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

        - `percentage`
          A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

      - `pending_update.subscription_items.tax_rates.state` (string, nullable)
        [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

      - `pending_update.subscription_items.tax_rates.tax_type` (enum, nullable)
        The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
        - `amusement_tax`
          Amusement Tax

        - `communications_tax`
          Communications Tax

        - `gst`
          Goods and Services Tax

        - `hst`
          Harmonized Sales Tax

        - `igst`
          Integrated Goods and Services Tax

        - `jct`
          Japanese Consumption Tax

        - `lease_tax`
          Chicago Lease Tax

        - `pst`
          Provincial Sales Tax

        - `qst`
          Quebec Sales Tax

        - `retail_delivery_fee`
          Retail Delivery Fee

        - `rst`
          Retail Sales Tax

        - `sales_tax`
          Sales Tax

        - `service_tax`
          Service Tax

        - `vat`
          Value-Added Tax

  - `pending_update.trial_end` (timestamp, nullable)
    Unix timestamp representing the end of the trial period the customer will get before being charged for the first time, if the update is applied.

  - `pending_update.trial_from_plan` (boolean, nullable)
    Indicates if a plan’s `trial_period_days` should be applied to the subscription. Setting `trial_end` per subscription is preferred, and this defaults to `false`. Setting this flag to `true` together with `trial_end` is not allowed. See [Using trial periods on subscriptions](https://docs.stripe.com/docs/billing/subscriptions/trials.md) to learn more.

- `schedule` (string, nullable)
  The schedule attached to the subscription

- `start_date` (timestamp)
  Date when the subscription was first created. The date might differ from the `created` date due to backdating.

- `status` (enum)
  Possible values are `incomplete`, `incomplete_expired`, `trialing`, `active`, `past_due`, `canceled`, `unpaid`, or `paused`.

  For `collection_method=charge_automatically` a subscription moves into `incomplete` if the initial payment attempt fails. A subscription in this status can only have metadata and default_source updated. Once the first invoice is paid, the subscription moves into an `active` status. If the first invoice is not paid within 23 hours, the subscription transitions to `incomplete_expired`. This is a terminal status, the open invoice will be voided and no further invoices will be generated.

  A subscription that is currently in a trial period is `trialing` and moves to `active` when the trial period is over.

  A subscription can only enter a `paused` status [when a trial ends without a payment method](https://docs.stripe.com/docs/billing/subscriptions/trials.md#create-free-trials-without-payment). A `paused` subscription doesn’t generate invoices and can be resumed after your customer adds their payment method. The `paused` status is different from [pausing collection](https://docs.stripe.com/docs/billing/subscriptions/pause-payment.md), which still generates invoices and leaves the subscription’s status unchanged.

  If subscription `collection_method=charge_automatically`, it becomes `past_due` when payment is required but cannot be paid (due to failed payment or awaiting additional user actions). Once Stripe has exhausted all payment retry attempts, the subscription will become `canceled` or `unpaid` (depending on your subscriptions settings).

  If subscription `collection_method=send_invoice` it becomes `past_due` when its invoice is not paid by the due date, and `canceled` or `unpaid` if it is still not paid by an additional deadline after that. Note that when a subscription has a status of `unpaid`, no subsequent invoices will be attempted (invoices will be created, but then immediately automatically closed). After receiving updated payment information from a customer, you may choose to reopen and pay their closed invoices.

- `test_clock` (string, nullable)
  ID of the test clock this subscription belongs to.

- `transfer_data` (object, nullable)
  The account (if any) the subscription’s payments will be attributed to for tax reporting, and where funds from each payment will be transferred to for each of the subscription’s invoices.

  - `transfer_data.amount_percent` (float, nullable)
    A non-negative decimal between 0 and 100, with at most two decimal places. This represents the percentage of the subscription invoice total that will be transferred to the destination account. By default, the entire amount is transferred to the destination.

  - `transfer_data.destination` (string)
    The account where funds from the payment will be transferred to upon payment success.

- `trial_end` (timestamp, nullable)
  If the subscription has a trial, the end of that trial.

- `trial_settings` (object, nullable)
  Settings related to subscription trials.

  - `trial_settings.end_behavior` (object)
    Defines how the subscription should behave when the user’s free trial ends.

    - `trial_settings.end_behavior.missing_payment_method` (enum)
      Indicates how the subscription should change when the trial ends if the user did not provide a payment method.
Possible enum values:
      - `cancel`
        Cancel the subscription if a payment method is not attached when the trial ends.

      - `create_invoice`
        Create an invoice when the trial ends, even if the user did not set up a payment method.

      - `pause`
        Pause the subscription if a payment method is not attached when the trial ends.

- `trial_start` (timestamp, nullable)
  If the subscription has a trial, the beginning of that trial.

### The Subscription object

```json
{
  "id": "sub_1MowQVLkdIwHu7ixeRlqHVzs",
  "object": "subscription",
  "application": null,
  "application_fee_percent": null,
  "automatic_tax": {
    "enabled": false,
    "liability": null
  },
  "billing_cycle_anchor": 1679609767,
  "billing_schedules": [],
  "billing_thresholds": null,
  "cancel_at": null,
  "cancel_at_period_end": false,
  "canceled_at": null,
  "cancellation_details": {
    "comment": null,
    "feedback": null,
    "reason": null
  },
  "collection_method": "charge_automatically",
  "created": 1679609767,
  "currency": "usd",
  "customer": "cus_Na6dX7aXxi11N4",
  "days_until_due": null,
  "default_payment_method": null,
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discount": null,
  "discounts": null,
  "ended_at": null,
  "invoice_settings": {
    "issuer": {
      "type": "self"
    }
  },
  "items": {
    "object": "list",
    "data": [
      {
        "id": "si_Na6dzxczY5fwHx",
        "object": "subscription_item",
        "billed_until": 1682288167,
        "billing_thresholds": null,
        "created": 1679609768,
        "current_period_end": 1682288167,
        "current_period_start": 1679609767,
        "metadata": {},
        "plan": {
          "id": "price_1MowQULkdIwHu7ixraBm864M",
          "object": "plan",
          "active": true,
          "aggregate_usage": null,
          "amount": 1000,
          "amount_decimal": "1000",
          "billing_scheme": "per_unit",
          "created": 1679609766,
          "currency": "usd",
          "discounts": null,
          "interval": "month",
          "interval_count": 1,
          "livemode": false,
          "metadata": {},
          "nickname": null,
          "product": "prod_Na6dGcTsmU0I4R",
          "tiers_mode": null,
          "transform_usage": null,
          "trial_period_days": null,
          "usage_type": "licensed"
        },
        "price": {
          "id": "price_1MowQULkdIwHu7ixraBm864M",
          "object": "price",
          "active": true,
          "billing_scheme": "per_unit",
          "created": 1679609766,
          "currency": "usd",
          "custom_unit_amount": null,
          "livemode": false,
          "lookup_key": null,
          "metadata": {},
          "nickname": null,
          "product": "prod_Na6dGcTsmU0I4R",
          "recurring": {
            "aggregate_usage": null,
            "interval": "month",
            "interval_count": 1,
            "trial_period_days": null,
            "usage_type": "licensed"
          },
          "tax_behavior": "unspecified",
          "tiers_mode": null,
          "transform_quantity": null,
          "type": "recurring",
          "unit_amount": 1000,
          "unit_amount_decimal": "1000"
        },
        "quantity": 1,
        "subscription": "sub_1MowQVLkdIwHu7ixeRlqHVzs",
        "tax_rates": []
      }
    ],
    "has_more": false,
    "total_count": 1,
    "url": "/v1/subscription_items?subscription=sub_1MowQVLkdIwHu7ixeRlqHVzs"
  },
  "latest_invoice": "in_1MowQWLkdIwHu7ixuzkSPfKd",
  "livemode": false,
  "metadata": {},
  "next_pending_invoice_item_invoice": null,
  "on_behalf_of": null,
  "pause_collection": null,
  "payment_settings": {
    "payment_method_options": null,
    "payment_method_types": null,
    "save_default_payment_method": "off"
  },
  "pending_invoice_item_interval": null,
  "pending_setup_intent": null,
  "pending_update": null,
  "schedule": null,
  "start_date": 1679609767,
  "status": "active",
  "test_clock": null,
  "transfer_data": null,
  "trial_end": null,
  "trial_settings": {
    "end_behavior": {
      "missing_payment_method": "create_invoice"
    }
  },
  "trial_start": null
}
```

# The PaymentIntent object

## Attributes

- `id` (string)
  Unique identifier for the object.

- `object` (string)
  String representing the object’s type. Objects of the same type share the same value.

- `amount` (integer)
  Amount intended to be collected by this PaymentIntent. A positive integer representing how much to charge in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal) (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The minimum amount is $0.50 US or [equivalent in charge currency](https://docs.stripe.com/docs/currencies.md#minimum-and-maximum-charge-amounts). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

- `amount_capturable` (integer)
  Amount that can be captured from this PaymentIntent.

- `amount_details` (object, nullable)
  Provides industry-specific information about the amount.

  - `amount_details.discount_amount` (integer, nullable)
    The total discount applied on the transaction represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal). An integer greater than 0.

    This field is mutually exclusive with the `amount_details[line_items][#][discount_amount]` field.

  - `amount_details.line_items` (object, nullable)
    A list of line items, each containing information about a product in the PaymentIntent. There is a maximum of 100 line items.

    - `amount_details.line_items.object` (string)
      String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

    - `amount_details.line_items.data` (array of objects)
      Details about each object.

      - `amount_details.line_items.data.id` (string)
        Unique identifier for the object.

      - `amount_details.line_items.data.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `amount_details.line_items.data.discount_amount` (integer, nullable)
        The discount applied on this line item represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal). An integer greater than 0.

        This field is mutually exclusive with the `amount_details[discount_amount]` field.

      - `amount_details.line_items.data.payment_method_options` (object, nullable)
        Payment method-specific information for line items.

        - `amount_details.line_items.data.payment_method_options.card` (object, nullable)
          This sub-hash contains line item details that are specific to `card` payment method."

        - `amount_details.line_items.data.payment_method_options.card_present` (object, nullable)
          This sub-hash contains line item details that are specific to `card_present` payment method."

        - `amount_details.line_items.data.payment_method_options.klarna` (object, nullable)
          This sub-hash contains line item details that are specific to `klarna` payment method."

        - `amount_details.line_items.data.payment_method_options.paypal` (object, nullable)
          This sub-hash contains line item details that are specific to `paypal` payment method."

          - `amount_details.line_items.data.payment_method_options.paypal.category` (enum, nullable)
            Type of the line item.
Possible enum values:
            - `digital_goods`
              Goods that are stored, delivered, and used in their electronic format.

            - `donation`
              A contribution or gift for which no good or service is exchanged, usually to a not for profit organization.

            - `physical_goods`
              A tangible item that can be shipped with proof of delivery.

          - `amount_details.line_items.data.payment_method_options.paypal.description` (string, nullable)
            Description of the line item.

          - `amount_details.line_items.data.payment_method_options.paypal.sold_by` (string, nullable)
            The Stripe account ID of the connected account that sells the item. This is only needed when using [Separate Charges and Transfers](https://docs.stripe.com/connect/separate-charges-and-transfers.md).

      - `amount_details.line_items.data.product_code` (string, nullable)
        The product code of the line item, such as an SKU. Required for L3 rates. At most 12 characters long.

      - `amount_details.line_items.data.product_name` (string)
        The product name of the line item. Required for L3 rates. At most 1024 characters long.

        For Cards, this field is truncated to 26 alphanumeric characters before being sent to the card networks. For Paypal, this field is truncated to 127 characters.

      - `amount_details.line_items.data.quantity` (integer)
        The quantity of items. Required for L3 rates. An integer greater than 0.

      - `amount_details.line_items.data.tax` (object, nullable)
        Contains information about the tax on the item.

        - `amount_details.line_items.data.tax.total_tax_amount` (integer)
          The total amount of tax on the transaction represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal). Required for L2 rates. An integer greater than or equal to 0.

          This field is mutually exclusive with the `amount_details[line_items][#][tax][total_tax_amount]` field.

      - `amount_details.line_items.data.unit_cost` (integer)
        The unit cost of the line item represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal). Required for L3 rates. An integer greater than or equal to 0.

      - `amount_details.line_items.data.unit_of_measure` (string, nullable)
        A unit of measure for the line item, such as gallons, feet, meters, etc. Required for L3 rates. At most 12 alphanumeric characters long.

    - `amount_details.line_items.has_more` (boolean)
      True if this list has another page of items after this one that can be fetched.

    - `amount_details.line_items.url` (string)
      The URL where this list can be accessed.

  - `amount_details.shipping` (object, nullable)
    Contains information about the shipping portion of the amount.

    - `amount_details.shipping.amount` (integer, nullable)
      If a physical good is being shipped, the cost of shipping represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal). An integer greater than or equal to 0.

    - `amount_details.shipping.from_postal_code` (string, nullable)
      If a physical good is being shipped, the postal code of where it is being shipped from. At most 10 alphanumeric characters long, hyphens are allowed.

    - `amount_details.shipping.to_postal_code` (string, nullable)
      If a physical good is being shipped, the postal code of where it is being shipped to. At most 10 alphanumeric characters long, hyphens are allowed.

  - `amount_details.tax` (object, nullable)
    Contains information about the tax portion of the amount.

    - `amount_details.tax.total_tax_amount` (integer, nullable)
      The total amount of tax on the transaction represented in the [smallest currency unit](https://docs.stripe.com/docs/currencies.md#zero-decimal). Required for L2 rates. An integer greater than or equal to 0.

      This field is mutually exclusive with the `amount_details[line_items][#][tax][total_tax_amount]` field.

  - `amount_details.tip` (object, nullable)
    Portion of the amount that corresponds to a tip.

    - `amount_details.tip.amount` (integer, nullable)
      Portion of the amount that corresponds to a tip.

- `amount_received` (integer)
  Amount that this PaymentIntent collects.

- `application` (string, nullable)
  ID of the Connect application that created the PaymentIntent.

- `application_fee_amount` (integer, nullable)
  The amount of the application fee (if any) that will be requested to be applied to the payment and transferred to the application owner’s Stripe account. The amount of the application fee collected will be capped at the total amount captured. For more information, see the PaymentIntents [use case for connected accounts](https://docs.stripe.com/docs/payments/connected-accounts.md).

- `automatic_payment_methods` (object, nullable)
  Settings to configure compatible payment methods from the [Stripe Dashboard](https://dashboard.stripe.com/settings/payment_methods)

  - `automatic_payment_methods.allow_redirects` (enum, nullable)
    Controls whether this PaymentIntent will accept redirect-based payment methods.

    Redirect-based payment methods may require your customer to be redirected to a payment method’s app or site for authentication or additional steps. To [confirm](https://docs.stripe.com/docs/api/payment_intents/confirm.md) this PaymentIntent, you may be required to provide a `return_url` to redirect customers back to your site after they authenticate or complete the payment.
Possible enum values:
    - `always`
      (Default) This PaymentIntent will accept redirect-based payment methods. `return_url` may be required to       [confirm](https://docs.stripe.com/docs/api/payment_intents/confirm.md) this PaymentIntent.

    - `never`
      This PaymentIntent will not accept redirect-based payment methods. Payment methods that require redirect will       be filtered. `return_url` will not be required to [confirm](https://docs.stripe.com/docs/api/payment_intents/confirm.md) this       PaymentIntent.

  - `automatic_payment_methods.enabled` (boolean)
    Automatically calculates compatible payment methods

- `canceled_at` (timestamp, nullable)
  Populated when `status` is `canceled`, this is the time at which the PaymentIntent was canceled. Measured in seconds since the Unix epoch.

- `cancellation_reason` (enum, nullable)
  Reason for cancellation of this PaymentIntent, either user-provided (`duplicate`, `fraudulent`, `requested_by_customer`, or `abandoned`) or generated by Stripe internally (`failed_invoice`, `void_invoice`, `automatic`, or `expired`).
Possible enum values:
  - `abandoned`
  - `automatic`
  - `duplicate`
  - `expired`
  - `failed_invoice`
  - `fraudulent`
  - `requested_by_customer`
  - `void_invoice`

- `capture_method` (enum)
  Controls when the funds will be captured from the customer’s account.
Possible enum values:
  - `automatic`
    Stripe automatically captures funds when the customer authorizes the payment.

  - `automatic_async`
    (Default) Stripe asynchronously captures funds when the customer authorizes the payment. Recommended over `capture_method=automatic` due to improved latency. Read the [integration guide](https://docs.stripe.com/docs/payments/payment-intents/asynchronous-capture.md) for more information.

  - `manual`
    Place a hold on the funds when the customer authorizes the payment, but [don’t capture the funds until later](https://docs.stripe.com/docs/payments/capture-later.md). (Not all payment methods support this.)

- `client_secret` (string, nullable)
  The client secret of this PaymentIntent. Used for client-side retrieval using a publishable key.

  The client secret can be used to complete a payment from your frontend. It should not be stored, logged, or exposed to anyone other than the customer. Make sure that you have TLS enabled on any page that includes the client secret.

  Refer to our docs to [accept a payment](https://docs.stripe.com/docs/payments/accept-a-payment.md?ui=elements) and learn about how `client_secret` should be handled.

- `confirmation_method` (enum)
  Describes whether we can confirm this PaymentIntent automatically, or if it requires customer action to confirm the payment.
Possible enum values:
  - `automatic`
    (Default) PaymentIntent can be confirmed using a publishable key. After `next_action`s are handled, no additional confirmation is required to complete the payment.

  - `manual`
    All payment attempts must be made using a secret key. The PaymentIntent returns to the `requires_confirmation` state after handling `next_action`s, and requires your server to initiate each payment attempt with an explicit confirmation.

- `created` (timestamp)
  Time at which the object was created. Measured in seconds since the Unix epoch.

- `currency` (enum)
  Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

- `customer` (string, nullable)
  ID of the Customer this PaymentIntent belongs to, if one exists.

  Payment methods attached to other Customers cannot be used with this PaymentIntent.

  If [setup_future_usage](https://docs.stripe.com/api/payment_intents/object.md#payment_intent_object-setup_future_usage) is set and this PaymentIntent’s payment method is not `card_present`, then the payment method attaches to the Customer after the PaymentIntent has been confirmed and any required actions from the user are complete. If the payment method is `card_present` and isn’t a digital wallet, then a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card is created and attached to the Customer instead.

- `description` (string, nullable)
  An arbitrary string attached to the object. Often useful for displaying to users.

- `excluded_payment_method_types` (array of enums, nullable)
  The list of payment method types to exclude from use with this payment.
Possible enum values:
  - `acss_debit`
    [Pre-authorized debit payments](https://docs.stripe.com/docs/payments/acss-debit.md) are used to debit Canadian bank accounts through the Automated Clearing Settlement System (ACSS).

  - `affirm`
    [Affirm](https://docs.stripe.com/docs/payments/affirm.md) is a buy now, pay later payment method in the US.

  - `afterpay_clearpay`
    [Afterpay / Clearpay](https://docs.stripe.com/docs/payments/afterpay-clearpay.md) is a buy now, pay later payment method used in Australia, Canada, France, New Zealand, Spain, the UK, and the US.

  - `alipay`
    [Alipay](https://docs.stripe.com/docs/payments/alipay.md) is a digital wallet payment method used in China.

  - `alma`
    [Alma](https://docs.stripe.com/docs/payments/alma.md) is a Buy Now, Pay Later payment method that lets customers pay in 2, 3, or 4 installments.

  - `amazon_pay`
    [Amazon Pay](https://docs.stripe.com/docs/payments/amazon-pay.md) is a Wallet payment method that lets hundreds of millions of Amazon customers pay their way, every day.

  - `au_becs_debit`
    [BECS Direct Debit](https://docs.stripe.com/docs/payments/au-becs-debit.md) is used to debit Australian bank accounts through the Bulk Electronic Clearing System (BECS).

  - `bacs_debit`
    [Bacs Direct Debit](https://docs.stripe.com/docs/payments/payment-methods/bacs-debit.md) is used to debit UK bank accounts.

  - `bancontact`
    [Bancontact](https://docs.stripe.com/docs/payments/bancontact.md) is a bank redirect payment method used in Belgium.

  - `billie`
    [Billie](https://docs.stripe.com/docs/payments/billie.md) is a payment method.

  - `blik`
    [BLIK](https://docs.stripe.com/docs/payments/blik.md) is a single-use payment method common in Poland.

  - `boleto`
    [Boleto](https://docs.stripe.com/docs/payments/boleto.md) is a voucher-based payment method used in Brazil.

  - `card`
    [Card payments](https://docs.stripe.com/docs/payments/payment-methods/overview.md#cards) are supported through many networks, card brands, and select Link funding sources.

  - `card_present`
    [Stripe Terminal](https://docs.stripe.com/docs/terminal/payments/collect-card-payment.md) is used to collect in-person card payments.

  - `cashapp`
    [Cash App Pay](https://docs.stripe.com/docs/payments/cash-app-pay.md) enables customers to frictionlessly authenticate payments in the Cash App using their stored balance or linked card.

  - `crypto`
    [Stablecoin payments](https://docs.stripe.com/docs/payments/stablecoin-payments.md) enable customers to pay in stablecoins like USDC from 100s of wallets including Phantom and Metamask.

  - `customer_balance`
    Uses a customer’s [cash balance](https://docs.stripe.com/docs/payments/customer-balance.md) for the payment.

  - `eps`
    [EPS](https://docs.stripe.com/docs/payments/eps.md) is an Austria-based bank redirect payment method.

  - `fpx`
    [FPX](https://docs.stripe.com/docs/payments/fpx.md) is a Malaysia-based bank redirect payment method.

  - `giropay`
    [giropay](https://docs.stripe.com/docs/payments/giropay.md) is a German bank redirect payment method.

  - `grabpay`
    [GrabPay](https://docs.stripe.com/docs/payments/grabpay.md) is a digital wallet payment method used in Southeast Asia.

  - `ideal`
    [iDEAL](https://docs.stripe.com/docs/payments/ideal.md) is a Netherlands-based bank redirect payment method.

  - `interac_present`
    [Stripe Terminal](https://docs.stripe.com/docs/terminal/payments/collect-card-payment.md) accepts [Interac](https://docs.stripe.com/docs/terminal/payments/regional.md?integration-country=CA#interac-payments) debit cards for in-person payments in Canada.

  - `kakao_pay`
    [Kakao Pay](https://docs.stripe.com/docs/payments/kakao-pay/accept-a-payment.md) is a digital wallet payment method used in South Korea.

  - `klarna`
    [Klarna](https://docs.stripe.com/docs/payments/klarna.md) is a global buy now, pay later payment method.

  - `konbini`
    [Konbini](https://docs.stripe.com/docs/payments/konbini.md) is a cash-based voucher payment method used in Japan.

  - `kr_card`
    [Korean cards](https://docs.stripe.com/docs/payments/kr-card/accept-a-payment.md) enables customers to accept local credit and debit cards in South Korea.

  - `mb_way`
    MB WAY is a payment method.

  - `mobilepay`
    [MobilePay](https://docs.stripe.com/docs/payments/mobilepay.md) is a Nordic card-passthrough wallet payment method where customers authorize the payment in the MobilePay application.

  - `multibanco`
    [Multibanco](https://docs.stripe.com/docs/payments/multibanco.md) is a voucher payment method

  - `naver_pay`
    [Naver Pay](https://docs.stripe.com/docs/payments/naver-pay/accept-a-payment.md) is a digital wallet payment method used in South Korea.

  - `nz_bank_account`
    [New Zealand BECS Direct Debit](https://docs.stripe.com/docs/payments/nz-bank-account.md) is used to debit New Zealand bank accounts through the Bulk Electronic Clearing System (BECS).

  - `oxxo`
    [OXXO](https://docs.stripe.com/docs/payments/oxxo.md) is a cash-based voucher payment method used in Mexico.

  - `p24`
    [Przelewy24](https://docs.stripe.com/docs/payments/p24.md) is a bank redirect payment method used in Poland.

  - `pay_by_bank`
    [Pay By Bank](https://docs.stripe.com/docs/payments/pay-by-bank.md) is an open banking payment method in the UK.

  - `payco`
    [PAYCO](https://docs.stripe.com/docs/payments/payco/accept-a-payment.md) is a digital wallet payment method used in South Korea.

  - `paynow`
    [PayNow](https://docs.stripe.com/docs/payments/paynow.md) is a QR code payment method used in Singapore.

  - `paypal`
    [PayPal](https://docs.stripe.com/docs/payments/paypal.md) is an online wallet and redirect payment method commonly used in Europe.

  - `paypay`
    [PayPay](https://docs.stripe.com/docs/payments/paypay.md) is a payment method.

  - `pix`
    [Pix](https://docs.stripe.com/docs/payments/pix.md) is an instant bank transfer payment method in Brazil.

  - `promptpay`
    [PromptPay](https://docs.stripe.com/docs/payments/promptpay.md) is an instant funds transfer service popular in Thailand.

  - `revolut_pay`
    [Revolut Pay](https://docs.stripe.com/docs/payments/revolut-pay.md) is a digital wallet payment method used in the United Kingdom.

  - `samsung_pay`
    [Samsung Pay](https://docs.stripe.com/docs/payments/samsung-pay/accept-a-payment.md) is a digital wallet payment method used in South Korea.

  - `satispay`
    [Satispay](https://docs.stripe.com/docs/payments/satispay.md) is a payment method.

  - `sepa_debit`
    [SEPA Direct Debit](https://docs.stripe.com/docs/payments/sepa-debit.md) is used to debit bank accounts within the Single Euro Payments Area (SEPA) region.

  - `sofort`
    [Sofort](https://docs.stripe.com/docs/payments/sofort.md) is a bank redirect payment method used in Europe.

  - `swish`
    [Swish](https://docs.stripe.com/docs/payments/swish.md) is a Swedish wallet payment method where customers authorize the payment in the Swish application.

  - `twint`
    [TWINT](https://docs.stripe.com/docs/payments/twint.md) is a single-use payment method used in Switzerland.

  - `us_bank_account`
    [ACH Direct Debit](https://docs.stripe.com/docs/payments/ach-direct-debit.md) is used to debit US bank accounts through the Automated Clearing House (ACH) payments system.

  - `wechat_pay`
    [WeChat Pay](https://docs.stripe.com/docs/payments/wechat-pay.md) is a digital wallet payment method based in China.

  - `zip`
    [Zip](https://docs.stripe.com/docs/payments/zip.md) is a Buy now, pay later Payment Method

- `hooks` (object, nullable)
  Automations to be run during the PaymentIntent lifecycle

  - `hooks.inputs` (object, nullable)
    Arguments passed in automations

    - `hooks.inputs.tax` (object, nullable)
      Tax arguments

      - `hooks.inputs.tax.calculation` (string)
        The [TaxCalculation](https://docs.stripe.com/docs/api/tax/calculations.md) id

- `last_payment_error` (object, nullable)
  The payment error encountered in the previous PaymentIntent confirmation. It will be cleared if the PaymentIntent is later updated for any reason.

  - `last_payment_error.advice_code` (string, nullable)
    For card errors resulting from a card issuer decline, a short string indicating [how to proceed with an error](https://docs.stripe.com/docs/declines.md#retrying-issuer-declines) if they provide one.

  - `last_payment_error.charge` (string, nullable)
    For card errors, the ID of the failed charge.

  - `last_payment_error.code` (string, nullable)
    For some errors that could be handled programmatically, a short string indicating the [error code](https://docs.stripe.com/docs/error-codes.md) reported.

  - `last_payment_error.decline_code` (string, nullable)
    For card errors resulting from a card issuer decline, a short string indicating the [card issuer’s reason for the decline](https://docs.stripe.com/docs/declines.md#issuer-declines) if they provide one.

  - `last_payment_error.doc_url` (string, nullable)
    A URL to more information about the [error code](https://docs.stripe.com/docs/error-codes.md) reported.

  - `last_payment_error.message` (string, nullable)
    A human-readable message providing more details about the error. For card errors, these messages can be shown to your users.

  - `last_payment_error.network_advice_code` (string, nullable)
    For card errors resulting from a card issuer decline, a 2 digit code which indicates the advice given to merchant by the card network on how to proceed with an error.

  - `last_payment_error.network_decline_code` (string, nullable)
    For payments declined by the network, an alphanumeric code which indicates the reason the payment failed.

  - `last_payment_error.param` (string, nullable)
    If the error is parameter-specific, the parameter related to the error. For example, you can use this to display a message near the correct form field.

  - `last_payment_error.payment_method` (object, nullable)
    The [PaymentMethod object](https://docs.stripe.com/docs/api/payment_methods/object.md) for errors returned on a request involving a PaymentMethod.

    - `last_payment_error.payment_method.id` (string)
      Unique identifier for the object.

    - `last_payment_error.payment_method.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `last_payment_error.payment_method.acss_debit` (object, nullable)
      If this is an `acss_debit` PaymentMethod, this hash contains details about the ACSS Debit payment method.

      - `last_payment_error.payment_method.acss_debit.bank_name` (string, nullable)
        Name of the bank associated with the bank account.

      - `last_payment_error.payment_method.acss_debit.fingerprint` (string, nullable)
        Uniquely identifies this particular bank account. You can use this attribute to check whether two bank accounts are the same.

      - `last_payment_error.payment_method.acss_debit.institution_number` (string, nullable)
        Institution number of the bank account.

      - `last_payment_error.payment_method.acss_debit.last4` (string, nullable)
        Last four digits of the bank account number.

      - `last_payment_error.payment_method.acss_debit.transit_number` (string, nullable)
        Transit number of the bank account.

    - `last_payment_error.payment_method.affirm` (object, nullable)
      If this is an `affirm` PaymentMethod, this hash contains details about the Affirm payment method.

    - `last_payment_error.payment_method.afterpay_clearpay` (object, nullable)
      If this is an `AfterpayClearpay` PaymentMethod, this hash contains details about the AfterpayClearpay payment method.

    - `last_payment_error.payment_method.alipay` (object, nullable)
      If this is an `Alipay` PaymentMethod, this hash contains details about the Alipay payment method.

    - `last_payment_error.payment_method.allow_redisplay` (enum, nullable)
      This field indicates whether this payment method can be shown again to its customer in a checkout flow. Stripe products such as Checkout and Elements use this field to determine whether a payment method can be shown as a saved payment method in a checkout flow. The field defaults to “unspecified”.
Possible enum values:
      - `always`
        Use `always` to indicate that this payment method can always be shown to a customer in a checkout flow.

      - `limited`
        Use `limited` to indicate that this payment method can’t always be shown to a customer in a checkout flow. For example, it can only be shown in the context of a specific subscription.

      - `unspecified`
        This is the default value for payment methods where `allow_redisplay` wasn’t set.

    - `last_payment_error.payment_method.alma` (object, nullable)
      If this is a Alma PaymentMethod, this hash contains details about the Alma payment method.

    - `last_payment_error.payment_method.amazon_pay` (object, nullable)
      If this is a AmazonPay PaymentMethod, this hash contains details about the AmazonPay payment method.

    - `last_payment_error.payment_method.au_becs_debit` (object, nullable)
      If this is an `au_becs_debit` PaymentMethod, this hash contains details about the bank account.

      - `last_payment_error.payment_method.au_becs_debit.bsb_number` (string, nullable)
        Six-digit number identifying bank and branch associated with this bank account.

      - `last_payment_error.payment_method.au_becs_debit.fingerprint` (string, nullable)
        Uniquely identifies this particular bank account. You can use this attribute to check whether two bank accounts are the same.

      - `last_payment_error.payment_method.au_becs_debit.last4` (string, nullable)
        Last four digits of the bank account number.

    - `last_payment_error.payment_method.bacs_debit` (object, nullable)
      If this is a `bacs_debit` PaymentMethod, this hash contains details about the Bacs Direct Debit bank account.

      - `last_payment_error.payment_method.bacs_debit.fingerprint` (string, nullable)
        Uniquely identifies this particular bank account. You can use this attribute to check whether two bank accounts are the same.

      - `last_payment_error.payment_method.bacs_debit.last4` (string, nullable)
        Last four digits of the bank account number.

      - `last_payment_error.payment_method.bacs_debit.sort_code` (string, nullable)
        Sort code of the bank account. (e.g., `10-20-30`)

    - `last_payment_error.payment_method.bancontact` (object, nullable)
      If this is a `bancontact` PaymentMethod, this hash contains details about the Bancontact payment method.

    - `last_payment_error.payment_method.billie` (object, nullable)
      If this is a `billie` PaymentMethod, this hash contains details about the Billie payment method.

    - `last_payment_error.payment_method.billing_details` (object)
      Billing information associated with the PaymentMethod that may be used or required by particular types of payment methods.

      - `last_payment_error.payment_method.billing_details.address` (object, nullable)
        Billing address.

        - `last_payment_error.payment_method.billing_details.address.city` (string, nullable)
          City, district, suburb, town, or village.

        - `last_payment_error.payment_method.billing_details.address.country` (string, nullable)
          Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

        - `last_payment_error.payment_method.billing_details.address.line1` (string, nullable)
          Address line 1, such as the street, PO Box, or company name.

        - `last_payment_error.payment_method.billing_details.address.line2` (string, nullable)
          Address line 2, such as the apartment, suite, unit, or building.

        - `last_payment_error.payment_method.billing_details.address.postal_code` (string, nullable)
          ZIP or postal code.

        - `last_payment_error.payment_method.billing_details.address.state` (string, nullable)
          State, county, province, or region.

      - `last_payment_error.payment_method.billing_details.email` (string, nullable)
        Email address.

      - `last_payment_error.payment_method.billing_details.name` (string, nullable)
        Full name.

      - `last_payment_error.payment_method.billing_details.phone` (string, nullable)
        Billing phone number (including extension).

      - `last_payment_error.payment_method.billing_details.tax_id` (string, nullable)
        Taxpayer identification number. Used only for transactions between LATAM buyers and non-LATAM sellers.

    - `last_payment_error.payment_method.blik` (object, nullable)
      If this is a `blik` PaymentMethod, this hash contains details about the BLIK payment method.

    - `last_payment_error.payment_method.boleto` (object, nullable)
      If this is a `boleto` PaymentMethod, this hash contains details about the Boleto payment method.

      - `last_payment_error.payment_method.boleto.tax_id` (string)
        Uniquely identifies the customer tax id (CNPJ or CPF)

    - `last_payment_error.payment_method.card` (object, nullable)
      If this is a `card` PaymentMethod, this hash contains the user’s card details.

      - `last_payment_error.payment_method.card.brand` (string)
        Card brand. Can be `amex`, `cartes_bancaires`, `diners`, `discover`, `eftpos_au`, `jcb`, `link`, `mastercard`, `unionpay`, `visa` or `unknown`.

      - `last_payment_error.payment_method.card.checks` (object, nullable)
        Checks on Card address and CVC if provided.

        - `last_payment_error.payment_method.card.checks.address_line1_check` (string, nullable)
          If a address line1 was provided, results of the check, one of `pass`, `fail`, `unavailable`, or `unchecked`.

        - `last_payment_error.payment_method.card.checks.address_postal_code_check` (string, nullable)
          If a address postal code was provided, results of the check, one of `pass`, `fail`, `unavailable`, or `unchecked`.

        - `last_payment_error.payment_method.card.checks.cvc_check` (string, nullable)
          If a CVC was provided, results of the check, one of `pass`, `fail`, `unavailable`, or `unchecked`.

      - `last_payment_error.payment_method.card.country` (string, nullable)
        Two-letter ISO code representing the country of the card. You could use this attribute to get a sense of the international breakdown of cards you’ve collected.

      - `last_payment_error.payment_method.card.display_brand` (string, nullable)
        The brand to use when displaying the card, this accounts for customer’s brand choice on dual-branded cards. Can be `american_express`, `cartes_bancaires`, `diners_club`, `discover`, `eftpos_australia`, `interac`, `jcb`, `mastercard`, `union_pay`, `visa`, or `other` and may contain more values in the future.

      - `last_payment_error.payment_method.card.exp_month` (integer)
        Two-digit number representing the card’s expiration month.

      - `last_payment_error.payment_method.card.exp_year` (integer)
        Four-digit number representing the card’s expiration year.

      - `last_payment_error.payment_method.card.fingerprint` (string, nullable)
        Uniquely identifies this particular card number. You can use this attribute to check whether two customers who’ve signed up with you are using the same card number, for example. For payment methods that tokenize card information (Apple Pay, Google Pay), the tokenized number might be provided instead of the underlying card number.

        *As of May 1, 2021, card fingerprint in India for Connect changed to allow two fingerprints for the same card—one for India and one for the rest of the world.*

      - `last_payment_error.payment_method.card.funding` (string)
        Card funding type. Can be `credit`, `debit`, `prepaid`, or `unknown`.

      - `last_payment_error.payment_method.card.generated_from` (object, nullable)
        Details of the original PaymentMethod that created this object.

        - `last_payment_error.payment_method.card.generated_from.charge` (string, nullable)
          The charge that created this object.

        - `last_payment_error.payment_method.card.generated_from.payment_method_details` (object, nullable)
          Transaction-specific details of the payment method used in the payment.

          - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present` (object, nullable)
            This hash contains the snapshot of the `card_present` transaction-specific details which generated this `card` payment method.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.amount_authorized` (integer, nullable)
              The authorized amount

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.brand` (string, nullable)
              Card brand. Can be `amex`, `cartes_bancaires`, `diners`, `discover`, `eftpos_au`, `jcb`, `link`, `mastercard`, `unionpay`, `visa` or `unknown`.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.brand_product` (string, nullable)
              The [product code](https://stripe.com/docs/card-product-codes) that identifies the specific program or product associated with a card.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.capture_before` (timestamp, nullable)
              When using manual capture, a future timestamp after which the charge will be automatically refunded if uncaptured.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.cardholder_name` (string, nullable)
              The cardholder name as read from the card, in [ISO 7813](https://en.wikipedia.org/wiki/ISO/IEC_7813) format. May include alphanumeric characters, special characters and first/last name separator (`/`). In some cases, the cardholder name may not be available depending on how the issuer has configured the card. Cardholder name is typically not available on swipe or contactless payments, such as those made with Apple Pay and Google Pay.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.country` (string, nullable)
              Two-letter ISO code representing the country of the card. You could use this attribute to get a sense of the international breakdown of cards you’ve collected.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.description` (string, nullable)
              A high-level description of the type of cards issued in this range.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.emv_auth_data` (string, nullable)
              Authorization response cryptogram.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.exp_month` (integer)
              Two-digit number representing the card’s expiration month.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.exp_year` (integer)
              Four-digit number representing the card’s expiration year.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.fingerprint` (string, nullable)
              Uniquely identifies this particular card number. You can use this attribute to check whether two customers who’ve signed up with you are using the same card number, for example. For payment methods that tokenize card information (Apple Pay, Google Pay), the tokenized number might be provided instead of the underlying card number.

              *As of May 1, 2021, card fingerprint in India for Connect changed to allow two fingerprints for the same card—one for India and one for the rest of the world.*

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.funding` (string, nullable)
              Card funding type. Can be `credit`, `debit`, `prepaid`, or `unknown`.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.generated_card` (string, nullable)
              ID of a card PaymentMethod generated from the card_present PaymentMethod that may be attached to a Customer for future transactions. Only present if it was possible to generate a card PaymentMethod.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.incremental_authorization_supported` (boolean)
              Whether this [PaymentIntent](https://docs.stripe.com/docs/api/payment_intents.md) is eligible for incremental authorizations. Request support using [request_incremental_authorization_support](https://docs.stripe.com/docs/api/payment_intents/create.md#create_payment_intent-payment_method_options-card_present-request_incremental_authorization_support).

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.issuer` (string, nullable)
              The name of the card’s issuing bank.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.last4` (string, nullable)
              The last four digits of the card.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.network` (string, nullable)
              Identifies which network this charge was processed on. Can be `amex`, `cartes_bancaires`, `diners`, `discover`, `eftpos_au`, `interac`, `jcb`, `link`, `mastercard`, `unionpay`, `visa`, or `unknown`.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.network_transaction_id` (string, nullable)
              This is used by the financial networks to identify a transaction. Visa calls this the Transaction ID, Mastercard calls this the Trace ID, and American Express calls this the Acquirer Reference Data. This value will be present if it is returned by the financial network in the authorization response, and null otherwise.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.offline` (object, nullable)
              Details about payments collected offline.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.offline.stored_at` (timestamp, nullable)
                Time at which the payment was collected while offline

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.offline.type` (enum, nullable)
                The method used to process this payment method offline. Only deferred is allowed.
Possible enum values:
                - `deferred`

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.overcapture_supported` (boolean)
              Defines whether the authorized amount can be over-captured or not

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.preferred_locales` (array of strings, nullable)
              The languages that the issuing bank recommends using for localizing any customer-facing text, as read from the card. Referenced from EMV tag 5F2D, data encoded on the card’s chip.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.read_method` (enum, nullable)
              How card details were read in this transaction.
Possible enum values:
              - `contact_emv`
                Inserting a chip card into the card reader.

              - `contactless_emv`
                Tapping a contactless-enabled chip card or mobile wallet.

              - `contactless_magstripe_mode`
                Older standard for contactless payments that emulated a magnetic stripe read.

              - `magnetic_stripe_fallback`
                When inserting a chip card fails three times in a row, fallback to a magnetic stripe read.

              - `magnetic_stripe_track2`
                Swiping a card using the magnetic stripe reader.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt` (object, nullable)
              A collection of fields required to be displayed on receipts. Only required for EMV transactions.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.account_type` (enum, nullable)
                The type of account being debited or credited
Possible enum values:
                - `checking`
                  A checking account, as when using a debit card

                - `credit`
                  A credit account, as when using a credit card

                - `prepaid`
                  A prepaid account, as when using a debit gift card

                - `unknown`
                  An unknown account

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.application_cryptogram` (string, nullable)
                The Application Cryptogram, a unique value generated by the card to authenticate the transaction with issuers.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.application_preferred_name` (string, nullable)
                The Application Identifier (AID) on the card used to determine which networks are eligible to process the transaction. Referenced from EMV tag 9F12, data encoded on the card’s chip.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.authorization_code` (string, nullable)
                Identifier for this transaction.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.authorization_response_code` (string, nullable)
                EMV tag 8A. A code returned by the card issuer.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.cardholder_verification_method` (string, nullable)
                Describes the method used by the cardholder to verify ownership of the card. One of the following: `approval`, `failure`, `none`, `offline_pin`, `offline_pin_and_signature`, `online_pin`, or `signature`.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.dedicated_file_name` (string, nullable)
                Similar to the application_preferred_name, identifying the applications (AIDs) available on the card. Referenced from EMV tag 84.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.terminal_verification_results` (string, nullable)
                A 5-byte string that records the checks and validations that occur between the card and the terminal. These checks determine how the terminal processes the transaction and what risk tolerance is acceptable. Referenced from EMV Tag 95.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.receipt.transaction_status_information` (string, nullable)
                An indication of which steps were completed during the card read process. Referenced from EMV Tag 9B.

            - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.wallet` (object, nullable)
              If a mobile wallet was presented in the transaction, this contains the details of the mobile wallet.

              - `last_payment_error.payment_method.card.generated_from.payment_method_details.card_present.wallet.type` (enum)
                The type of mobile wallet, one of `apple_pay`, `google_pay`, `samsung_pay`, or `unknown`.
Possible enum values:
                - `apple_pay`
                  Apple Pay is a mobile payment service by Apple.

                - `google_pay`
                  Google Pay is a mobile payment service by Google.

                - `samsung_pay`
                  Samsung Pay is a mobile payment service by Samsung Electronics.

                - `unknown`
                  The wallet provider is unknown.

          - `last_payment_error.payment_method.card.generated_from.payment_method_details.type` (string)
            The type of payment method transaction-specific details from the transaction that generated this `card` payment method. Always `card_present`.

        - `last_payment_error.payment_method.card.generated_from.setup_attempt` (string, nullable)
          The ID of the SetupAttempt that generated this PaymentMethod, if any.

      - `last_payment_error.payment_method.card.last4` (string)
        The last four digits of the card.

      - `last_payment_error.payment_method.card.networks` (object, nullable)
        Contains information about card networks that can be used to process the payment.

        - `last_payment_error.payment_method.card.networks.available` (array of strings)
          All networks available for selection via [payment_method_options.card.network](https://docs.stripe.com/api/payment_intents/confirm.md#confirm_payment_intent-payment_method_options-card-network).

        - `last_payment_error.payment_method.card.networks.preferred` (string, nullable)
          The preferred network for co-branded cards. Can be `cartes_bancaires`, `mastercard`, `visa` or `invalid_preference` if requested network is not valid for the card.

      - `last_payment_error.payment_method.card.regulated_status` (enum, nullable)
        Status of a card based on the card issuer.
Possible enum values:
        - `regulated`
          The card falls under a regulated account range.

        - `unregulated`
          The card does not fall under a regulated account range.

      - `last_payment_error.payment_method.card.three_d_secure_usage` (object, nullable)
        Contains details on how this Card may be used for 3D Secure authentication.

        - `last_payment_error.payment_method.card.three_d_secure_usage.supported` (boolean)
          Whether 3D Secure is supported on this card.

      - `last_payment_error.payment_method.card.wallet` (object, nullable)
        If this Card is part of a card wallet, this contains the details of the card wallet.

        - `last_payment_error.payment_method.card.wallet.amex_express_checkout` (object, nullable)
          If this is a `amex_express_checkout` card wallet, this hash contains details about the wallet.

        - `last_payment_error.payment_method.card.wallet.apple_pay` (object, nullable)
          If this is a `apple_pay` card wallet, this hash contains details about the wallet.

        - `last_payment_error.payment_method.card.wallet.dynamic_last4` (string, nullable)
          (For tokenized numbers only.) The last four digits of the device account number.

        - `last_payment_error.payment_method.card.wallet.google_pay` (object, nullable)
          If this is a `google_pay` card wallet, this hash contains details about the wallet.

        - `last_payment_error.payment_method.card.wallet.link` (object, nullable)
          If this is a `link` card wallet, this hash contains details about the wallet.

        - `last_payment_error.payment_method.card.wallet.masterpass` (object, nullable)
          If this is a `masterpass` card wallet, this hash contains details about the wallet.

          - `last_payment_error.payment_method.card.wallet.masterpass.billing_address` (object, nullable)
            Owner’s verified billing address. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

            - `last_payment_error.payment_method.card.wallet.masterpass.billing_address.city` (string, nullable)
              City, district, suburb, town, or village.

            - `last_payment_error.payment_method.card.wallet.masterpass.billing_address.country` (string, nullable)
              Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

            - `last_payment_error.payment_method.card.wallet.masterpass.billing_address.line1` (string, nullable)
              Address line 1, such as the street, PO Box, or company name.

            - `last_payment_error.payment_method.card.wallet.masterpass.billing_address.line2` (string, nullable)
              Address line 2, such as the apartment, suite, unit, or building.

            - `last_payment_error.payment_method.card.wallet.masterpass.billing_address.postal_code` (string, nullable)
              ZIP or postal code.

            - `last_payment_error.payment_method.card.wallet.masterpass.billing_address.state` (string, nullable)
              State, county, province, or region.

          - `last_payment_error.payment_method.card.wallet.masterpass.email` (string, nullable)
            Owner’s verified email. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

          - `last_payment_error.payment_method.card.wallet.masterpass.name` (string, nullable)
            Owner’s verified full name. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

          - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address` (object, nullable)
            Owner’s verified shipping address. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

            - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address.city` (string, nullable)
              City, district, suburb, town, or village.

            - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address.country` (string, nullable)
              Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

            - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address.line1` (string, nullable)
              Address line 1, such as the street, PO Box, or company name.

            - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address.line2` (string, nullable)
              Address line 2, such as the apartment, suite, unit, or building.

            - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address.postal_code` (string, nullable)
              ZIP or postal code.

            - `last_payment_error.payment_method.card.wallet.masterpass.shipping_address.state` (string, nullable)
              State, county, province, or region.

        - `last_payment_error.payment_method.card.wallet.samsung_pay` (object, nullable)
          If this is a `samsung_pay` card wallet, this hash contains details about the wallet.

        - `last_payment_error.payment_method.card.wallet.type` (enum)
          The type of the card wallet, one of `amex_express_checkout`, `apple_pay`, `google_pay`, `masterpass`, `samsung_pay`, `visa_checkout`, or `link`. An additional hash is included on the Wallet subhash with a name matching this value. It contains additional information specific to the card wallet type.
Possible enum values:
          - `amex_express_checkout`
          - `apple_pay`
          - `google_pay`
          - `link`
          - `masterpass`
          - `samsung_pay`
          - `visa_checkout`

        - `last_payment_error.payment_method.card.wallet.visa_checkout` (object, nullable)
          If this is a `visa_checkout` card wallet, this hash contains details about the wallet.

          - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address` (object, nullable)
            Owner’s verified billing address. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address.city` (string, nullable)
              City, district, suburb, town, or village.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address.country` (string, nullable)
              Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

            - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address.line1` (string, nullable)
              Address line 1, such as the street, PO Box, or company name.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address.line2` (string, nullable)
              Address line 2, such as the apartment, suite, unit, or building.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address.postal_code` (string, nullable)
              ZIP or postal code.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.billing_address.state` (string, nullable)
              State, county, province, or region.

          - `last_payment_error.payment_method.card.wallet.visa_checkout.email` (string, nullable)
            Owner’s verified email. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

          - `last_payment_error.payment_method.card.wallet.visa_checkout.name` (string, nullable)
            Owner’s verified full name. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

          - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address` (object, nullable)
            Owner’s verified shipping address. Values are verified or provided by the wallet directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address.city` (string, nullable)
              City, district, suburb, town, or village.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address.country` (string, nullable)
              Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

            - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address.line1` (string, nullable)
              Address line 1, such as the street, PO Box, or company name.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address.line2` (string, nullable)
              Address line 2, such as the apartment, suite, unit, or building.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address.postal_code` (string, nullable)
              ZIP or postal code.

            - `last_payment_error.payment_method.card.wallet.visa_checkout.shipping_address.state` (string, nullable)
              State, county, province, or region.

    - `last_payment_error.payment_method.card_present` (object, nullable)
      If this is a `card_present` PaymentMethod, this hash contains details about the Card Present payment method.

      - `last_payment_error.payment_method.card_present.brand` (string, nullable)
        Card brand. Can be `amex`, `cartes_bancaires`, `diners`, `discover`, `eftpos_au`, `jcb`, `link`, `mastercard`, `unionpay`, `visa` or `unknown`.

      - `last_payment_error.payment_method.card_present.brand_product` (string, nullable)
        The [product code](https://stripe.com/docs/card-product-codes) that identifies the specific program or product associated with a card.

      - `last_payment_error.payment_method.card_present.cardholder_name` (string, nullable)
        The cardholder name as read from the card, in [ISO 7813](https://en.wikipedia.org/wiki/ISO/IEC_7813) format. May include alphanumeric characters, special characters and first/last name separator (`/`). In some cases, the cardholder name may not be available depending on how the issuer has configured the card. Cardholder name is typically not available on swipe or contactless payments, such as those made with Apple Pay and Google Pay.

      - `last_payment_error.payment_method.card_present.country` (string, nullable)
        Two-letter ISO code representing the country of the card. You could use this attribute to get a sense of the international breakdown of cards you’ve collected.

      - `last_payment_error.payment_method.card_present.description` (string, nullable)
        A high-level description of the type of cards issued in this range.

      - `last_payment_error.payment_method.card_present.exp_month` (integer)
        Two-digit number representing the card’s expiration month.

      - `last_payment_error.payment_method.card_present.exp_year` (integer)
        Four-digit number representing the card’s expiration year.

      - `last_payment_error.payment_method.card_present.fingerprint` (string, nullable)
        Uniquely identifies this particular card number. You can use this attribute to check whether two customers who’ve signed up with you are using the same card number, for example. For payment methods that tokenize card information (Apple Pay, Google Pay), the tokenized number might be provided instead of the underlying card number.

        *As of May 1, 2021, card fingerprint in India for Connect changed to allow two fingerprints for the same card—one for India and one for the rest of the world.*

      - `last_payment_error.payment_method.card_present.funding` (string, nullable)
        Card funding type. Can be `credit`, `debit`, `prepaid`, or `unknown`.

      - `last_payment_error.payment_method.card_present.issuer` (string, nullable)
        The name of the card’s issuing bank.

      - `last_payment_error.payment_method.card_present.last4` (string, nullable)
        The last four digits of the card.

      - `last_payment_error.payment_method.card_present.networks` (object, nullable)
        Contains information about card networks that can be used to process the payment.

        - `last_payment_error.payment_method.card_present.networks.available` (array of strings)
          All networks available for selection via [payment_method_options.card.network](https://docs.stripe.com/api/payment_intents/confirm.md#confirm_payment_intent-payment_method_options-card-network).

        - `last_payment_error.payment_method.card_present.networks.preferred` (string, nullable)
          The preferred network for the card.

      - `last_payment_error.payment_method.card_present.offline` (object, nullable)
        Details about payment methods collected offline.

        - `last_payment_error.payment_method.card_present.offline.stored_at` (timestamp, nullable)
          Time at which the payment was collected while offline

        - `last_payment_error.payment_method.card_present.offline.type` (enum, nullable)
          The method used to process this payment method offline. Only deferred is allowed.
Possible enum values:
          - `deferred`

      - `last_payment_error.payment_method.card_present.preferred_locales` (array of strings, nullable)
        The languages that the issuing bank recommends using for localizing any customer-facing text, as read from the card. Referenced from EMV tag 5F2D, data encoded on the card’s chip.

      - `last_payment_error.payment_method.card_present.read_method` (enum, nullable)
        How card details were read in this transaction.
Possible enum values:
        - `contact_emv`
          Inserting a chip card into the card reader.

        - `contactless_emv`
          Tapping a contactless-enabled chip card or mobile wallet.

        - `contactless_magstripe_mode`
          Older standard for contactless payments that emulated a magnetic stripe read.

        - `magnetic_stripe_fallback`
          When inserting a chip card fails three times in a row, fallback to a magnetic stripe read.

        - `magnetic_stripe_track2`
          Swiping a card using the magnetic stripe reader.

      - `last_payment_error.payment_method.card_present.wallet` (object, nullable)
        If a mobile wallet was presented in the transaction, this contains the details of the mobile wallet.

        - `last_payment_error.payment_method.card_present.wallet.type` (enum)
          The type of mobile wallet, one of `apple_pay`, `google_pay`, `samsung_pay`, or `unknown`.
Possible enum values:
          - `apple_pay`
            Apple Pay is a mobile payment service by Apple.

          - `google_pay`
            Google Pay is a mobile payment service by Google.

          - `samsung_pay`
            Samsung Pay is a mobile payment service by Samsung Electronics.

          - `unknown`
            The wallet provider is unknown.

    - `last_payment_error.payment_method.cashapp` (object, nullable)
      If this is a `cashapp` PaymentMethod, this hash contains details about the Cash App Pay payment method.

      - `last_payment_error.payment_method.cashapp.buyer_id` (string, nullable)
        A unique and immutable identifier assigned by Cash App to every buyer.

      - `last_payment_error.payment_method.cashapp.cashtag` (string, nullable)
        A public identifier for buyers using Cash App.

    - `last_payment_error.payment_method.created` (timestamp)
      Time at which the object was created. Measured in seconds since the Unix epoch.

    - `last_payment_error.payment_method.crypto` (object, nullable)
      If this is a Crypto PaymentMethod, this hash contains details about the Crypto payment method.

    - `last_payment_error.payment_method.custom` (object, nullable)
      If this is a `custom` PaymentMethod, this hash contains details about the Custom payment method.

      - `last_payment_error.payment_method.custom.display_name` (string, nullable)
        Display name of the Dashboard-only CustomPaymentMethodType.

      - `last_payment_error.payment_method.custom.logo` (object, nullable)
        Contains information about the Dashboard-only CustomPaymentMethodType logo.

        - `last_payment_error.payment_method.custom.logo.content_type` (string, nullable)
          Content type of the Dashboard-only CustomPaymentMethodType logo.

        - `last_payment_error.payment_method.custom.logo.url` (string)
          URL of the Dashboard-only CustomPaymentMethodType logo.

      - `last_payment_error.payment_method.custom.type` (string)
        ID of the Dashboard-only CustomPaymentMethodType. Not expandable.

    - `last_payment_error.payment_method.customer` (string, nullable)
      The ID of the Customer to which this PaymentMethod is saved. This will not be set when the PaymentMethod has not been saved to a Customer.

    - `last_payment_error.payment_method.customer_balance` (object, nullable)
      If this is a `customer_balance` PaymentMethod, this hash contains details about the CustomerBalance payment method.

    - `last_payment_error.payment_method.eps` (object, nullable)
      If this is an `eps` PaymentMethod, this hash contains details about the EPS payment method.

      - `last_payment_error.payment_method.eps.bank` (enum, nullable)
        The customer’s bank. Should be one of `arzte_und_apotheker_bank`, `austrian_anadi_bank_ag`, `bank_austria`, `bankhaus_carl_spangler`, `bankhaus_schelhammer_und_schattera_ag`, `bawag_psk_ag`, `bks_bank_ag`, `brull_kallmus_bank_ag`, `btv_vier_lander_bank`, `capital_bank_grawe_gruppe_ag`, `deutsche_bank_ag`, `dolomitenbank`, `easybank_ag`, `erste_bank_und_sparkassen`, `hypo_alpeadriabank_international_ag`, `hypo_noe_lb_fur_niederosterreich_u_wien`, `hypo_oberosterreich_salzburg_steiermark`, `hypo_tirol_bank_ag`, `hypo_vorarlberg_bank_ag`, `hypo_bank_burgenland_aktiengesellschaft`, `marchfelder_bank`, `oberbank_ag`, `raiffeisen_bankengruppe_osterreich`, `schoellerbank_ag`, `sparda_bank_wien`, `volksbank_gruppe`, `volkskreditbank_ag`, or `vr_bank_braunau`.
Possible enum values:
        - `arzte_und_apotheker_bank`
        - `austrian_anadi_bank_ag`
        - `bank_austria`
        - `bankhaus_carl_spangler`
        - `bankhaus_schelhammer_und_schattera_ag`
        - `bawag_psk_ag`
        - `bks_bank_ag`
        - `brull_kallmus_bank_ag`
        - `btv_vier_lander_bank`
        - `capital_bank_grawe_gruppe_ag`
        - `deutsche_bank_ag`
        - `dolomitenbank`
        - `easybank_ag`
        - `erste_bank_und_sparkassen`
        - `hypo_alpeadriabank_international_ag`
        - `hypo_bank_burgenland_aktiengesellschaft`
        - `hypo_noe_lb_fur_niederosterreich_u_wien`
        - `hypo_oberosterreich_salzburg_steiermark`
        - `hypo_tirol_bank_ag`
        - `hypo_vorarlberg_bank_ag`
        - `marchfelder_bank`
        - `oberbank_ag`
        - `raiffeisen_bankengruppe_osterreich`
        - `schoellerbank_ag`
        - `sparda_bank_wien`
        - `volksbank_gruppe`
        - `volkskreditbank_ag`
        - `vr_bank_braunau`

    - `last_payment_error.payment_method.fpx` (object, nullable)
      If this is an `fpx` PaymentMethod, this hash contains details about the FPX payment method.

      - `last_payment_error.payment_method.fpx.bank` (enum)
        The customer’s bank, if provided. Can be one of `affin_bank`, `agrobank`, `alliance_bank`, `ambank`, `bank_islam`, `bank_muamalat`, `bank_rakyat`, `bsn`, `cimb`, `hong_leong_bank`, `hsbc`, `kfh`, `maybank2u`, `ocbc`, `public_bank`, `rhb`, `standard_chartered`, `uob`, `deutsche_bank`, `maybank2e`, `pb_enterprise`, or `bank_of_china`.
Possible enum values:
        - `affin_bank`
        - `agrobank`
        - `alliance_bank`
        - `ambank`
        - `bank_islam`
        - `bank_muamalat`
        - `bank_of_china`
        - `bank_rakyat`
        - `bsn`
        - `cimb`
        - `deutsche_bank`
        - `hong_leong_bank`
        - `hsbc`
        - `kfh`
        - `maybank2e`
        - `maybank2u`
        - `ocbc`
        - `pb_enterprise`
        - `public_bank`
        - `rhb`
        - `standard_chartered`
        - `uob`

    - `last_payment_error.payment_method.giropay` (object, nullable)
      If this is a `giropay` PaymentMethod, this hash contains details about the Giropay payment method.

    - `last_payment_error.payment_method.grabpay` (object, nullable)
      If this is a `grabpay` PaymentMethod, this hash contains details about the GrabPay payment method.

    - `last_payment_error.payment_method.ideal` (object, nullable)
      If this is an `ideal` PaymentMethod, this hash contains details about the iDEAL payment method.

      - `last_payment_error.payment_method.ideal.bank` (enum, nullable)
        The customer’s bank, if provided. Can be one of `abn_amro`, `asn_bank`, `bunq`, `buut`, `handelsbanken`, `ing`, `knab`, `moneyou`, `n26`, `nn`, `rabobank`, `regiobank`, `revolut`, `sns_bank`, `triodos_bank`, `van_lanschot`, or `yoursafe`.
Possible enum values:
        - `abn_amro`
        - `asn_bank`
        - `bunq`
        - `buut`
        - `handelsbanken`
        - `ing`
        - `knab`
        - `moneyou`
        - `n26`
        - `nn`
        - `rabobank`
        - `regiobank`
        - `revolut`
        - `sns_bank`
        - `triodos_bank`
        - `van_lanschot`
        - `yoursafe`

      - `last_payment_error.payment_method.ideal.bic` (enum, nullable)
        The Bank Identifier Code of the customer’s bank, if the bank was provided.
Possible enum values:
        - `ABNANL2A`
        - `ASNBNL21`
        - `BITSNL2A`
        - `BUNQNL2A`
        - `BUUTNL2A`
        - `FVLBNL22`
        - `HANDNL2A`
        - `INGBNL2A`
        - `KNABNL2H`
        - `MOYONL21`
        - `NNBANL2G`
        - `NTSBDEB1`
        - `RABONL2U`
        - `RBRBNL21`
        - `REVOIE23`
        - `REVOLT21`
        - `SNSBNL2A`
        - `TRIONL2U`

    - `last_payment_error.payment_method.interac_present` (object, nullable)
      If this is an `interac_present` PaymentMethod, this hash contains details about the Interac Present payment method.

      - `last_payment_error.payment_method.interac_present.brand` (string, nullable)
        Card brand. Can be `interac`, `mastercard` or `visa`.

      - `last_payment_error.payment_method.interac_present.cardholder_name` (string, nullable)
        The cardholder name as read from the card, in [ISO 7813](https://en.wikipedia.org/wiki/ISO/IEC_7813) format. May include alphanumeric characters, special characters and first/last name separator (`/`). In some cases, the cardholder name may not be available depending on how the issuer has configured the card. Cardholder name is typically not available on swipe or contactless payments, such as those made with Apple Pay and Google Pay.

      - `last_payment_error.payment_method.interac_present.country` (string, nullable)
        Two-letter ISO code representing the country of the card. You could use this attribute to get a sense of the international breakdown of cards you’ve collected.

      - `last_payment_error.payment_method.interac_present.description` (string, nullable)
        A high-level description of the type of cards issued in this range.

      - `last_payment_error.payment_method.interac_present.exp_month` (integer)
        Two-digit number representing the card’s expiration month.

      - `last_payment_error.payment_method.interac_present.exp_year` (integer)
        Four-digit number representing the card’s expiration year.

      - `last_payment_error.payment_method.interac_present.fingerprint` (string, nullable)
        Uniquely identifies this particular card number. You can use this attribute to check whether two customers who’ve signed up with you are using the same card number, for example. For payment methods that tokenize card information (Apple Pay, Google Pay), the tokenized number might be provided instead of the underlying card number.

        *As of May 1, 2021, card fingerprint in India for Connect changed to allow two fingerprints for the same card—one for India and one for the rest of the world.*

      - `last_payment_error.payment_method.interac_present.funding` (string, nullable)
        Card funding type. Can be `credit`, `debit`, `prepaid`, or `unknown`.

      - `last_payment_error.payment_method.interac_present.issuer` (string, nullable)
        The name of the card’s issuing bank.

      - `last_payment_error.payment_method.interac_present.last4` (string, nullable)
        The last four digits of the card.

      - `last_payment_error.payment_method.interac_present.networks` (object, nullable)
        Contains information about card networks that can be used to process the payment.

        - `last_payment_error.payment_method.interac_present.networks.available` (array of strings)
          All networks available for selection via [payment_method_options.card.network](https://docs.stripe.com/api/payment_intents/confirm.md#confirm_payment_intent-payment_method_options-card-network).

        - `last_payment_error.payment_method.interac_present.networks.preferred` (string, nullable)
          The preferred network for the card.

      - `last_payment_error.payment_method.interac_present.preferred_locales` (array of strings, nullable)
        The languages that the issuing bank recommends using for localizing any customer-facing text, as read from the card. Referenced from EMV tag 5F2D, data encoded on the card’s chip.

      - `last_payment_error.payment_method.interac_present.read_method` (enum, nullable)
        How card details were read in this transaction.
Possible enum values:
        - `contact_emv`
          Inserting a chip card into the card reader.

        - `contactless_emv`
          Tapping a contactless-enabled chip card or mobile wallet.

        - `contactless_magstripe_mode`
          Older standard for contactless payments that emulated a magnetic stripe read.

        - `magnetic_stripe_fallback`
          When inserting a chip card fails three times in a row, fallback to a magnetic stripe read.

        - `magnetic_stripe_track2`
          Swiping a card using the magnetic stripe reader.

    - `last_payment_error.payment_method.kakao_pay` (object, nullable)
      If this is a `kakao_pay` PaymentMethod, this hash contains details about the Kakao Pay payment method.

    - `last_payment_error.payment_method.klarna` (object, nullable)
      If this is a `klarna` PaymentMethod, this hash contains details about the Klarna payment method.

      - `last_payment_error.payment_method.klarna.dob` (object, nullable)
        The customer’s date of birth, if provided.

        - `last_payment_error.payment_method.klarna.dob.day` (integer, nullable)
          The day of birth, between 1 and 31.

        - `last_payment_error.payment_method.klarna.dob.month` (integer, nullable)
          The month of birth, between 1 and 12.

        - `last_payment_error.payment_method.klarna.dob.year` (integer, nullable)
          The four-digit year of birth.

    - `last_payment_error.payment_method.konbini` (object, nullable)
      If this is a `konbini` PaymentMethod, this hash contains details about the Konbini payment method.

    - `last_payment_error.payment_method.kr_card` (object, nullable)
      If this is a `kr_card` PaymentMethod, this hash contains details about the Korean Card payment method.

      - `last_payment_error.payment_method.kr_card.brand` (enum, nullable)
        The local credit or debit card brand.
Possible enum values:
        - `bc`
          BC

        - `citi`
          Citi

        - `hana`
          Hana

        - `hyundai`
          Hyundai

        - `jeju`
          Jeju

        - `jeonbuk`
          Jeonbuk

        - `kakaobank`
          Kakao Bank

        - `kbank`
          KBank

        - `kdbbank`
          KDB Bank

        - `kookmin`
          Kookmin

        - `kwangju`
          Kwangju

        - `lotte`
          Lotte

        - `mg`
          MG

        - `nh`
          NG

        - `post`
          Post

        - `samsung`
          Samsung

        - `savingsbank`
          Savings Bank

        - `shinhan`
          Shinhan

        - `shinhyup`
          Shinhyup

        - `suhyup`
          Suhyup

        - `tossbank`
          Toss Bank

        - `woori`
          Woori

      - `last_payment_error.payment_method.kr_card.last4` (string, nullable)
        The last four digits of the card. This may not be present for American Express cards.

    - `last_payment_error.payment_method.link` (object, nullable)
      If this is an `Link` PaymentMethod, this hash contains details about the Link payment method.

      - `last_payment_error.payment_method.link.email` (string, nullable)
        Account owner’s email address.

    - `last_payment_error.payment_method.livemode` (boolean)
      Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

    - `last_payment_error.payment_method.mb_way` (object, nullable)
      If this is a MB WAY PaymentMethod, this hash contains details about the MB WAY payment method.

    - `last_payment_error.payment_method.metadata` (object, nullable)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `last_payment_error.payment_method.mobilepay` (object, nullable)
      If this is a `mobilepay` PaymentMethod, this hash contains details about the MobilePay payment method.

    - `last_payment_error.payment_method.multibanco` (object, nullable)
      If this is a `multibanco` PaymentMethod, this hash contains details about the Multibanco payment method.

    - `last_payment_error.payment_method.naver_pay` (object, nullable)
      If this is a `naver_pay` PaymentMethod, this hash contains details about the Naver Pay payment method.

      - `last_payment_error.payment_method.naver_pay.buyer_id` (string, nullable)
        Uniquely identifies this particular Naver Pay account. You can use this attribute to check whether two Naver Pay accounts are the same.

      - `last_payment_error.payment_method.naver_pay.funding` (enum)
        Whether to fund this transaction with Naver Pay points or a card.
Possible enum values:
        - `card`
          Use a card to fund this transaction.

        - `points`
          Use Naver Pay points to fund this transaction.

    - `last_payment_error.payment_method.nz_bank_account` (object, nullable)
      If this is an nz_bank_account PaymentMethod, this hash contains details about the nz_bank_account payment method.

      - `last_payment_error.payment_method.nz_bank_account.account_holder_name` (string, nullable)
        The name on the bank account. Only present if the account holder name is different from the name of the authorized signatory collected in the PaymentMethod’s billing details.

      - `last_payment_error.payment_method.nz_bank_account.bank_code` (string)
        The numeric code for the bank account’s bank.

      - `last_payment_error.payment_method.nz_bank_account.bank_name` (string)
        The name of the bank.

      - `last_payment_error.payment_method.nz_bank_account.branch_code` (string)
        The numeric code for the bank account’s bank branch.

      - `last_payment_error.payment_method.nz_bank_account.last4` (string)
        Last four digits of the bank account number.

      - `last_payment_error.payment_method.nz_bank_account.suffix` (string, nullable)
        The suffix of the bank account number.

    - `last_payment_error.payment_method.oxxo` (object, nullable)
      If this is an `oxxo` PaymentMethod, this hash contains details about the OXXO payment method.

    - `last_payment_error.payment_method.p24` (object, nullable)
      If this is a `p24` PaymentMethod, this hash contains details about the P24 payment method.

      - `last_payment_error.payment_method.p24.bank` (enum, nullable)
        The customer’s bank, if provided.

    - `last_payment_error.payment_method.pay_by_bank` (object, nullable)
      If this is a `pay_by_bank` PaymentMethod, this hash contains details about the PayByBank payment method.

    - `last_payment_error.payment_method.payco` (object, nullable)
      If this is a `payco` PaymentMethod, this hash contains details about the PAYCO payment method.

    - `last_payment_error.payment_method.paynow` (object, nullable)
      If this is a `paynow` PaymentMethod, this hash contains details about the PayNow payment method.

    - `last_payment_error.payment_method.paypal` (object, nullable)
      If this is a `paypal` PaymentMethod, this hash contains details about the PayPal payment method.

      - `last_payment_error.payment_method.paypal.country` (string, nullable)
        Two-letter ISO code representing the buyer’s country. Values are provided by PayPal directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

      - `last_payment_error.payment_method.paypal.payer_email` (string, nullable)
        Owner’s email. Values are provided by PayPal directly (if supported) at the time of authorization or settlement. They cannot be set or mutated.

      - `last_payment_error.payment_method.paypal.payer_id` (string, nullable)
        PayPal account PayerID. This identifier uniquely identifies the PayPal customer.

    - `last_payment_error.payment_method.paypay` (object, nullable)
      If this is a `paypay` PaymentMethod, this hash contains details about the PayPay payment method.

    - `last_payment_error.payment_method.pix` (object, nullable)
      If this is a `pix` PaymentMethod, this hash contains details about the Pix payment method.

    - `last_payment_error.payment_method.promptpay` (object, nullable)
      If this is a `promptpay` PaymentMethod, this hash contains details about the PromptPay payment method.

    - `last_payment_error.payment_method.radar_options` (object, nullable)
      Options to configure Radar. See [Radar Session](https://docs.stripe.com/docs/radar/radar-session.md) for more information.

      - `last_payment_error.payment_method.radar_options.session` (string, nullable)
        A [Radar Session](https://docs.stripe.com/docs/radar/radar-session.md) is a snapshot of the browser metadata and device details that help Radar make more accurate predictions on your payments.

    - `last_payment_error.payment_method.revolut_pay` (object, nullable)
      If this is a `revolut_pay` PaymentMethod, this hash contains details about the Revolut Pay payment method.

    - `last_payment_error.payment_method.samsung_pay` (object, nullable)
      If this is a `samsung_pay` PaymentMethod, this hash contains details about the SamsungPay payment method.

    - `last_payment_error.payment_method.satispay` (object, nullable)
      If this is a `satispay` PaymentMethod, this hash contains details about the Satispay payment method.

    - `last_payment_error.payment_method.sepa_debit` (object, nullable)
      If this is a `sepa_debit` PaymentMethod, this hash contains details about the SEPA debit bank account.

      - `last_payment_error.payment_method.sepa_debit.bank_code` (string, nullable)
        Bank code of bank associated with the bank account.

      - `last_payment_error.payment_method.sepa_debit.branch_code` (string, nullable)
        Branch code of bank associated with the bank account.

      - `last_payment_error.payment_method.sepa_debit.country` (string, nullable)
        Two-letter ISO code representing the country the bank account is located in.

      - `last_payment_error.payment_method.sepa_debit.fingerprint` (string, nullable)
        Uniquely identifies this particular bank account. You can use this attribute to check whether two bank accounts are the same.

      - `last_payment_error.payment_method.sepa_debit.generated_from` (object, nullable)
        Information about the object that generated this PaymentMethod.

        - `last_payment_error.payment_method.sepa_debit.generated_from.charge` (string, nullable)
          The ID of the Charge that generated this PaymentMethod, if any.

        - `last_payment_error.payment_method.sepa_debit.generated_from.setup_attempt` (string, nullable)
          The ID of the SetupAttempt that generated this PaymentMethod, if any.

      - `last_payment_error.payment_method.sepa_debit.last4` (string, nullable)
        Last four characters of the IBAN.

    - `last_payment_error.payment_method.sofort` (object, nullable)
      If this is a `sofort` PaymentMethod, this hash contains details about the SOFORT payment method.

      - `last_payment_error.payment_method.sofort.country` (string, nullable)
        Two-letter ISO code representing the country the bank account is located in.

    - `last_payment_error.payment_method.swish` (object, nullable)
      If this is a `swish` PaymentMethod, this hash contains details about the Swish payment method.

    - `last_payment_error.payment_method.twint` (object, nullable)
      If this is a TWINT PaymentMethod, this hash contains details about the TWINT payment method.

    - `last_payment_error.payment_method.type` (enum)
      The type of the PaymentMethod. An additional hash is included on the PaymentMethod with a name matching this value. It contains additional information specific to the PaymentMethod type.
Possible enum values:
      - `acss_debit`
        [Pre-authorized debit payments](https://docs.stripe.com/docs/payments/acss-debit.md) are used to debit Canadian bank accounts through the Automated Clearing Settlement System (ACSS).

      - `affirm`
        [Affirm](https://docs.stripe.com/docs/payments/affirm.md) is a buy now, pay later payment method in the US.

      - `afterpay_clearpay`
        [Afterpay / Clearpay](https://docs.stripe.com/docs/payments/afterpay-clearpay.md) is a buy now, pay later payment method used in Australia, Canada, France, New Zealand, Spain, the UK, and the US.

      - `alipay`
        [Alipay](https://docs.stripe.com/docs/payments/alipay.md) is a digital wallet payment method used in China.

      - `alma`
        [Alma](https://docs.stripe.com/docs/payments/alma.md) is a Buy Now, Pay Later payment method that lets customers pay in 2, 3, or 4 installments.

      - `amazon_pay`
        [Amazon Pay](https://docs.stripe.com/docs/payments/amazon-pay.md) is a Wallet payment method that lets hundreds of millions of Amazon customers pay their way, every day.

      - `au_becs_debit`
        [BECS Direct Debit](https://docs.stripe.com/docs/payments/au-becs-debit.md) is used to debit Australian bank accounts through the Bulk Electronic Clearing System (BECS).

      - `bacs_debit`
        [Bacs Direct Debit](https://docs.stripe.com/docs/payments/payment-methods/bacs-debit.md) is used to debit UK bank accounts.

      - `bancontact`
        [Bancontact](https://docs.stripe.com/docs/payments/bancontact.md) is a bank redirect payment method used in Belgium.

      - `billie`
        [Billie](https://docs.stripe.com/docs/payments/billie.md) is a payment method.

      - `blik`
        [BLIK](https://docs.stripe.com/docs/payments/blik.md) is a single-use payment method common in Poland.

      - `boleto`
        [Boleto](https://docs.stripe.com/docs/payments/boleto.md) is a voucher-based payment method used in Brazil.

      - `card`
        [Card payments](https://docs.stripe.com/docs/payments/payment-methods/overview.md#cards) are supported through many networks, card brands, and select Link funding sources.

      - `card_present`
        [Stripe Terminal](https://docs.stripe.com/docs/terminal/payments/collect-card-payment.md) is used to collect in-person card payments.

      - `cashapp`
        [Cash App Pay](https://docs.stripe.com/docs/payments/cash-app-pay.md) enables customers to frictionlessly authenticate payments in the Cash App using their stored balance or linked card.

      - `crypto`
        [Stablecoin payments](https://docs.stripe.com/docs/payments/stablecoin-payments.md) enable customers to pay in stablecoins like USDC from 100s of wallets including Phantom and Metamask.

      - `custom`
        Custom payment methods are user-defined payment methods that Stripe doesn’t process. You can’t use them in PaymentIntents or SetupIntents.

      - `customer_balance`
        Uses a customer’s [cash balance](https://docs.stripe.com/docs/payments/customer-balance.md) for the payment.

      - `eps`
        [EPS](https://docs.stripe.com/docs/payments/eps.md) is an Austria-based bank redirect payment method.

      - `fpx`
        [FPX](https://docs.stripe.com/docs/payments/fpx.md) is a Malaysia-based bank redirect payment method.

      - `giropay`
        [giropay](https://docs.stripe.com/docs/payments/giropay.md) is a German bank redirect payment method.

      - `grabpay`
        [GrabPay](https://docs.stripe.com/docs/payments/grabpay.md) is a digital wallet payment method used in Southeast Asia.

      - `ideal`
        [iDEAL](https://docs.stripe.com/docs/payments/ideal.md) is a Netherlands-based bank redirect payment method.

      - `interac_present`
        [Stripe Terminal](https://docs.stripe.com/docs/terminal/payments/collect-card-payment.md) accepts [Interac](https://docs.stripe.com/docs/terminal/payments/regional.md?integration-country=CA#interac-payments) debit cards for in-person payments in Canada.

      - `kakao_pay`
        [Kakao Pay](https://docs.stripe.com/docs/payments/kakao-pay/accept-a-payment.md) is a digital wallet payment method used in South Korea.

      - `klarna`
        [Klarna](https://docs.stripe.com/docs/payments/klarna.md) is a global buy now, pay later payment method.

      - `konbini`
        [Konbini](https://docs.stripe.com/docs/payments/konbini.md) is a cash-based voucher payment method used in Japan.

      - `kr_card`
        [Korean cards](https://docs.stripe.com/docs/payments/kr-card/accept-a-payment.md) enables customers to accept local credit and debit cards in South Korea.

      - `link`
        [Link](https://docs.stripe.com/docs/payments/link.md) allows customers to pay with their saved payment details.

      - `mb_way`
        MB WAY is a payment method.

      - `mobilepay`
        [MobilePay](https://docs.stripe.com/docs/payments/mobilepay.md) is a Nordic card-passthrough wallet payment method where customers authorize the payment in the MobilePay application.

      - `multibanco`
        [Multibanco](https://docs.stripe.com/docs/payments/multibanco.md) is a voucher payment method

      - `naver_pay`
        [Naver Pay](https://docs.stripe.com/docs/payments/naver-pay/accept-a-payment.md) is a digital wallet payment method used in South Korea.

      - `nz_bank_account`
        [New Zealand BECS Direct Debit](https://docs.stripe.com/docs/payments/nz-bank-account.md) is used to debit New Zealand bank accounts through the Bulk Electronic Clearing System (BECS).

      - `oxxo`
        [OXXO](https://docs.stripe.com/docs/payments/oxxo.md) is a cash-based voucher payment method used in Mexico.

      - `p24`
        [Przelewy24](https://docs.stripe.com/docs/payments/p24.md) is a bank redirect payment method used in Poland.

      - `pay_by_bank`
        [Pay By Bank](https://docs.stripe.com/docs/payments/pay-by-bank.md) is an open banking payment method in the UK.

      - `payco`
        [PAYCO](https://docs.stripe.com/docs/payments/payco/accept-a-payment.md) is a digital wallet payment method used in South Korea.

      - `paynow`
        [PayNow](https://docs.stripe.com/docs/payments/paynow.md) is a QR code payment method used in Singapore.

      - `paypal`
        [PayPal](https://docs.stripe.com/docs/payments/paypal.md) is an online wallet and redirect payment method commonly used in Europe.

      - `paypay`
        [PayPay](https://docs.stripe.com/docs/payments/paypay.md) is a payment method.

      - `pix`
        [Pix](https://docs.stripe.com/docs/payments/pix.md) is an instant bank transfer payment method in Brazil.

      - `promptpay`
        [PromptPay](https://docs.stripe.com/docs/payments/promptpay.md) is an instant funds transfer service popular in Thailand.

      - `revolut_pay`
        [Revolut Pay](https://docs.stripe.com/docs/payments/revolut-pay.md) is a digital wallet payment method used in the United Kingdom.

      - `samsung_pay`
        [Samsung Pay](https://docs.stripe.com/docs/payments/samsung-pay/accept-a-payment.md) is a digital wallet payment method used in South Korea.

      - `satispay`
        [Satispay](https://docs.stripe.com/docs/payments/satispay.md) is a payment method.

      - `sepa_debit`
        [SEPA Direct Debit](https://docs.stripe.com/docs/payments/sepa-debit.md) is used to debit bank accounts within the Single Euro Payments Area (SEPA) region.

      - `sofort`
        [Sofort](https://docs.stripe.com/docs/payments/sofort.md) is a bank redirect payment method used in Europe.

      - `swish`
        [Swish](https://docs.stripe.com/docs/payments/swish.md) is a Swedish wallet payment method where customers authorize the payment in the Swish application.

      - `twint`
        [TWINT](https://docs.stripe.com/docs/payments/twint.md) is a single-use payment method used in Switzerland.

      - `us_bank_account`
        [ACH Direct Debit](https://docs.stripe.com/docs/payments/ach-direct-debit.md) is used to debit US bank accounts through the Automated Clearing House (ACH) payments system.

      - `wechat_pay`
        [WeChat Pay](https://docs.stripe.com/docs/payments/wechat-pay.md) is a digital wallet payment method based in China.

      - `zip`
        [Zip](https://docs.stripe.com/docs/payments/zip.md) is a Buy now, pay later Payment Method

    - `last_payment_error.payment_method.us_bank_account` (object, nullable)
      If this is an `us_bank_account` PaymentMethod, this hash contains details about the US bank account payment method.

      - `last_payment_error.payment_method.us_bank_account.account_holder_type` (enum, nullable)
        Account holder type: individual or company.
Possible enum values:
        - `company`
          Account belongs to a company

        - `individual`
          Account belongs to an individual

      - `last_payment_error.payment_method.us_bank_account.account_type` (enum, nullable)
        Account type: checkings or savings. Defaults to checking if omitted.
Possible enum values:
        - `checking`
          Bank account type is checking

        - `savings`
          Bank account type is savings

      - `last_payment_error.payment_method.us_bank_account.bank_name` (string, nullable)
        The name of the bank.

      - `last_payment_error.payment_method.us_bank_account.financial_connections_account` (string, nullable)
        The ID of the Financial Connections Account used to create the payment method.

      - `last_payment_error.payment_method.us_bank_account.fingerprint` (string, nullable)
        Uniquely identifies this particular bank account. You can use this attribute to check whether two bank accounts are the same.

      - `last_payment_error.payment_method.us_bank_account.last4` (string, nullable)
        Last four digits of the bank account number.

      - `last_payment_error.payment_method.us_bank_account.networks` (object, nullable)
        Contains information about US bank account networks that can be used.

        - `last_payment_error.payment_method.us_bank_account.networks.preferred` (string, nullable)
          The preferred network.

        - `last_payment_error.payment_method.us_bank_account.networks.supported` (array of enums)
          All supported networks.
Possible enum values:
          - `ach`
          - `us_domestic_wire`

      - `last_payment_error.payment_method.us_bank_account.routing_number` (string, nullable)
        Routing number of the bank account.

      - `last_payment_error.payment_method.us_bank_account.status_details` (object, nullable)
        Contains information about the future reusability of this PaymentMethod.

        - `last_payment_error.payment_method.us_bank_account.status_details.blocked` (object, nullable)
          Contains more information about the underlying block. This field will only be rendered if the PaymentMethod is blocked.

          - `last_payment_error.payment_method.us_bank_account.status_details.blocked.network_code` (enum, nullable)
            The ACH network code that resulted in this block.
Possible enum values:
            - `R02`
              Account Closed

            - `R03`
              No Account, Unable to Locate Account

            - `R04`
              Invalid Account Number Structure

            - `R05`
              Unauthorized Debit to Consumer Account Using Corporate SEC Code

            - `R07`
              Authorization Revoked By Consumer

            - `R08`
              Payment Stopped

            - `R10`
              Customer Advises Originator is Not Known to Receiver and/or Originator is Not Authorized by Receiver to Debit Receiver’s Account

            - `R11`
              Customer Advises Entry Not in Accordance with the Terms of Authorization

            - `R16`
              Account Frozen, Entry Returned Per OFAC Instructions

            - `R20`
              Non-Transaction Account

            - `R29`
              Corporate Customer Advises Not Authorized

            - `R31`
              Permissible Return Entry (CCD and CTX only)

          - `last_payment_error.payment_method.us_bank_account.status_details.blocked.reason` (enum, nullable)
            The reason why this PaymentMethod’s fingerprint has been blocked
Possible enum values:
            - `bank_account_closed`
              Bank account has been closed.

            - `bank_account_frozen`
              Bank account has been frozen.

            - `bank_account_invalid_details`
              Bank account details are incorrect. Please check the account number, routing number, account holder name, and account type.

            - `bank_account_restricted`
              Bank account does not support debits.

            - `bank_account_unusable`
              Bank account has been blocked by Stripe. Please contact Support.

            - `debit_not_authorized`
              Customer has disputed a previous payment with their bank. If the `network_code` is R29, please confirm that Stripe’s Company IDs are allowlisted before attempting additional payments.

    - `last_payment_error.payment_method.wechat_pay` (object, nullable)
      If this is an `wechat_pay` PaymentMethod, this hash contains details about the wechat_pay payment method.

    - `last_payment_error.payment_method.zip` (object, nullable)
      If this is a `zip` PaymentMethod, this hash contains details about the Zip payment method.

  - `last_payment_error.payment_method_type` (string, nullable)
    If the error is specific to the type of payment method, the payment method type that had a problem. This field is only populated for invoice-related errors.

  - `last_payment_error.source` (object, nullable)
    The [source object](https://docs.stripe.com/docs/api/sources/object.md) for errors returned on a request involving a source.

    - `last_payment_error.source.id` (string)
      Unique identifier for the object.

    - `last_payment_error.source.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `last_payment_error.source.account` (string, nullable)
      The account this card belongs to. Only applicable on Accounts (not customers or recipients) This property is only available when returned as an [External Account](https://docs.stripe.com/api/external_account_cards/object.md) where [controller.is_controller](https://docs.stripe.com/api/accounts/object.md#account_object-controller-is_controller) is `true`.

    - `last_payment_error.source.address_city` (string, nullable)
      City/District/Suburb/Town/Village.

    - `last_payment_error.source.address_country` (string, nullable)
      Billing address country, if provided when creating card.

    - `last_payment_error.source.address_line1` (string, nullable)
      Address line 1 (Street address/PO Box/Company name).

    - `last_payment_error.source.address_line1_check` (string, nullable)
      If `address_line1` was provided, results of the check: `pass`, `fail`, `unavailable`, or `unchecked`.

    - `last_payment_error.source.address_line2` (string, nullable)
      Address line 2 (Apartment/Suite/Unit/Building).

    - `last_payment_error.source.address_state` (string, nullable)
      State/County/Province/Region.

    - `last_payment_error.source.address_zip` (string, nullable)
      ZIP or postal code.

    - `last_payment_error.source.address_zip_check` (string, nullable)
      If `address_zip` was provided, results of the check: `pass`, `fail`, `unavailable`, or `unchecked`.

    - `last_payment_error.source.allow_redisplay` (enum, nullable)
      This field indicates whether this payment method can be shown again to its customer in a checkout flow. Stripe products such as Checkout and Elements use this field to determine whether a payment method can be shown as a saved payment method in a checkout flow. The field defaults to “unspecified”.
Possible enum values:
      - `always`
        Use `always` to indicate that this payment method can always be shown to a customer in a checkout flow.

      - `limited`
        Use `limited` to indicate that this payment method can’t always be shown to a customer in a checkout flow. For example, it can only be shown in the context of a specific subscription.

      - `unspecified`
        This is the default value for payment methods where `allow_redisplay` wasn’t set.

    - `last_payment_error.source.available_payout_methods` (array of enums, nullable)
      A set of available payout methods for this card. Only values from this set should be passed as the `method` when creating a payout.
Possible enum values:
      - `instant`
      - `standard`

    - `last_payment_error.source.brand` (string)
      Card brand. Can be `American Express`, `Cartes Bancaires`, `Diners Club`, `Discover`, `Eftpos Australia`, `Girocard`, `JCB`, `MasterCard`, `UnionPay`, `Visa`, or `Unknown`.

    - `last_payment_error.source.country` (string, nullable)
      Two-letter ISO code representing the country of the card. You could use this attribute to get a sense of the international breakdown of cards you’ve collected.

    - `last_payment_error.source.currency` (enum, nullable)
      Three-letter [ISO code for currency](https://www.iso.org/iso-4217-currency-codes.html) in lowercase. Must be a [supported currency](https://docs.stripe.com/currencies.md). Only applicable on accounts (not customers or recipients). The card can be used as a transfer destination for funds in this currency. This property is only available when returned as an [External Account](https://docs.stripe.com/api/external_account_cards/object.md) where [controller.is_controller](https://docs.stripe.com/api/accounts/object.md#account_object-controller-is_controller) is `true`.

    - `last_payment_error.source.customer` (string, nullable)
      The customer that this card belongs to. This attribute will not be in the card object if the card belongs to an account or recipient instead.

    - `last_payment_error.source.cvc_check` (string, nullable)
      If a CVC was provided, results of the check: `pass`, `fail`, `unavailable`, or `unchecked`. A result of unchecked indicates that CVC was provided but hasn’t been checked yet. Checks are typically performed when attaching a card to a Customer object, or when creating a charge. For more details, see [Check if a card is valid without a charge](https://support.stripe.com/questions/check-if-a-card-is-valid-without-a-charge).

    - `last_payment_error.source.dynamic_last4` (string, nullable)
      (For tokenized numbers only.) The last four digits of the device account number.

    - `last_payment_error.source.exp_month` (integer)
      Two-digit number representing the card’s expiration month.

    - `last_payment_error.source.exp_year` (integer)
      Four-digit number representing the card’s expiration year.

    - `last_payment_error.source.fingerprint` (string, nullable)
      Uniquely identifies this particular card number. You can use this attribute to check whether two customers who’ve signed up with you are using the same card number, for example. For payment methods that tokenize card information (Apple Pay, Google Pay), the tokenized number might be provided instead of the underlying card number.

      *As of May 1, 2021, card fingerprint in India for Connect changed to allow two fingerprints for the same card—one for India and one for the rest of the world.*

    - `last_payment_error.source.funding` (string)
      Card funding type. Can be `credit`, `debit`, `prepaid`, or `unknown`.

    - `last_payment_error.source.iin` (string, nullable)
      Issuer identification number of the card.

    - `last_payment_error.source.last4` (string)
      The last four digits of the card.

    - `last_payment_error.source.metadata` (object, nullable)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `last_payment_error.source.name` (string, nullable)
      Cardholder name.

    - `last_payment_error.source.regulated_status` (enum, nullable)
      Status of a card based on the card issuer.
Possible enum values:
      - `regulated`
        The card falls under a regulated account range.

      - `unregulated`
        The card does not fall under a regulated account range.

    - `last_payment_error.source.tokenization_method` (string, nullable)
      If the card number is tokenized, this is the method that was used. Can be `android_pay` (includes Google Pay), `apple_pay`, `masterpass`, `visa_checkout`, or null.

    - `last_payment_error.source.wallet` (object, nullable)
      If this Card is part of a card wallet, this contains the details of the card wallet.

      - `last_payment_error.source.wallet.apple_pay` (object, nullable)
        If this is a `apple_pay` card wallet, this hash contains details about the wallet.

      - `last_payment_error.source.wallet.type` (enum)
        The type of the card wallet, one of `apple_pay` or `link`. An additional hash is included on the Wallet subhash with a name matching this value. It contains additional information specific to the card wallet type.
Possible enum values:
        - `apple_pay`
        - `link`

  - `last_payment_error.type` (enum)
    The type of error returned. One of `api_error`, `card_error`, `idempotency_error`, or `invalid_request_error`
Possible enum values:
    - `api_error`
    - `card_error`
    - `idempotency_error`
    - `invalid_request_error`

- `latest_charge` (string, nullable)
  ID of the latest [Charge object](https://docs.stripe.com/docs/api/charges.md) created by this PaymentIntent. This property is `null` until PaymentIntent confirmation is attempted.

- `livemode` (boolean)
  Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

- `metadata` (object)
  Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format. Learn more about [storing information in metadata](https://docs.stripe.com/docs/payments/payment-intents/creating-payment-intents.md#storing-information-in-metadata).

- `next_action` (object, nullable)
  If present, this property tells you what actions you need to take in order for your customer to fulfill a payment using the provided source.

  - `next_action.alipay_handle_redirect` (object, nullable)
    Contains instructions for authenticating a payment by redirecting your customer to Alipay App or website.

    - `next_action.alipay_handle_redirect.native_data` (string, nullable)
      The native data to be used with Alipay SDK you must redirect your customer to in order to authenticate the payment in an Android App.

    - `next_action.alipay_handle_redirect.native_url` (string, nullable)
      The native URL you must redirect your customer to in order to authenticate the payment in an iOS App.

    - `next_action.alipay_handle_redirect.return_url` (string, nullable)
      If the customer does not exit their browser while authenticating, they will be redirected to this specified URL after completion.

    - `next_action.alipay_handle_redirect.url` (string, nullable)
      The URL you must redirect your customer to in order to authenticate the payment.

  - `next_action.boleto_display_details` (object, nullable)
    Contains Boleto details necessary for the customer to complete the payment.

    - `next_action.boleto_display_details.expires_at` (timestamp, nullable)
      The timestamp after which the boleto expires.

    - `next_action.boleto_display_details.hosted_voucher_url` (string, nullable)
      The URL to the hosted boleto voucher page, which allows customers to view the boleto voucher.

    - `next_action.boleto_display_details.number` (string, nullable)
      The boleto number.

    - `next_action.boleto_display_details.pdf` (string, nullable)
      The URL to the downloadable boleto voucher PDF.

  - `next_action.card_await_notification` (object, nullable)
    Contains instructions for processing off session recurring payments with Indian issued cards.

    - `next_action.card_await_notification.charge_attempt_at` (timestamp, nullable)
      The time that payment will be attempted. If customer approval is required, they need to provide approval before this time.

    - `next_action.card_await_notification.customer_approval_required` (boolean, nullable)
      For payments greater than INR 15000, the customer must provide explicit approval of the payment with their bank. For payments of lower amount, no customer action is required.

  - `next_action.cashapp_handle_redirect_or_display_qr_code` (object, nullable)
    The field that contains Cash App Pay QR code info

    - `next_action.cashapp_handle_redirect_or_display_qr_code.hosted_instructions_url` (string)
      The URL to the hosted Cash App Pay instructions page, which allows customers to view the QR code, and supports QR code refreshing on expiration.

    - `next_action.cashapp_handle_redirect_or_display_qr_code.mobile_auth_url` (string)
      The url for mobile redirect based auth

    - `next_action.cashapp_handle_redirect_or_display_qr_code.qr_code` (object)
      The field that contains CashApp QR code info

      - `next_action.cashapp_handle_redirect_or_display_qr_code.qr_code.expires_at` (timestamp)
        The date (unix timestamp) when the QR code expires.

      - `next_action.cashapp_handle_redirect_or_display_qr_code.qr_code.image_url_png` (string)
        The image_url_png string used to render QR code

      - `next_action.cashapp_handle_redirect_or_display_qr_code.qr_code.image_url_svg` (string)
        The image_url_svg string used to render QR code

  - `next_action.display_bank_transfer_instructions` (object, nullable)
    Contains the bank transfer details necessary for the customer to complete the payment.

    - `next_action.display_bank_transfer_instructions.amount_remaining` (integer, nullable)
      The remaining amount that needs to be transferred to complete the payment.

    - `next_action.display_bank_transfer_instructions.currency` (enum, nullable)
      Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

    - `next_action.display_bank_transfer_instructions.financial_addresses` (array of objects, nullable)
      A list of financial addresses that can be used to fund the customer balance

      - `next_action.display_bank_transfer_instructions.financial_addresses.aba` (object, nullable)
        An account and routing number US FinancialAddress

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address` (object)
          The account holder’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_holder_name` (string)
          The account holder name

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_number` (string)
          The ABA account number

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.account_type` (string)
          The account type

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address` (object)
          The bank’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.bank_name` (string)
          The bank name

        - `next_action.display_bank_transfer_instructions.financial_addresses.aba.routing_number` (string)
          The ABA routing number

      - `next_action.display_bank_transfer_instructions.financial_addresses.iban` (object, nullable)
        An IBAN-based FinancialAddress

        - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address` (object)
          The account holder’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.iban.account_holder_name` (string)
          The name of the person or business that owns the bank account

        - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address` (object)
          The bank’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bank_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.iban.bic` (string)
          The BIC/SWIFT code of the account.

        - `next_action.display_bank_transfer_instructions.financial_addresses.iban.country` (string)
          Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

        - `next_action.display_bank_transfer_instructions.financial_addresses.iban.iban` (string)
          The IBAN of the account.

      - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code` (object, nullable)
        An account number and sort code-based FinancialAddress

        - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address` (object)
          The account holder’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_holder_name` (string)
          The name of the person or business that owns the bank account

        - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.account_number` (string)
          The account number

        - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address` (object)
          The bank’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.bank_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.sort_code.sort_code` (string)
          The six-digit sort code

      - `next_action.display_bank_transfer_instructions.financial_addresses.spei` (object, nullable)
        A SPEI-based FinancialAddress

        - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address` (object)
          The account holder’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.spei.account_holder_name` (string)
          The account holder name

        - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address` (object)
          The bank’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_code` (string)
          The three-digit bank code

        - `next_action.display_bank_transfer_instructions.financial_addresses.spei.bank_name` (string)
          The short banking institution name

        - `next_action.display_bank_transfer_instructions.financial_addresses.spei.clabe` (string)
          The CLABE number

      - `next_action.display_bank_transfer_instructions.financial_addresses.supported_networks` (array of enums, nullable)
        The payment networks supported by this FinancialAddress

      - `next_action.display_bank_transfer_instructions.financial_addresses.swift` (object, nullable)
        An account and swift code FinancialAddress

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address` (object)
          The account holder’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_holder_name` (string)
          The account holder name

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_number` (string)
          The account number

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.account_type` (string)
          The account type

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address` (object)
          The bank’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.bank_name` (string)
          The bank name

        - `next_action.display_bank_transfer_instructions.financial_addresses.swift.swift_code` (string)
          The SWIFT code

      - `next_action.display_bank_transfer_instructions.financial_addresses.type` (enum)
        The type of financial address

      - `next_action.display_bank_transfer_instructions.financial_addresses.zengin` (object, nullable)
        A Zengin-based FinancialAddress

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address` (object)
          The account holder’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_holder_name` (string, nullable)
          The account holder name

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_number` (string, nullable)
          The account number

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.account_type` (string, nullable)
          The bank account type. In Japan, this can only be `futsu` or `toza`.

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address` (object)
          The bank’s physical address

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address.city` (string, nullable)
            City, district, suburb, town, or village.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address.country` (string, nullable)
            Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address.line1` (string, nullable)
            Address line 1, such as the street, PO Box, or company name.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address.line2` (string, nullable)
            Address line 2, such as the apartment, suite, unit, or building.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address.postal_code` (string, nullable)
            ZIP or postal code.

          - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_address.state` (string, nullable)
            State, county, province, or region.

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_code` (string, nullable)
          The bank code of the account

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.bank_name` (string, nullable)
          The bank name of the account

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.branch_code` (string, nullable)
          The branch code of the account

        - `next_action.display_bank_transfer_instructions.financial_addresses.zengin.branch_name` (string, nullable)
          The branch name of the account

    - `next_action.display_bank_transfer_instructions.hosted_instructions_url` (string, nullable)
      A link to a hosted page that guides your customer through completing the transfer.

    - `next_action.display_bank_transfer_instructions.reference` (string, nullable)
      A string identifying this payment. Instruct your customer to include this code in the reference or memo field of their bank transfer.

    - `next_action.display_bank_transfer_instructions.type` (enum)
      Type of bank transfer
Possible enum values:
      - `eu_bank_transfer`
        A bank transfer of type eu_bank_transfer

      - `gb_bank_transfer`
        A bank transfer of type gb_bank_transfer

      - `jp_bank_transfer`
        A bank transfer of type jp_bank_transfer

      - `mx_bank_transfer`
        A bank transfer of type mx_bank_transfer

      - `us_bank_transfer`
        A bank transfer of type us_bank_transfer

  - `next_action.konbini_display_details` (object, nullable)
    Contains Konbini details necessary for the customer to complete the payment.

    - `next_action.konbini_display_details.expires_at` (timestamp)
      The timestamp at which the pending Konbini payment expires.

    - `next_action.konbini_display_details.hosted_voucher_url` (string, nullable)
      The URL for the Konbini payment instructions page, which allows customers to view and print a Konbini voucher.

    - `next_action.konbini_display_details.stores` (object)
      Payment instruction details grouped by convenience store chain.

      - `next_action.konbini_display_details.stores.familymart` (object, nullable)
        FamilyMart instruction details.

        - `next_action.konbini_display_details.stores.familymart.confirmation_number` (string, nullable)
          The confirmation number.

        - `next_action.konbini_display_details.stores.familymart.payment_code` (string)
          The payment code.

      - `next_action.konbini_display_details.stores.lawson` (object, nullable)
        Lawson instruction details.

        - `next_action.konbini_display_details.stores.lawson.confirmation_number` (string, nullable)
          The confirmation number.

        - `next_action.konbini_display_details.stores.lawson.payment_code` (string)
          The payment code.

      - `next_action.konbini_display_details.stores.ministop` (object, nullable)
        Ministop instruction details.

        - `next_action.konbini_display_details.stores.ministop.confirmation_number` (string, nullable)
          The confirmation number.

        - `next_action.konbini_display_details.stores.ministop.payment_code` (string)
          The payment code.

      - `next_action.konbini_display_details.stores.seicomart` (object, nullable)
        Seicomart instruction details.

        - `next_action.konbini_display_details.stores.seicomart.confirmation_number` (string, nullable)
          The confirmation number.

        - `next_action.konbini_display_details.stores.seicomart.payment_code` (string)
          The payment code.

  - `next_action.multibanco_display_details` (object, nullable)
    Contains Multibanco details necessary for the customer to complete the payment.

    - `next_action.multibanco_display_details.entity` (string, nullable)
      Entity number associated with this Multibanco payment.

    - `next_action.multibanco_display_details.expires_at` (timestamp, nullable)
      The timestamp at which the Multibanco voucher expires.

    - `next_action.multibanco_display_details.hosted_voucher_url` (string, nullable)
      The URL for the hosted Multibanco voucher page, which allows customers to view a Multibanco voucher.

    - `next_action.multibanco_display_details.reference` (string, nullable)
      Reference number associated with this Multibanco payment.

  - `next_action.oxxo_display_details` (object, nullable)
    Contains OXXO details necessary for the customer to complete the payment.

    - `next_action.oxxo_display_details.expires_after` (timestamp, nullable)
      The timestamp after which the OXXO voucher expires.

    - `next_action.oxxo_display_details.hosted_voucher_url` (string, nullable)
      The URL for the hosted OXXO voucher page, which allows customers to view and print an OXXO voucher.

    - `next_action.oxxo_display_details.number` (string, nullable)
      OXXO reference number.

  - `next_action.paynow_display_qr_code` (object, nullable)
    The field that contains PayNow QR code info

    - `next_action.paynow_display_qr_code.data` (string)
      The raw data string used to generate QR code, it should be used together with QR code library.

    - `next_action.paynow_display_qr_code.hosted_instructions_url` (string, nullable)
      The URL to the hosted PayNow instructions page, which allows customers to view the PayNow QR code.

    - `next_action.paynow_display_qr_code.image_url_png` (string)
      The image_url_png string used to render QR code

    - `next_action.paynow_display_qr_code.image_url_svg` (string)
      The image_url_svg string used to render QR code

  - `next_action.pix_display_qr_code` (object, nullable)
    The field that contains Pix QR code info

    - `next_action.pix_display_qr_code.data` (string)
      The raw data string used to generate QR code, it should be used together with QR code library.

    - `next_action.pix_display_qr_code.expires_at` (integer)
      The date (unix timestamp) when the PIX expires.

    - `next_action.pix_display_qr_code.hosted_instructions_url` (string)
      The URL to the hosted pix instructions page, which allows customers to view the pix QR code.

    - `next_action.pix_display_qr_code.image_url_png` (string)
      The image_url_png string used to render png QR code

    - `next_action.pix_display_qr_code.image_url_svg` (string)
      The image_url_svg string used to render svg QR code

  - `next_action.promptpay_display_qr_code` (object, nullable)
    The field that contains PromptPay QR code info

    - `next_action.promptpay_display_qr_code.data` (string)
      The raw data string used to generate QR code, it should be used together with QR code library.

    - `next_action.promptpay_display_qr_code.hosted_instructions_url` (string)
      The URL to the hosted PromptPay instructions page, which allows customers to view the PromptPay QR code.

    - `next_action.promptpay_display_qr_code.image_url_png` (string)
      The PNG path used to render the QR code, can be used as the source in an HTML img tag

    - `next_action.promptpay_display_qr_code.image_url_svg` (string)
      The SVG path used to render the QR code, can be used as the source in an HTML img tag

  - `next_action.redirect_to_url` (object, nullable)
    Contains instructions for authenticating a payment by redirecting your customer to another page or application.

    - `next_action.redirect_to_url.return_url` (string, nullable)
      If the customer does not exit their browser while authenticating, they will be redirected to this specified URL after completion.

    - `next_action.redirect_to_url.url` (string, nullable)
      The URL you must redirect your customer to in order to authenticate the payment.

  - `next_action.swish_handle_redirect_or_display_qr_code` (object, nullable)
    The field that contains Swish QR code and mobile redirect info

    - `next_action.swish_handle_redirect_or_display_qr_code.hosted_instructions_url` (string)
      The URL to the hosted Swish instructions page, which allows customers to view the QR code.

    - `next_action.swish_handle_redirect_or_display_qr_code.qr_code` (object)
      The field that contains Swish QR code info

      - `next_action.swish_handle_redirect_or_display_qr_code.qr_code.data` (string)
        The raw data string used to generate QR code, it should be used together with QR code library.

      - `next_action.swish_handle_redirect_or_display_qr_code.qr_code.image_url_png` (string)
        The image_url_png string used to render QR code

      - `next_action.swish_handle_redirect_or_display_qr_code.qr_code.image_url_svg` (string)
        The image_url_svg string used to render QR code

  - `next_action.type` (string)
    Type of the next action to perform. Refer to the other child attributes under `next_action` for available values. Examples include: `redirect_to_url`, `use_stripe_sdk`, `alipay_handle_redirect`, `oxxo_display_details`, or `verify_with_microdeposits`.

  - `next_action.use_stripe_sdk` (object, nullable)
    When confirming a PaymentIntent with Stripe.js, Stripe.js depends on the contents of this dictionary to invoke authentication flows. The shape of the contents is subject to change and is only intended to be used by Stripe.js.

  - `next_action.verify_with_microdeposits` (object, nullable)
    Contains details describing microdeposits verification flow.

    - `next_action.verify_with_microdeposits.arrival_date` (timestamp)
      The timestamp when the microdeposits are expected to land.

    - `next_action.verify_with_microdeposits.hosted_verification_url` (string)
      The URL for the hosted verification page, which allows customers to verify their bank account.

    - `next_action.verify_with_microdeposits.microdeposit_type` (enum, nullable)
      The type of the microdeposit sent to the customer. Used to distinguish between different verification methods.

  - `next_action.wechat_pay_display_qr_code` (object, nullable)
    The field that contains WeChat Pay QR code info

    - `next_action.wechat_pay_display_qr_code.data` (string)
      The data being used to generate QR code

    - `next_action.wechat_pay_display_qr_code.hosted_instructions_url` (string)
      The URL to the hosted WeChat Pay instructions page, which allows customers to view the WeChat Pay QR code.

    - `next_action.wechat_pay_display_qr_code.image_data_url` (string)
      The base64 image data for a pre-generated QR code

    - `next_action.wechat_pay_display_qr_code.image_url_png` (string)
      The image_url_png string used to render QR code

    - `next_action.wechat_pay_display_qr_code.image_url_svg` (string)
      The image_url_svg string used to render QR code

  - `next_action.wechat_pay_redirect_to_android_app` (object, nullable)
    Info required for android app to app redirect

    - `next_action.wechat_pay_redirect_to_android_app.app_id` (string)
      app_id is the APP ID registered on WeChat open platform

    - `next_action.wechat_pay_redirect_to_android_app.nonce_str` (string)
      nonce_str is a random string

    - `next_action.wechat_pay_redirect_to_android_app.package` (string)
      package is static value

    - `next_action.wechat_pay_redirect_to_android_app.partner_id` (string)
      an unique merchant ID assigned by WeChat Pay

    - `next_action.wechat_pay_redirect_to_android_app.prepay_id` (string)
      an unique trading ID assigned by WeChat Pay

    - `next_action.wechat_pay_redirect_to_android_app.sign` (string)
      A signature

    - `next_action.wechat_pay_redirect_to_android_app.timestamp` (string)
      Specifies the current time in epoch format

  - `next_action.wechat_pay_redirect_to_ios_app` (object, nullable)
    Info required for iOS app to app redirect

    - `next_action.wechat_pay_redirect_to_ios_app.native_url` (string)
      An universal link that redirect to WeChat Pay app

- `on_behalf_of` (string, nullable)
  The account (if any) for which the funds of the PaymentIntent are intended. See the PaymentIntents [use case for connected accounts](https://docs.stripe.com/docs/payments/connected-accounts.md) for details.

- `payment_details` (object, nullable)
  Payment details for this PaymentIntent.

  - `payment_details.customer_reference` (string, nullable)
    A unique value to identify the customer. This field is available only for card payments.

    This field is truncated to 25 alphanumeric characters, excluding spaces, before being sent to card networks.

  - `payment_details.order_reference` (string, nullable)
    A unique value assigned by the business to identify the transaction. Required for L2 and L3 rates.

    Required when the Payment Method Types array contains `card`, including when [automatic_payment_methods.enabled](https://docs.stripe.com/api/payment_intents/create.md#create_payment_intent-automatic_payment_methods-enabled) is set to `true`.

    For Cards, this field is truncated to 25 alphanumeric characters, excluding spaces, before being sent to card networks. For Klarna, this field is truncated to 255 characters and is visible to customers when they view the order in the Klarna app.

- `payment_method` (string, nullable)
  ID of the payment method used in this PaymentIntent.

- `payment_method_configuration_details` (object, nullable)
  Information about the [payment method configuration](https://docs.stripe.com/docs/api/payment_method_configurations.md) used for this PaymentIntent.

  - `payment_method_configuration_details.id` (string)
    ID of the payment method configuration used.

  - `payment_method_configuration_details.parent` (string, nullable)
    ID of the parent payment method configuration used.

- `payment_method_options` (object, nullable)
  Payment-method-specific configuration for this PaymentIntent.

  - `payment_method_options.acss_debit` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `acss_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.acss_debit.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.acss_debit.mandate_options.custom_mandate_url` (string, nullable)
        A URL for custom mandate text

      - `payment_method_options.acss_debit.mandate_options.interval_description` (string, nullable)
        Description of the interval. Only required if the ‘payment_schedule’ parameter is ‘interval’ or ‘combined’.

      - `payment_method_options.acss_debit.mandate_options.payment_schedule` (enum, nullable)
        Payment schedule for the mandate.
Possible enum values:
        - `combined`
          Payments can be initiated at a pre-defined interval or sporadically

        - `interval`
          Payments are initiated at a regular pre-defined interval

        - `sporadic`
          Payments are initiated sporadically

      - `payment_method_options.acss_debit.mandate_options.transaction_type` (enum, nullable)
        Transaction type of the mandate.
Possible enum values:
        - `business`
          Transactions are made for business reasons

        - `personal`
          Transactions are made for personal reasons

    - `payment_method_options.acss_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.acss_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

    - `payment_method_options.acss_debit.verification_method` (enum, nullable)
      Bank account verification method.
Possible enum values:
      - `automatic`
        Instant verification with fallback to microdeposits.

      - `instant`
        Instant verification.

      - `microdeposits`
        Verification using microdeposits.

  - `payment_method_options.affirm` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `affirm`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.affirm.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.affirm.preferred_locale` (string, nullable)
      Preferred language of the Affirm authorization page that the customer is redirected to.

    - `payment_method_options.affirm.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.afterpay_clearpay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `afterpay_clearpay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.afterpay_clearpay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.afterpay_clearpay.reference` (string, nullable)
      An internal identifier or reference that this payment corresponds to. You must limit the identifier to 128 characters, and it can only contain letters, numbers, underscores, backslashes, and dashes. This field differs from the statement descriptor and item name.

    - `payment_method_options.afterpay_clearpay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.alipay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `alipay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.alipay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.alma` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `alma`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.alma.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.amazon_pay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `amazon_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.amazon_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.amazon_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.au_becs_debit` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `au_becs_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.au_becs_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.au_becs_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.bacs_debit` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `bacs_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.bacs_debit.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.bacs_debit.mandate_options.reference_prefix` (string, nullable)
        Prefix used to generate the Mandate reference. Must be at most 12 characters long. Must consist of only uppercase letters, numbers, spaces, or the following special characters: ‘/’, ‘_’, ‘-’, ‘&’, ‘.’. Cannot begin with ‘DDIC’ or ‘STRIPE’.

    - `payment_method_options.bacs_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.bacs_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.bancontact` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `bancontact`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.bancontact.preferred_language` (enum)
      Preferred language of the Bancontact authorization page that the customer is redirected to.
Possible enum values:
      - `de`
      - `en`
      - `fr`
      - `nl`

    - `payment_method_options.bancontact.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.billie` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `billie`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.billie.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.blik` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `blik`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.blik.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.boleto` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `boleto`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.boleto.expires_after_days` (integer)
      The number of calendar days before a Boleto voucher expires. For example, if you create a Boleto voucher on Monday and you set expires_after_days to 2, the Boleto voucher will expire on Wednesday at 23:59 America/Sao_Paulo time.

    - `payment_method_options.boleto.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

  - `payment_method_options.card` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `card`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.card.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.card.installments` (object, nullable)
      Installment details for this payment.

      For more information, see the [installments integration guide](https://docs.stripe.com/docs/payments/installments.md).

      - `payment_method_options.card.installments.available_plans` (array of objects, nullable)
        Installment plans that may be selected for this PaymentIntent.

        - `payment_method_options.card.installments.available_plans.count` (integer, nullable)
          For `fixed_count` installment plans, this is the number of installment payments your customer will make to their credit card.

        - `payment_method_options.card.installments.available_plans.interval` (enum, nullable)
          For `fixed_count` installment plans, this is the interval between installment payments your customer will make to their credit card. One of `month`.
Possible enum values:
          - `month`

        - `payment_method_options.card.installments.available_plans.type` (enum)
          Type of installment plan, one of `fixed_count`, `bonus`, or `revolving`.
Possible enum values:
          - `bonus`
            An installment plan used in Japan, where the customer defers payment to a later date that aligns with their salary bonus.

          - `fixed_count`
            An installment plan where the number of installment payments is fixed and known at the time of purchase.

          - `revolving`
            An installment plan used in Japan, where the customer pays a certain amount each month, and the remaining balance rolls over to the next month.

      - `payment_method_options.card.installments.enabled` (boolean)
        Whether Installments are enabled for this PaymentIntent.

      - `payment_method_options.card.installments.plan` (object, nullable)
        Installment plan selected for this PaymentIntent.

        - `payment_method_options.card.installments.plan.count` (integer, nullable)
          For `fixed_count` installment plans, this is the number of installment payments your customer will make to their credit card.

        - `payment_method_options.card.installments.plan.interval` (enum, nullable)
          For `fixed_count` installment plans, this is the interval between installment payments your customer will make to their credit card. One of `month`.
Possible enum values:
          - `month`

        - `payment_method_options.card.installments.plan.type` (enum)
          Type of installment plan, one of `fixed_count`, `bonus`, or `revolving`.
Possible enum values:
          - `bonus`
            An installment plan used in Japan, where the customer defers payment to a later date that aligns with their salary bonus.

          - `fixed_count`
            An installment plan where the number of installment payments is fixed and known at the time of purchase.

          - `revolving`
            An installment plan used in Japan, where the customer pays a certain amount each month, and the remaining balance rolls over to the next month.

    - `payment_method_options.card.mandate_options` (object, nullable)
      Configuration options for setting up an eMandate for cards issued in India.

      - `payment_method_options.card.mandate_options.amount` (integer)
        Amount to be charged for future payments.

      - `payment_method_options.card.mandate_options.amount_type` (enum)
        One of `fixed` or `maximum`. If `fixed`, the `amount` param refers to the exact amount to be charged in future payments. If `maximum`, the amount charged can be up to the value passed for the `amount` param.
Possible enum values:
        - `fixed`
        - `maximum`

      - `payment_method_options.card.mandate_options.description` (string, nullable)
        A description of the mandate or subscription that is meant to be displayed to the customer.

      - `payment_method_options.card.mandate_options.end_date` (timestamp, nullable)
        End date of the mandate or subscription. If not provided, the mandate will be active until canceled. If provided, end date should be after start date.

      - `payment_method_options.card.mandate_options.interval` (enum)
        Specifies payment frequency. One of `day`, `week`, `month`, `year`, or `sporadic`.
Possible enum values:
        - `day`
        - `month`
        - `sporadic`
        - `week`
        - `year`

      - `payment_method_options.card.mandate_options.interval_count` (integer, nullable)
        The number of intervals between payments. For example, `interval=month` and `interval_count=3` indicates one payment every three months. Maximum of one year interval allowed (1 year, 12 months, or 52 weeks). This parameter is optional when `interval=sporadic`.

      - `payment_method_options.card.mandate_options.reference` (string)
        Unique identifier for the mandate or subscription.

      - `payment_method_options.card.mandate_options.start_date` (timestamp)
        Start date of the mandate or subscription. Start date should not be lesser than yesterday.

      - `payment_method_options.card.mandate_options.supported_types` (array of enums, nullable)
        Specifies the type of mandates supported. Possible values are `india`.
Possible enum values:
        - `india`

    - `payment_method_options.card.network` (enum, nullable)
      Selected network to process this payment intent on. Depends on the available networks of the card attached to the payment intent. Can be only set confirm-time.
Possible enum values:
      - `amex`
      - `cartes_bancaires`
      - `diners`
      - `discover`
      - `eftpos_au`
      - `girocard`
      - `interac`
      - `jcb`
      - `link`
      - `mastercard`
      - `unionpay`
      - `unknown`
      - `visa`

    - `payment_method_options.card.request_extended_authorization` (enum, nullable)
      Request ability to [capture beyond the standard authorization validity window](https://docs.stripe.com/docs/payments/extended-authorization.md) for this PaymentIntent.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to extend the capture window when eligible for extended authorization.

      - `never`
        Use `never` if you don’t want to extend the capture window.

    - `payment_method_options.card.request_incremental_authorization` (enum, nullable)
      Request ability to [increment the authorization](https://docs.stripe.com/docs/payments/incremental-authorization.md) for this PaymentIntent.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to increment the authorization on the PaymentIntent when eligible.

      - `never`
        Use `never` if you don’t want to increment the authorization on the PaymentIntent.

    - `payment_method_options.card.request_multicapture` (enum, nullable)
      Request ability to make [multiple captures](https://docs.stripe.com/docs/payments/multicapture.md) for this PaymentIntent.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to use multicapture when eligible.

      - `never`
        Use `never` if you don’t want to use multicapture.

    - `payment_method_options.card.request_overcapture` (enum, nullable)
      Request ability to [overcapture](https://docs.stripe.com/docs/payments/overcapture.md) for this PaymentIntent.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to overcapture the payment when eligible.

      - `never`
        Use `never` if you don’t want to overcapture the payment.

    - `payment_method_options.card.request_three_d_secure` (enum, nullable)
      We strongly recommend that you rely on our SCA Engine to automatically prompt your customers for authentication based on risk level and [other requirements](https://docs.stripe.com/docs/strong-customer-authentication.md). However, if you wish to request 3D Secure based on logic from your own fraud engine, provide this option. If not provided, this value defaults to `automatic`. Read our guide on [manually requesting 3D Secure](https://docs.stripe.com/docs/payments/3d-secure/authentication-flow.md#manual-three-ds) for more information on how this configuration interacts with Radar and our SCA Engine.
Possible enum values:
      - `any`
        Use `any` to manually request 3DS with a preference for a `frictionless` flow, increasing the likelihood of the authentication being completed without any additional input from the customer. 3DS will always be attempted if it is supported for the card, but Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

      - `automatic`
        (Default) Our SCA Engine automatically prompts your customers for authentication based on risk level and other requirements.

      - `challenge`
        Use `challenge` to request 3DS with a preference for a `challenge` flow, where the customer must respond to a prompt for active authentication. Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

    - `payment_method_options.card.require_cvc_recollection` (boolean, nullable)
      When enabled, using a card that is attached to a customer will require the CVC to be provided again (i.e. using the cvc_token parameter).

    - `payment_method_options.card.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.card.statement_descriptor_suffix_kana` (string, nullable)
      Provides information about a card payment that customers see on their statements. Concatenated with the Kana prefix (shortened Kana descriptor) or Kana statement descriptor that’s set on the account to form the complete statement descriptor. Maximum 22 characters. On card statements, the *concatenation* of both prefix and suffix (including separators) will appear truncated to 22 characters.

    - `payment_method_options.card.statement_descriptor_suffix_kanji` (string, nullable)
      Provides information about a card payment that customers see on their statements. Concatenated with the Kanji prefix (shortened Kanji descriptor) or Kanji statement descriptor that’s set on the account to form the complete statement descriptor. Maximum 17 characters. On card statements, the *concatenation* of both prefix and suffix (including separators) will appear truncated to 17 characters.

  - `payment_method_options.card_present` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `card_present`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.card_present.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

      - `manual_preferred`
        Use `manual_preferred` if you prefer `manual` capture_method but support falling back to `automatic` based on the presented payment method.

    - `payment_method_options.card_present.request_extended_authorization` (boolean, nullable)
      Request ability to capture this payment beyond the standard [authorization validity window](https://docs.stripe.com/docs/terminal/features/extended-authorizations.md#authorization-validity)

    - `payment_method_options.card_present.request_incremental_authorization_support` (boolean, nullable)
      Request ability to [increment](https://docs.stripe.com/docs/terminal/features/incremental-authorizations.md) this PaymentIntent if the combination of MCC and card brand is eligible. Check [incremental_authorization_supported](https://docs.stripe.com/docs/api/charges/object.md#charge_object-payment_method_details-card_present-incremental_authorization_supported) in the [Confirm](https://docs.stripe.com/docs/api/payment_intents/confirm.md) response to verify support.

    - `payment_method_options.card_present.routing` (object, nullable)
      Network routing priority on co-branded EMV cards supporting domestic debit and international card schemes.

      - `payment_method_options.card_present.routing.requested_priority` (enum, nullable)
        Requested routing priority
Possible enum values:
        - `domestic`
          Prioritize domestic debit network routing on payment method collection

        - `international`
          Prioritize international network routing on payment method collection

  - `payment_method_options.cashapp` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `cashapp`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.cashapp.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.cashapp.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

  - `payment_method_options.crypto` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `crypto`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.crypto.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.customer_balance` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `customer_balance`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.customer_balance.bank_transfer` (object, nullable)
      Configuration for the bank transfer funding type, if the `funding_type` is set to `bank_transfer`.

      - `payment_method_options.customer_balance.bank_transfer.eu_bank_transfer` (object, nullable)
        Configuration for eu_bank_transfer

        - `payment_method_options.customer_balance.bank_transfer.eu_bank_transfer.country` (enum)
          The desired country code of the bank account information. Permitted values include: `BE`, `DE`, `ES`, `FR`, `IE`, or `NL`.
Possible enum values:
          - `BE`
          - `DE`
          - `ES`
          - `FR`
          - `IE`
          - `NL`

      - `payment_method_options.customer_balance.bank_transfer.requested_address_types` (array of enums, nullable)
        List of address types that should be returned in the financial_addresses response. If not specified, all valid types will be returned.

        Permitted values include: `sort_code`, `zengin`, `iban`, or `spei`.
Possible enum values:
        - `aba`
          aba bank account address type

        - `iban`
          iban bank account address type

        - `sepa`
          sepa bank account address type

        - `sort_code`
          sort_code bank account address type

        - `spei`
          spei bank account address type

        - `swift`
          swift bank account address type

        - `zengin`
          zengin bank account address type

      - `payment_method_options.customer_balance.bank_transfer.type` (enum, nullable)
        The bank transfer type that this PaymentIntent is allowed to use for funding Permitted values include: `eu_bank_transfer`, `gb_bank_transfer`, `jp_bank_transfer`, `mx_bank_transfer`, or `us_bank_transfer`.
Possible enum values:
        - `eu_bank_transfer`
          A bank transfer of type eu_bank_transfer

        - `gb_bank_transfer`
          A bank transfer of type gb_bank_transfer

        - `jp_bank_transfer`
          A bank transfer of type jp_bank_transfer

        - `mx_bank_transfer`
          A bank transfer of type mx_bank_transfer

        - `us_bank_transfer`
          A bank transfer of type us_bank_transfer

    - `payment_method_options.customer_balance.funding_type` (enum, nullable)
      The funding method type to be used when there are not enough funds in the customer balance. Permitted values include: `bank_transfer`.
Possible enum values:
      - `bank_transfer`

    - `payment_method_options.customer_balance.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.eps` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `eps`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.eps.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.fpx` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `fpx`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.fpx.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.giropay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `giropay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.giropay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.grabpay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `grabpay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.grabpay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.ideal` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `ideal`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.ideal.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.interac_present` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `interac_present`, this hash contains the configurations that will be applied to each payment attempt of that type.

  - `payment_method_options.kakao_pay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `kakao_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.kakao_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.kakao_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.klarna` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `klarna`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.klarna.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.klarna.preferred_locale` (string, nullable)
      Preferred locale of the Klarna checkout page that the customer is redirected to.

    - `payment_method_options.klarna.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

  - `payment_method_options.konbini` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `konbini`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.konbini.confirmation_number` (string, nullable)
      An optional 10 to 11 digit numeric-only string determining the confirmation code at applicable convenience stores.

    - `payment_method_options.konbini.expires_after_days` (integer, nullable)
      The number of calendar days (between 1 and 60) after which Konbini payment instructions will expire. For example, if a PaymentIntent is confirmed with Konbini and `expires_after_days` set to 2 on Monday JST, the instructions will expire on Wednesday 23:59:59 JST.

    - `payment_method_options.konbini.expires_at` (timestamp, nullable)
      The timestamp at which the Konbini payment instructions will expire. Only one of `expires_after_days` or `expires_at` may be set.

    - `payment_method_options.konbini.product_description` (string, nullable)
      A product descriptor of up to 22 characters, which will appear to customers at the convenience store.

    - `payment_method_options.konbini.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.kr_card` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `kr_card`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.kr_card.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.kr_card.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.link` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `link`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.link.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.link.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.mb_way` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `mb_way`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.mb_way.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.mobilepay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `mobilepay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.mobilepay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.mobilepay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.multibanco` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `multibanco`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.multibanco.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.naver_pay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `naver_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.naver_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.naver_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.nz_bank_account` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `nz_bank_account`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.nz_bank_account.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.nz_bank_account.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.oxxo` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `oxxo`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.oxxo.expires_after_days` (integer)
      The number of calendar days before an OXXO invoice expires. For example, if you create an OXXO invoice on Monday and you set expires_after_days to 2, the OXXO invoice will expire on Wednesday at 23:59 America/Mexico_City time.

    - `payment_method_options.oxxo.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.p24` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `p24`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.p24.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.pay_by_bank` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `pay_by_bank`, this hash contains the configurations that will be applied to each payment attempt of that type.

  - `payment_method_options.payco` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `payco`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.payco.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.paynow` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `paynow`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.paynow.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.paypal` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `paypal`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.paypal.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.paypal.preferred_locale` (string, nullable)
      Preferred locale of the PayPal checkout page that the customer is redirected to.

    - `payment_method_options.paypal.reference` (string, nullable)
      A reference of the PayPal transaction visible to customer which is mapped to PayPal’s invoice ID. This must be a globally unique ID if you have configured in your PayPal settings to block multiple payments per invoice ID.

    - `payment_method_options.paypal.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.paypay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `paypay`, this hash contains the configurations that will be applied to each payment attempt of that type.

  - `payment_method_options.pix` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `pix`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.pix.amount_includes_iof` (enum, nullable)
      Determines if the amount includes the IOF tax.
Possible enum values:
      - `always`
        The IOF tax is included in the amount.

      - `never`
        The IOF tax is not included in the amount.

    - `payment_method_options.pix.expires_after_seconds` (integer, nullable)
      The number of seconds (between 10 and 1209600) after which Pix payment will expire.

    - `payment_method_options.pix.expires_at` (integer, nullable)
      The timestamp at which the Pix expires.

    - `payment_method_options.pix.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.promptpay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `promptpay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.promptpay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.revolut_pay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `revolut_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.revolut_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.revolut_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.samsung_pay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `samsung_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.samsung_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.satispay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `satispay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.satispay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.sepa_debit` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `sepa_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.sepa_debit.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.sepa_debit.mandate_options.reference_prefix` (string, nullable)
        Prefix used to generate the Mandate reference. Must be at most 12 characters long. Must consist of only uppercase letters, numbers, spaces, or the following special characters: ‘/’, ‘_’, ‘-’, ‘&’, ‘.’. Cannot begin with ‘STRIPE’.

    - `payment_method_options.sepa_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.sepa_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.sofort` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `sofort`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.sofort.preferred_language` (enum, nullable)
      Preferred language of the SOFORT authorization page that the customer is redirected to.
Possible enum values:
      - `de`
      - `en`
      - `es`
      - `fr`
      - `it`
      - `nl`
      - `pl`

    - `payment_method_options.sofort.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.swish` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `swish`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.swish.reference` (string, nullable)
      A reference for this payment to be displayed in the Swish app.

    - `payment_method_options.swish.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.twint` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `twint`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.twint.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.us_bank_account` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `us_bank_account`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.us_bank_account.financial_connections` (object, nullable)
      Additional fields for Financial Connections Session creation

      - `payment_method_options.us_bank_account.financial_connections.filters` (object, nullable)
        Filter the list of accounts that are allowed to be linked.

        - `payment_method_options.us_bank_account.financial_connections.filters.account_subcategories` (array of enums, nullable)
          The account subcategories to use to filter for possible accounts to link. Valid subcategories are `checking` and `savings`.
Possible enum values:
          - `checking`
            Bank account subcategory is checking

          - `savings`
            Bank account subcategory is savings

      - `payment_method_options.us_bank_account.financial_connections.permissions` (array of enums, nullable)
        The list of permissions to request. The `payment_method` permission must be included.
Possible enum values:
        - `balances`
          Allows accessing balance data from the account.

        - `ownership`
          Allows accessing ownership data from the account.

        - `payment_method`
          Allows the creation of a payment method from the account.

        - `transactions`
          Allows accessing transactions data from the account.

      - `payment_method_options.us_bank_account.financial_connections.prefetch` (array of enums, nullable)
        Data features requested to be retrieved upon account creation.
Possible enum values:
        - `balances`
          Requests to prefetch balance data on accounts collected in this session.

        - `ownership`
          Requests to prefetch ownership data on accounts collected in this session.

        - `transactions`
          Requests to prefetch transaction data on accounts collected in this session.

      - `payment_method_options.us_bank_account.financial_connections.return_url` (string, nullable)
        For webview integrations only. Upon completing OAuth login in the native browser, the user will be redirected to this URL to return to your app.

    - `payment_method_options.us_bank_account.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.us_bank_account.mandate_options.collection_method` (enum, nullable)
        Mandate collection method
Possible enum values:
        - `paper`
          Mandate customer acceptance was collected using a paper document

    - `payment_method_options.us_bank_account.preferred_settlement_speed` (enum, nullable)
      Preferred transaction settlement speed
Possible enum values:

    - `payment_method_options.us_bank_account.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.us_bank_account.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

    - `payment_method_options.us_bank_account.verification_method` (enum, nullable)
      Bank account verification method.
Possible enum values:
      - `automatic`
        Instant verification with fallback to microdeposits.

      - `instant`
        Instant verification only.

      - `microdeposits`
        Verification using microdeposits. Cannot be used with Stripe Checkout, Hosted Invoices, or Payment Element.

  - `payment_method_options.wechat_pay` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `wechat_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.wechat_pay.app_id` (string, nullable)
      The app ID registered with WeChat Pay. Only required when client is ios or android.

    - `payment_method_options.wechat_pay.client` (enum, nullable)
      The client type that the end customer will pay from
Possible enum values:
      - `android`
        The end customer will pay from an Android app

      - `ios`
        The end customer will pay from an iOS app

      - `web`
        The end customer will pay from web browser

    - `payment_method_options.wechat_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.zip` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `zip`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.zip.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

- `payment_method_types` (array of strings)
  The list of payment method types (e.g. card) that this PaymentIntent is allowed to use. A comprehensive list of valid payment method types can be found [here](https://docs.stripe.com/api/payment_methods/object.md#payment_method_object-type).

- `presentment_details` (object, nullable)
  A hash containing information about the currency presentation to the customer, including the displayed currency and amount used for conversion from the integration currency.

  - `presentment_details.presentment_amount` (integer)
    Amount intended to be collected by this payment, denominated in `presentment_currency`.

  - `presentment_details.presentment_currency` (string)
    Currency presented to the customer during payment.

- `processing` (object, nullable)
  If present, this property tells you about the processing state of the payment.

  - `processing.card` (object, nullable)
    If the PaymentIntent’s payment_method_types includes `card`, this hash contains the details on the `processing` state of the payment.

    - `processing.card.customer_notification` (object, nullable)
      For recurring payments of Indian cards, this hash contains details on whether customer approval is required, and until when the payment will be in `processing` state

      - `processing.card.customer_notification.approval_requested` (boolean, nullable)
        Whether customer approval has been requested for this payment. For payments greater than INR 15000 or mandate amount, the customer must provide explicit approval of the payment with their bank.

      - `processing.card.customer_notification.completes_at` (timestamp, nullable)
        If customer approval is required, they need to provide approval before this time.

  - `processing.type` (enum)
    Type of the payment method for which payment is in `processing` state, one of `card`.
Possible enum values:
    - `card`

- `receipt_email` (string, nullable)
  Email address that the receipt for the resulting payment will be sent to. If `receipt_email` is specified for a payment in live mode, a receipt will be sent regardless of your [email settings](https://dashboard.stripe.com/account/emails).

- `review` (string, nullable)
  ID of the review associated with this PaymentIntent, if any.

- `setup_future_usage` (enum, nullable)
  Indicates that you intend to make future payments with this PaymentIntent’s payment method.

  If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

  If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

  When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
  - `off_session`
    Use `off_session` if your customer may or may not be present in your checkout flow.

  - `on_session`
    Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

- `shipping` (object, nullable)
  Shipping information for this PaymentIntent.

  - `shipping.address` (object)
    Shipping address.

    - `shipping.address.city` (string, nullable)
      City, district, suburb, town, or village.

    - `shipping.address.country` (string, nullable)
      Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

    - `shipping.address.line1` (string, nullable)
      Address line 1, such as the street, PO Box, or company name.

    - `shipping.address.line2` (string, nullable)
      Address line 2, such as the apartment, suite, unit, or building.

    - `shipping.address.postal_code` (string, nullable)
      ZIP or postal code.

    - `shipping.address.state` (string, nullable)
      State, county, province, or region.

  - `shipping.carrier` (string, nullable)
    The delivery service that shipped a physical product, such as Fedex, UPS, USPS, etc.

  - `shipping.name` (string)
    Recipient name.

  - `shipping.phone` (string, nullable)
    Recipient phone (including extension).

  - `shipping.tracking_number` (string, nullable)
    The tracking number for a physical product, obtained from the delivery service. If multiple tracking numbers were generated for this purchase, please separate them with commas.

- `statement_descriptor` (string, nullable)
  Text that appears on the customer’s statement as the statement descriptor for a non-card charge. This value overrides the account’s default statement descriptor. For information about requirements, including the 22-character limit, see [the Statement Descriptor docs](https://docs.stripe.com/get-started/account/statement-descriptors.md).

  Setting this value for a card charge returns an error. For card charges, set the [statement_descriptor_suffix](https://docs.stripe.com/get-started/account/statement-descriptors.md#dynamic) instead.

- `statement_descriptor_suffix` (string, nullable)
  Provides information about a card charge. Concatenated to the account’s [statement descriptor prefix](https://docs.stripe.com/get-started/account/statement-descriptors.md#static) to form the complete statement descriptor that appears on the customer’s statement.

- `status` (enum)
  Status of this PaymentIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `requires_capture`, `canceled`, or `succeeded`. Read more about each PaymentIntent [status](https://docs.stripe.com/docs/payments/intents.md#intent-statuses).
Possible enum values:
  - `canceled`
    The PaymentIntent has been canceled.

  - `processing`
    The PaymentIntent is currently being processed.

  - `requires_action`
    The PaymentIntent requires additional action from the customer.

  - `requires_capture`
    The PaymentIntent has been confirmed and requires capture.

  - `requires_confirmation`
    The PaymentIntent requires confirmation.

  - `requires_payment_method`
    The PaymentIntent requires a payment method to be attached.

  - `succeeded`
    The PaymentIntent has succeeded.

- `transfer_data` (object, nullable)
  The data that automatically creates a Transfer after the payment finalizes. Learn more about the [use case for connected accounts](https://docs.stripe.com/docs/payments/connected-accounts.md).

  - `transfer_data.amount` (integer, nullable)
    The amount transferred to the destination account. This transfer will occur automatically after the payment succeeds. If no amount is specified, by default the entire payment amount is transferred to the destination account. The amount must be less than or equal to the [amount](https://docs.stripe.com/docs/api/payment_intents/object.md#payment_intent_object-amount), and must be a positive integer representing how much to transfer in the smallest currency unit (e.g., 100 cents to charge $1.00).

  - `transfer_data.destination` (string)
    The account (if any) that the payment is attributed to for tax reporting, and where funds from the payment are transferred to after payment success.

- `transfer_group` (string, nullable)
  A string that identifies the resulting payment as part of a group. Learn more about the [use case for connected accounts](https://docs.stripe.com/docs/connect/separate-charges-and-transfers.md).

### The PaymentIntent object

```json
{
  "id": "pi_3MtwBwLkdIwHu7ix28a3tqPa",
  "object": "payment_intent",
  "amount": 2000,
  "amount_capturable": 0,
  "amount_details": {
    "tip": {}
  },
  "amount_received": 0,
  "application": null,
  "application_fee_amount": null,
  "automatic_payment_methods": {
    "enabled": true
  },
  "canceled_at": null,
  "cancellation_reason": null,
  "capture_method": "automatic",
  "client_secret": "pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH",
  "confirmation_method": "automatic",
  "created": 1680800504,
  "currency": "usd",
  "customer": null,
  "description": null,
  "last_payment_error": null,
  "latest_charge": null,
  "livemode": false,
  "metadata": {},
  "next_action": null,
  "on_behalf_of": null,
  "payment_method": null,
  "payment_method_options": {
    "card": {
      "installments": null,
      "mandate_options": null,
      "network": null,
      "request_three_d_secure": "automatic"
    },
    "link": {
      "persistent_token": null
    }
  },
  "payment_method_types": [
    "card",
    "link"
  ],
  "processing": null,
  "receipt_email": null,
  "review": null,
  "setup_future_usage": null,
  "shipping": null,
  "source": null,
  "statement_descriptor": null,
  "statement_descriptor_suffix": null,
  "status": "requires_payment_method",
  "transfer_data": null,
  "transfer_group": null
}
```

# The Checkout Session object

## Attributes

- `id` (string)
  Unique identifier for the object.

- `object` (string)
  String representing the object’s type. Objects of the same type share the same value.

- `adaptive_pricing` (object, nullable)
  Settings for price localization with [Adaptive Pricing](https://docs.stripe.com/payments/checkout/adaptive-pricing.md).

  - `adaptive_pricing.enabled` (boolean)
    If enabled, Adaptive Pricing is available on [eligible sessions](https://docs.stripe.com/payments/currencies/localize-prices/adaptive-pricing.md?payment-ui=stripe-hosted#restrictions).

- `after_expiration` (object, nullable)
  When set, provides configuration for actions to take if this Checkout Session expires.

  - `after_expiration.recovery` (object, nullable)
    When set, configuration used to recover the Checkout Session on expiry.

    - `after_expiration.recovery.allow_promotion_codes` (boolean)
      Enables user redeemable promotion codes on the recovered Checkout Sessions. Defaults to `false`

    - `after_expiration.recovery.enabled` (boolean)
      If `true`, a recovery url will be generated to recover this Checkout Session if it expires before a transaction is completed. It will be attached to the Checkout Session object upon expiration.

    - `after_expiration.recovery.expires_at` (timestamp, nullable)
      The timestamp at which the recovery URL will expire.

    - `after_expiration.recovery.url` (string, nullable)
      URL that creates a new Checkout Session when clicked that is a copy of this expired Checkout Session

- `allow_promotion_codes` (boolean, nullable)
  Enables user redeemable promotion codes.

- `amount_subtotal` (integer, nullable)
  Total of all items before discounts or taxes are applied.

- `amount_total` (integer, nullable)
  Total of all items after discounts and taxes are applied.

- `automatic_tax` (object)
  Details on the state of automatic tax for the session, including the status of the latest tax calculation.

  - `automatic_tax.enabled` (boolean)
    Indicates whether automatic tax is enabled for the session

  - `automatic_tax.liability` (object, nullable)
    The account that’s liable for tax. If set, the business address and tax registrations required to perform the tax calculation are loaded from this account. The tax transaction is returned in the report of the connected account.

    - `automatic_tax.liability.account` (string, nullable)
      The connected account being referenced when `type` is `account`.

    - `automatic_tax.liability.type` (enum)
      Type of the account referenced.
Possible enum values:
      - `account`
        Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

      - `self`
        Indicates that the account being referenced is the account making the API request.

  - `automatic_tax.provider` (string, nullable)
    The tax provider powering automatic tax.

  - `automatic_tax.status` (enum, nullable)
    The status of the most recent automated tax calculation for this session.
Possible enum values:
    - `complete`
      The automatic tax calculation was successful.

    - `failed`
      The tax calculation failed, please try again later.

    - `requires_location_inputs`
      The location details supplied on the customer aren’t valid or don’t provide enough location information to accurately determine tax rates for the customer.

- `billing_address_collection` (enum, nullable)
  Describes whether Checkout should collect the customer’s billing address. Defaults to `auto`.
Possible enum values:
  - `auto`
    Checkout will only collect the billing address when necessary. When using [automatic_tax](https://docs.stripe.com/docs/api/checkout/sessions/object.md#checkout_session_object-automatic_tax-enabled), Checkout will collect the minimum number of fields required for tax calculation.

  - `required`
    Checkout will always collect the customer’s billing address.

- `branding_settings` (object, nullable)
  Details on the state of branding settings for the session.

  - `branding_settings.background_color` (string)
    A hex color value starting with `#` representing the background color for the Checkout Session.

  - `branding_settings.border_style` (enum)
    The border style for the Checkout Session. Must be one of `rounded`, `rectangular`, or `pill`.
Possible enum values:
    - `pill`
    - `rectangular`
    - `rounded`

  - `branding_settings.button_color` (string)
    A hex color value starting with `#` representing the button color for the Checkout Session.

  - `branding_settings.display_name` (string)
    The display name shown on the Checkout Session.

  - `branding_settings.font_family` (string)
    The font family for the Checkout Session. Must be one of the [supported font families](https://docs.stripe.com/payments/checkout/customization/appearance.md?payment-ui=stripe-hosted#font-compatibility).

  - `branding_settings.icon` (object, nullable)
    The icon for the Checkout Session. You cannot set both `logo` and `icon`.

    - `branding_settings.icon.file` (string, nullable)
      The ID of a [File upload](https://stripe.com/docs/api/files) representing the icon. Purpose must be `business_icon`. Required if `type` is `file` and disallowed otherwise.

    - `branding_settings.icon.type` (enum)
      The type of image for the icon. Must be one of `file` or `url`.
Possible enum values:
      - `file`
      - `url`

    - `branding_settings.icon.url` (string, nullable)
      The URL of the image. Present when `type` is `url`.

  - `branding_settings.logo` (object, nullable)
    The logo for the Checkout Session. You cannot set both `logo` and `icon`.

    - `branding_settings.logo.file` (string, nullable)
      The ID of a [File upload](https://stripe.com/docs/api/files) representing the logo. Purpose must be `business_logo`. Required if `type` is `file` and disallowed otherwise.

    - `branding_settings.logo.type` (enum)
      The type of image for the logo. Must be one of `file` or `url`.
Possible enum values:
      - `file`
      - `url`

    - `branding_settings.logo.url` (string, nullable)
      The URL of the image. Present when `type` is `url`.

- `cancel_url` (string, nullable)
  If set, Checkout displays a back button and customers will be directed to this URL if they decide to cancel payment and return to your website.

- `client_reference_id` (string, nullable)
  A unique string to reference the Checkout Session. This can be a customer ID, a cart ID, or similar, and can be used to reconcile the Session with your internal systems.

- `client_secret` (string, nullable)
  The client secret of your Checkout Session. Applies to Checkout Sessions with `ui_mode: embedded` or `ui_mode: custom`. For `ui_mode: embedded`, the client secret is to be used when initializing Stripe.js embedded checkout. For `ui_mode: custom`, use the client secret with [initCheckout](https://docs.stripe.com/docs/js/custom_checkout/init) on your front end.

- `collected_information` (object, nullable)
  Information about the customer collected within the Checkout Session.

  - `collected_information.business_name` (string, nullable)
    Customer’s business name for this Checkout Session

  - `collected_information.individual_name` (string, nullable)
    Customer’s individual name for this Checkout Session

  - `collected_information.shipping_details` (object, nullable)
    Shipping information for this Checkout Session.

    - `collected_information.shipping_details.address` (object)
      Customer address.

      - `collected_information.shipping_details.address.city` (string, nullable)
        City, district, suburb, town, or village.

      - `collected_information.shipping_details.address.country` (string, nullable)
        Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

      - `collected_information.shipping_details.address.line1` (string, nullable)
        Address line 1, such as the street, PO Box, or company name.

      - `collected_information.shipping_details.address.line2` (string, nullable)
        Address line 2, such as the apartment, suite, unit, or building.

      - `collected_information.shipping_details.address.postal_code` (string, nullable)
        ZIP or postal code.

      - `collected_information.shipping_details.address.state` (string, nullable)
        State, county, province, or region.

    - `collected_information.shipping_details.name` (string)
      Customer name.

- `consent` (object, nullable)
  Results of `consent_collection` for this session.

  - `consent.promotions` (enum, nullable)
    If `opt_in`, the customer consents to receiving promotional communications from the merchant about this Checkout Session.
Possible enum values:
    - `opt_in`
    - `opt_out`

  - `consent.terms_of_service` (enum, nullable)
    If `accepted`, the customer in this Checkout Session has agreed to the merchant’s terms of service.
Possible enum values:
    - `accepted`
      The customer has accepted the specified terms of service agreement.

- `consent_collection` (object, nullable)
  When set, provides configuration for the Checkout Session to gather active consent from customers.

  - `consent_collection.payment_method_reuse_agreement` (object, nullable)
    If set to `hidden`, it will hide legal text related to the reuse of a payment method.

    - `consent_collection.payment_method_reuse_agreement.position` (enum)
      Determines the position and visibility of the payment method reuse agreement in the UI. When set to `auto`, Stripe’s defaults will be used.

      When set to `hidden`, the payment method reuse agreement text will always be hidden in the UI.
Possible enum values:
      - `auto`
      - `hidden`

  - `consent_collection.promotions` (enum, nullable)
    If set to `auto`, enables the collection of customer consent for promotional communications. The Checkout Session will determine whether to display an option to opt into promotional communication from the merchant depending on the customer’s locale. Only available to US merchants.
Possible enum values:
    - `auto`
    - `none`

  - `consent_collection.terms_of_service` (enum, nullable)
    If set to `required`, it requires customers to accept the terms of service before being able to pay.
Possible enum values:
    - `none`
    - `required`

- `created` (timestamp)
  Time at which the object was created. Measured in seconds since the Unix epoch.

- `currency` (enum, nullable)
  Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

- `currency_conversion` (object, nullable)
  Currency conversion details for [Adaptive Pricing](https://docs.stripe.com/payments/checkout/adaptive-pricing.md) sessions created before 2025-03-31.

  - `currency_conversion.amount_subtotal` (integer)
    Total of all items in source currency before discounts or taxes are applied.

  - `currency_conversion.amount_total` (integer)
    Total of all items in source currency after discounts and taxes are applied.

  - `currency_conversion.fx_rate` (decimal string)
    Exchange rate used to convert source currency amounts to customer currency amounts

  - `currency_conversion.source_currency` (string)
    Creation currency of the CheckoutSession before localization

- `custom_fields` (array of objects)
  Collect additional information from your customer using custom fields. Up to 3 fields are supported.

  - `custom_fields.dropdown` (object, nullable)
    Configuration for `type=dropdown` fields.

    - `custom_fields.dropdown.default_value` (string, nullable)
      The value that will pre-fill on the payment page.

    - `custom_fields.dropdown.options` (array of objects)
      The options available for the customer to select. Up to 200 options allowed.

      - `custom_fields.dropdown.options.label` (string)
        The label for the option, displayed to the customer. Up to 100 characters.

      - `custom_fields.dropdown.options.value` (string)
        The value for this option, not displayed to the customer, used by your integration to reconcile the option selected by the customer. Must be unique to this option, alphanumeric, and up to 100 characters.

    - `custom_fields.dropdown.value` (string, nullable)
      The option selected by the customer. This will be the `value` for the option.

  - `custom_fields.key` (string)
    String of your choice that your integration can use to reconcile this field. Must be unique to this field, alphanumeric, and up to 200 characters.

  - `custom_fields.label` (object)
    The label for the field, displayed to the customer.

    - `custom_fields.label.custom` (string, nullable)
      Custom text for the label, displayed to the customer. Up to 50 characters.

    - `custom_fields.label.type` (enum)
      The type of the label.
Possible enum values:
      - `custom`
        Set a custom label for the field.

  - `custom_fields.numeric` (object, nullable)
    Configuration for `type=numeric` fields.

    - `custom_fields.numeric.default_value` (string, nullable)
      The value that will pre-fill the field on the payment page.

    - `custom_fields.numeric.maximum_length` (integer, nullable)
      The maximum character length constraint for the customer’s input.

    - `custom_fields.numeric.minimum_length` (integer, nullable)
      The minimum character length requirement for the customer’s input.

    - `custom_fields.numeric.value` (string, nullable)
      The value entered by the customer, containing only digits.

  - `custom_fields.optional` (boolean)
    Whether the customer is required to complete the field before completing the Checkout Session. Defaults to `false`.

  - `custom_fields.text` (object, nullable)
    Configuration for `type=text` fields.

    - `custom_fields.text.default_value` (string, nullable)
      The value that will pre-fill the field on the payment page.

    - `custom_fields.text.maximum_length` (integer, nullable)
      The maximum character length constraint for the customer’s input.

    - `custom_fields.text.minimum_length` (integer, nullable)
      The minimum character length requirement for the customer’s input.

    - `custom_fields.text.value` (string, nullable)
      The value entered by the customer.

  - `custom_fields.type` (enum)
    The type of the field.
Possible enum values:
    - `dropdown`
      Provide a list of options for your customer to select.

    - `numeric`
      Collect a numbers-only field from your customer.

    - `text`
      Collect a string field from your customer.

- `custom_text` (object)
  Display additional text for your customers using custom text.

  - `custom_text.after_submit` (object, nullable)
    Custom text that should be displayed after the payment confirmation button.

    - `custom_text.after_submit.message` (string)
      Text may be up to 1200 characters in length.

  - `custom_text.shipping_address` (object, nullable)
    Custom text that should be displayed alongside shipping address collection.

    - `custom_text.shipping_address.message` (string)
      Text may be up to 1200 characters in length.

  - `custom_text.submit` (object, nullable)
    Custom text that should be displayed alongside the payment confirmation button.

    - `custom_text.submit.message` (string)
      Text may be up to 1200 characters in length.

  - `custom_text.terms_of_service_acceptance` (object, nullable)
    Custom text that should be displayed in place of the default terms of service agreement text.

    - `custom_text.terms_of_service_acceptance.message` (string)
      Text may be up to 1200 characters in length.

- `customer` (string, nullable)
  The ID of the customer for this Session. For Checkout Sessions in `subscription` mode or Checkout Sessions with `customer_creation` set as `always` in `payment` mode, Checkout will create a new customer object based on information provided during the payment flow unless an existing customer was provided when the Session was created.

- `customer_creation` (enum, nullable)
  Configure whether a Checkout Session creates a Customer when the Checkout Session completes.
Possible enum values:
  - `always`
    The Checkout Session will always create a [Customer](https://docs.stripe.com/docs/api/customers.md) when a Session confirmation is attempted.

  - `if_required`
    The Checkout Session will only create a [Customer](https://docs.stripe.com/docs/api/customers.md) if it is required for Session confirmation. Currently, only `subscription` mode Sessions and `payment` mode Sessions with [post-purchase invoices enabled](https://docs.stripe.com/docs/receipts.md?payment-ui=checkout#paid-invoices) require a Customer.

- `customer_details` (object, nullable)
  The customer details including the customer’s tax exempt status and the customer’s tax IDs. Customer’s address details are not present on Sessions in `setup` mode.

  - `customer_details.address` (object, nullable)
    The customer’s address after a completed Checkout Session. Note: This property is populated only for sessions on or after March 30, 2022.

    - `customer_details.address.city` (string, nullable)
      City, district, suburb, town, or village.

    - `customer_details.address.country` (string, nullable)
      Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

    - `customer_details.address.line1` (string, nullable)
      Address line 1, such as the street, PO Box, or company name.

    - `customer_details.address.line2` (string, nullable)
      Address line 2, such as the apartment, suite, unit, or building.

    - `customer_details.address.postal_code` (string, nullable)
      ZIP or postal code.

    - `customer_details.address.state` (string, nullable)
      State, county, province, or region.

  - `customer_details.business_name` (string, nullable)
    The customer’s business name after a completed Checkout Session.

  - `customer_details.email` (string, nullable)
    The email associated with the Customer, if one exists, on the Checkout Session after a completed Checkout Session or at time of session expiry. Otherwise, if the customer has consented to promotional content, this value is the most recent valid email provided by the customer on the Checkout form.

  - `customer_details.individual_name` (string, nullable)
    The customer’s individual name after a completed Checkout Session.

  - `customer_details.name` (string, nullable)
    The customer’s name after a completed Checkout Session. Note: This property is populated only for sessions on or after March 30, 2022.

  - `customer_details.phone` (string, nullable)
    The customer’s phone number after a completed Checkout Session.

  - `customer_details.tax_exempt` (enum, nullable)
    The customer’s tax exempt status after a completed Checkout Session.
Possible enum values:
    - `exempt`
    - `none`
    - `reverse`

  - `customer_details.tax_ids` (array of objects, nullable)
    The customer’s tax IDs after a completed Checkout Session.

    - `customer_details.tax_ids.type` (enum)
      The type of the tax ID, one of `ad_nrt`, `ar_cuit`, `eu_vat`, `bo_tin`, `br_cnpj`, `br_cpf`, `cn_tin`, `co_nit`, `cr_tin`, `do_rcn`, `ec_ruc`, `eu_oss_vat`, `hr_oib`, `pe_ruc`, `ro_tin`, `rs_pib`, `sv_nit`, `uy_ruc`, `ve_rif`, `vn_tin`, `gb_vat`, `nz_gst`, `au_abn`, `au_arn`, `in_gst`, `no_vat`, `no_voec`, `za_vat`, `ch_vat`, `mx_rfc`, `sg_uen`, `ru_inn`, `ru_kpp`, `ca_bn`, `hk_br`, `es_cif`, `tw_vat`, `th_vat`, `jp_cn`, `jp_rn`, `jp_trn`, `li_uid`, `li_vat`, `my_itn`, `us_ein`, `kr_brn`, `ca_qst`, `ca_gst_hst`, `ca_pst_bc`, `ca_pst_mb`, `ca_pst_sk`, `my_sst`, `sg_gst`, `ae_trn`, `cl_tin`, `sa_vat`, `id_npwp`, `my_frp`, `il_vat`, `ge_vat`, `ua_vat`, `is_vat`, `bg_uic`, `hu_tin`, `si_tin`, `ke_pin`, `tr_tin`, `eg_tin`, `ph_tin`, `al_tin`, `bh_vat`, `kz_bin`, `ng_tin`, `om_vat`, `de_stn`, `ch_uid`, `tz_vat`, `uz_vat`, `uz_tin`, `md_vat`, `ma_vat`, `by_tin`, `ao_tin`, `bs_tin`, `bb_tin`, `cd_nif`, `mr_nif`, `me_pib`, `zw_tin`, `ba_tin`, `gn_nif`, `mk_vat`, `sr_fin`, `sn_ninea`, `am_tin`, `np_pan`, `tj_tin`, `ug_tin`, `zm_tin`, `kh_tin`, `aw_tin`, `az_tin`, `bd_bin`, `bj_ifu`, `et_tin`, `kg_tin`, `la_tin`, `cm_niu`, `cv_nif`, `bf_ifu`, or `unknown`
Possible enum values:
      - `ad_nrt`
      - `ae_trn`
      - `al_tin`
      - `am_tin`
      - `ao_tin`
      - `ar_cuit`
      - `au_abn`
      - `au_arn`
      - `aw_tin`
      - `az_tin`
      - `ba_tin`
      - `bb_tin`
      - `bd_bin`
      - `bf_ifu`
      - `bg_uic`
      - `bh_vat`
      - `bj_ifu`
      - `bo_tin`
      - `br_cnpj`
      - `br_cpf`
      - `bs_tin`
      - `by_tin`
      - `ca_bn`
      - `ca_gst_hst`
      - `ca_pst_bc`
      - `ca_pst_mb`
      - `ca_pst_sk`
      - `ca_qst`
      - `cd_nif`
      - `ch_uid`
      - `ch_vat`
      - `cl_tin`
      - `cm_niu`
      - `cn_tin`
      - `co_nit`
      - `cr_tin`
      - `cv_nif`
      - `de_stn`
      - `do_rcn`
      - `ec_ruc`
      - `eg_tin`
      - `es_cif`
      - `et_tin`
      - `eu_oss_vat`
      - `eu_vat`
      - `gb_vat`
      - `ge_vat`
      - `gn_nif`
      - `hk_br`
      - `hr_oib`
      - `hu_tin`
      - `id_npwp`
      - `il_vat`
      - `in_gst`
      - `is_vat`
      - `jp_cn`
      - `jp_rn`
      - `jp_trn`
      - `ke_pin`
      - `kg_tin`
      - `kh_tin`
      - `kr_brn`
      - `kz_bin`
      - `la_tin`
      - `li_uid`
      - `li_vat`
      - `ma_vat`
      - `md_vat`
      - `me_pib`
      - `mk_vat`
      - `mr_nif`
      - `mx_rfc`
      - `my_frp`
      - `my_itn`
      - `my_sst`
      - `ng_tin`
      - `no_vat`
      - `no_voec`
      - `np_pan`
      - `nz_gst`
      - `om_vat`
      - `pe_ruc`
      - `ph_tin`
      - `ro_tin`
      - `rs_pib`
      - `ru_inn`
      - `ru_kpp`
      - `sa_vat`
      - `sg_gst`
      - `sg_uen`
      - `si_tin`
      - `sn_ninea`
      - `sr_fin`
      - `sv_nit`
      - `th_vat`
      - `tj_tin`
      - `tr_tin`
      - `tw_vat`
      - `tz_vat`
      - `ua_vat`
      - `ug_tin`
      - `unknown`
      - `us_ein`
      - `uy_ruc`
      - `uz_tin`
      - `uz_vat`
      - `ve_rif`
      - `vn_tin`
      - `za_vat`
      - `zm_tin`
      - `zw_tin`

    - `customer_details.tax_ids.value` (string, nullable)
      The value of the tax ID.

- `customer_email` (string, nullable)
  If provided, this value will be used when the Customer object is created. If not provided, customers will be asked to enter their email address. Use this parameter to prefill customer data if you already have an email on file. To access information about the customer once the payment flow is complete, use the `customer` attribute.

- `discounts` (array of objects, nullable)
  List of coupons and promotion codes attached to the Checkout Session.

  - `discounts.coupon` (string, nullable)
    Coupon attached to the Checkout Session.

  - `discounts.promotion_code` (string, nullable)
    Promotion code attached to the Checkout Session.

- `excluded_payment_method_types` (array of strings, nullable)
  A list of the types of payment methods (e.g., `card`) that should be excluded from this Checkout Session. This should only be used when payment methods for this Checkout Session are managed through the [Stripe Dashboard](https://dashboard.stripe.com/settings/payment_methods).

- `expires_at` (timestamp)
  The timestamp at which the Checkout Session will expire.

- `invoice` (string, nullable)
  ID of the invoice created by the Checkout Session, if it exists.

- `invoice_creation` (object, nullable)
  Details on the state of invoice creation for the Checkout Session.

  - `invoice_creation.enabled` (boolean)
    Indicates whether invoice creation is enabled for the Checkout Session.

  - `invoice_creation.invoice_data` (object)
    Parameters passed when creating invoices for payment-mode Checkout Sessions.

    - `invoice_creation.invoice_data.account_tax_ids` (array of strings, nullable)
      The account tax IDs associated with the invoice.

    - `invoice_creation.invoice_data.custom_fields` (array of objects, nullable)
      Custom fields displayed on the invoice.

      - `invoice_creation.invoice_data.custom_fields.name` (string)
        The name of the custom field.

      - `invoice_creation.invoice_data.custom_fields.value` (string)
        The value of the custom field.

    - `invoice_creation.invoice_data.description` (string, nullable)
      An arbitrary string attached to the object. Often useful for displaying to users.

    - `invoice_creation.invoice_data.footer` (string, nullable)
      Footer displayed on the invoice.

    - `invoice_creation.invoice_data.issuer` (object, nullable)
      The connected account that issues the invoice. The invoice is presented with the branding and support information of the specified account.

      - `invoice_creation.invoice_data.issuer.account` (string, nullable)
        The connected account being referenced when `type` is `account`.

      - `invoice_creation.invoice_data.issuer.type` (enum)
        Type of the account referenced.
Possible enum values:
        - `account`
          Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

        - `self`
          Indicates that the account being referenced is the account making the API request.

    - `invoice_creation.invoice_data.metadata` (object, nullable)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

    - `invoice_creation.invoice_data.rendering_options` (object, nullable)
      Options for invoice PDF rendering.

      - `invoice_creation.invoice_data.rendering_options.amount_tax_display` (string, nullable)
        How line-item prices and amounts will be displayed with respect to tax on invoice PDFs.

      - `invoice_creation.invoice_data.rendering_options.template` (string, nullable)
        ID of the invoice rendering template to be used for the generated invoice.

- `line_items` (object, nullable)
  The line items purchased by the customer.

  - `line_items.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `line_items.data` (array of objects)
    Details about each object.

    - `line_items.data.id` (string)
      Unique identifier for the object.

    - `line_items.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `line_items.data.amount_discount` (integer)
      Total discount amount applied. If no discounts were applied, defaults to 0.

    - `line_items.data.amount_subtotal` (integer)
      Total before any discounts or taxes are applied.

    - `line_items.data.amount_tax` (integer)
      Total tax amount applied. If no tax was applied, defaults to 0.

    - `line_items.data.amount_total` (integer)
      Total after discounts and taxes.

    - `line_items.data.currency` (enum)
      Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

    - `line_items.data.description` (string, nullable)
      An arbitrary string attached to the object. Often useful for displaying to users. Defaults to product name.

    - `line_items.data.discounts` (array of objects, nullable)
      The discounts applied to the line item.

      - `line_items.data.discounts.amount` (integer)
        The amount discounted.

      - `line_items.data.discounts.discount` (object)
        The discount applied.

        - `line_items.data.discounts.discount.id` (string)
          The ID of the discount object. Discounts cannot be fetched by ID. Use `expand[]=discounts` in API calls to expand discount IDs in an array.

        - `line_items.data.discounts.discount.object` (string)
          String representing the object’s type. Objects of the same type share the same value.

        - `line_items.data.discounts.discount.checkout_session` (string, nullable)
          The Checkout session that this coupon is applied to, if it is applied to a particular session in payment mode. Will not be present for subscription mode.

        - `line_items.data.discounts.discount.customer` (string, nullable)
          The ID of the customer associated with this discount.

        - `line_items.data.discounts.discount.end` (timestamp, nullable)
          If the coupon has a duration of `repeating`, the date that this discount will end. If the coupon has a duration of `once` or `forever`, this attribute will be null.

        - `line_items.data.discounts.discount.invoice` (string, nullable)
          The invoice that the discount’s coupon was applied to, if it was applied directly to a particular invoice.

        - `line_items.data.discounts.discount.invoice_item` (string, nullable)
          The invoice item `id` (or invoice line item `id` for invoice line items of type=‘subscription’) that the discount’s coupon was applied to, if it was applied directly to a particular invoice item or invoice line item.

        - `line_items.data.discounts.discount.promotion_code` (string, nullable)
          The promotion code applied to create this discount.

        - `line_items.data.discounts.discount.source` (object)
          The source of the discount.

          - `line_items.data.discounts.discount.source.coupon` (string, nullable)
            The coupon that was redeemed to create this discount.

          - `line_items.data.discounts.discount.source.type` (enum)
            The source type of the discount.
Possible enum values:
            - `coupon`
              Coupon source type

        - `line_items.data.discounts.discount.start` (timestamp)
          Date that the coupon was applied.

        - `line_items.data.discounts.discount.subscription` (string, nullable)
          The subscription that this coupon is applied to, if it is applied to a particular subscription.

        - `line_items.data.discounts.discount.subscription_item` (string, nullable)
          The subscription item that this coupon is applied to, if it is applied to a particular subscription item.

    - `line_items.data.price` (object, nullable)
      The price used to generate the line item.

      - `line_items.data.price.id` (string)
        Unique identifier for the object.

      - `line_items.data.price.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `line_items.data.price.active` (boolean)
        Whether the price can be used for new purchases.

      - `line_items.data.price.billing_scheme` (enum)
        Describes how to compute the price per period. Either `per_unit` or `tiered`. `per_unit` indicates that the fixed amount (specified in `unit_amount` or `unit_amount_decimal`) will be charged per unit in `quantity` (for prices with `usage_type=licensed`), or per unit of total usage (for prices with `usage_type=metered`). `tiered` indicates that the unit pricing will be computed using a tiering strategy as defined using the `tiers` and `tiers_mode` attributes.
Possible enum values:
        - `per_unit`
        - `tiered`

      - `line_items.data.price.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `line_items.data.price.currency` (enum)
        Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

      - `line_items.data.price.currency_options` (object, nullable)
        Prices defined in each available currency option. Each key must be a three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) and a [supported currency](https://stripe.com/docs/currencies).

        - `line_items.data.price.currency_options.<currency>.custom_unit_amount` (object, nullable)
          When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

          - `line_items.data.price.currency_options.<currency>.custom_unit_amount.maximum` (integer, nullable)
            The maximum unit amount the customer can specify for this item.

          - `line_items.data.price.currency_options.<currency>.custom_unit_amount.minimum` (integer, nullable)
            The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

          - `line_items.data.price.currency_options.<currency>.custom_unit_amount.preset` (integer, nullable)
            The starting unit amount which can be updated by the customer.

        - `line_items.data.price.currency_options.<currency>.tax_behavior` (enum, nullable)
          Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
          - `exclusive`
          - `inclusive`
          - `unspecified`

        - `line_items.data.price.currency_options.<currency>.tiers` (array of objects, nullable)
          Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

          - `line_items.data.price.currency_options.<currency>.tiers.flat_amount` (integer, nullable)
            Price for the entire tier.

          - `line_items.data.price.currency_options.<currency>.tiers.flat_amount_decimal` (decimal string, nullable)
            Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

          - `line_items.data.price.currency_options.<currency>.tiers.unit_amount` (integer, nullable)
            Per unit price for units relevant to the tier.

          - `line_items.data.price.currency_options.<currency>.tiers.unit_amount_decimal` (decimal string, nullable)
            Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

          - `line_items.data.price.currency_options.<currency>.tiers.up_to` (integer, nullable)
            Up to and including to this quantity will be contained in the tier.

        - `line_items.data.price.currency_options.<currency>.unit_amount` (integer, nullable)
          The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

        - `line_items.data.price.currency_options.<currency>.unit_amount_decimal` (decimal string, nullable)
          The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

      - `line_items.data.price.custom_unit_amount` (object, nullable)
        When set, provides configuration for the amount to be adjusted by the customer during Checkout Sessions and Payment Links.

        - `line_items.data.price.custom_unit_amount.maximum` (integer, nullable)
          The maximum unit amount the customer can specify for this item.

        - `line_items.data.price.custom_unit_amount.minimum` (integer, nullable)
          The minimum unit amount the customer can specify for this item. Must be at least the minimum charge amount.

        - `line_items.data.price.custom_unit_amount.preset` (integer, nullable)
          The starting unit amount which can be updated by the customer.

      - `line_items.data.price.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `line_items.data.price.lookup_key` (string, nullable)
        A lookup key used to retrieve prices dynamically from a static string. This may be up to 200 characters.

      - `line_items.data.price.metadata` (object)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `line_items.data.price.nickname` (string, nullable)
        A brief description of the price, hidden from customers.

      - `line_items.data.price.product` (string)
        The ID of the product this price is associated with.

      - `line_items.data.price.recurring` (object, nullable)
        The recurring components of a price such as `interval` and `usage_type`.

        - `line_items.data.price.recurring.interval` (enum)
          The frequency at which a subscription is billed. One of `day`, `week`, `month` or `year`.

        - `line_items.data.price.recurring.interval_count` (integer)
          The number of intervals (specified in the `interval` attribute) between subscription billings. For example, `interval=month` and `interval_count=3` bills every 3 months.

        - `line_items.data.price.recurring.meter` (string, nullable)
          The meter tracking the usage of a metered price

        - `line_items.data.price.recurring.usage_type` (enum)
          Configures how the quantity per period should be determined. Can be either `metered` or `licensed`. `licensed` automatically bills the `quantity` set when adding it to a subscription. `metered` aggregates the total usage based on usage records. Defaults to `licensed`.

      - `line_items.data.price.tax_behavior` (enum, nullable)
        Only required if a [default tax behavior](https://docs.stripe.com/docs/tax/products-prices-tax-categories-tax-behavior.md#setting-a-default-tax-behavior-\(recommended\)) was not provided in the Stripe Tax settings. Specifies whether the price is considered inclusive of taxes or exclusive of taxes. One of `inclusive`, `exclusive`, or `unspecified`. Once specified as either `inclusive` or `exclusive`, it cannot be changed.
Possible enum values:
        - `exclusive`
        - `inclusive`
        - `unspecified`

      - `line_items.data.price.tiers` (array of objects, nullable)
        Each element represents a pricing tier. This parameter requires `billing_scheme` to be set to `tiered`. See also the documentation for `billing_scheme`.

        - `line_items.data.price.tiers.flat_amount` (integer, nullable)
          Price for the entire tier.

        - `line_items.data.price.tiers.flat_amount_decimal` (decimal string, nullable)
          Same as `flat_amount`, but contains a decimal value with at most 12 decimal places.

        - `line_items.data.price.tiers.unit_amount` (integer, nullable)
          Per unit price for units relevant to the tier.

        - `line_items.data.price.tiers.unit_amount_decimal` (decimal string, nullable)
          Same as `unit_amount`, but contains a decimal value with at most 12 decimal places.

        - `line_items.data.price.tiers.up_to` (integer, nullable)
          Up to and including to this quantity will be contained in the tier.

      - `line_items.data.price.tiers_mode` (enum, nullable)
        Defines if the tiering price should be `graduated` or `volume` based. In `volume`-based tiering, the maximum quantity within a period determines the per unit price. In `graduated` tiering, pricing can change as the quantity grows.
Possible enum values:
        - `graduated`
        - `volume`

      - `line_items.data.price.transform_quantity` (object, nullable)
        Apply a transformation to the reported usage or set quantity before computing the amount billed. Cannot be combined with `tiers`.

        - `line_items.data.price.transform_quantity.divide_by` (integer)
          Divide usage by this number.

        - `line_items.data.price.transform_quantity.round` (enum)
          After division, either round the result `up` or `down`.

      - `line_items.data.price.type` (enum)
        One of `one_time` or `recurring` depending on whether the price is for a one-time purchase or a recurring (subscription) purchase.
Possible enum values:
        - `one_time`
        - `recurring`

      - `line_items.data.price.unit_amount` (integer, nullable)
        The unit amount in cents to be charged, represented as a whole integer if possible. Only set if `billing_scheme=per_unit`.

      - `line_items.data.price.unit_amount_decimal` (decimal string, nullable)
        The unit amount in cents to be charged, represented as a decimal string with at most 12 decimal places. Only set if `billing_scheme=per_unit`.

    - `line_items.data.quantity` (integer, nullable)
      The quantity of products being purchased.

    - `line_items.data.taxes` (array of objects, nullable)
      The taxes applied to the line item.

      - `line_items.data.taxes.amount` (integer)
        Amount of tax applied for this rate.

      - `line_items.data.taxes.rate` (object)
        The tax rate applied.

        - `line_items.data.taxes.rate.id` (string)
          Unique identifier for the object.

        - `line_items.data.taxes.rate.object` (string)
          String representing the object’s type. Objects of the same type share the same value.

        - `line_items.data.taxes.rate.active` (boolean)
          Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

        - `line_items.data.taxes.rate.country` (string, nullable)
          Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

        - `line_items.data.taxes.rate.created` (timestamp)
          Time at which the object was created. Measured in seconds since the Unix epoch.

        - `line_items.data.taxes.rate.description` (string, nullable)
          An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

        - `line_items.data.taxes.rate.display_name` (string)
          The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

        - `line_items.data.taxes.rate.effective_percentage` (float, nullable)
          Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

        - `line_items.data.taxes.rate.flat_amount` (object, nullable)
          The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

          - `line_items.data.taxes.rate.flat_amount.amount` (integer)
            Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

          - `line_items.data.taxes.rate.flat_amount.currency` (string)
            Three-letter ISO currency code, in lowercase.

        - `line_items.data.taxes.rate.inclusive` (boolean)
          This specifies if the tax rate is inclusive or exclusive.

        - `line_items.data.taxes.rate.jurisdiction` (string, nullable)
          The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

        - `line_items.data.taxes.rate.jurisdiction_level` (enum, nullable)
          The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
          - `city`
          - `country`
          - `county`
          - `district`
          - `multiple`
          - `state`

        - `line_items.data.taxes.rate.livemode` (boolean)
          Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

        - `line_items.data.taxes.rate.metadata` (object, nullable)
          Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

        - `line_items.data.taxes.rate.percentage` (float)
          Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

        - `line_items.data.taxes.rate.rate_type` (enum, nullable)
          Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
          - `flat_amount`
            A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

          - `percentage`
            A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

        - `line_items.data.taxes.rate.state` (string, nullable)
          [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

        - `line_items.data.taxes.rate.tax_type` (enum, nullable)
          The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
          - `amusement_tax`
            Amusement Tax

          - `communications_tax`
            Communications Tax

          - `gst`
            Goods and Services Tax

          - `hst`
            Harmonized Sales Tax

          - `igst`
            Integrated Goods and Services Tax

          - `jct`
            Japanese Consumption Tax

          - `lease_tax`
            Chicago Lease Tax

          - `pst`
            Provincial Sales Tax

          - `qst`
            Quebec Sales Tax

          - `retail_delivery_fee`
            Retail Delivery Fee

          - `rst`
            Retail Sales Tax

          - `sales_tax`
            Sales Tax

          - `service_tax`
            Service Tax

          - `vat`
            Value-Added Tax

      - `line_items.data.taxes.taxability_reason` (enum, nullable)
        The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
Possible enum values:
        - `customer_exempt`
          No tax is applied as the customer is exempt from tax.

        - `not_collecting`
          No tax is collected either because you are not registered to collect tax in this jurisdiction, or because the non-taxable product tax code (`txcd_00000000`) was used.

        - `not_subject_to_tax`
          No tax is imposed on this transaction.

        - `not_supported`
          No tax applied. Stripe doesn’t support this jurisdiction, territory, or product.

        - `portion_product_exempt`
          A portion of the price is exempt from tax.

        - `portion_reduced_rated`
          A portion of the price is taxed at a reduced rate.

        - `portion_standard_rated`
          A portion of the price is taxed at the standard rate.

        - `product_exempt`
          The product or service is nontaxable or exempt from tax.

        - `product_exempt_holiday`
          The product or service is not taxed due to a sales tax holiday.

        - `proportionally_rated`
          The shipping cost tax rate is calculated as a weighted average of the other line items’ rates, weighted by their amounts.

        - `reduced_rated`
          Taxed at a reduced rate.

        - `reverse_charge`
          No tax is applied as it is the responsibility of the buyer to account for tax in this case.

        - `standard_rated`
          Taxed at the standard rate.

        - `taxable_basis_reduced`
          A reduced amount of the price is subject to tax.

        - `zero_rated`
          The transaction is taxed at a special rate of 0% or the transaction is exempt (but these exempt transactions still let you deduct the “input VAT” paid on your business purchases).

      - `line_items.data.taxes.taxable_amount` (integer, nullable)
        The amount on which tax is calculated, in cents.

  - `line_items.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `line_items.url` (string)
    The URL where this list can be accessed.

- `livemode` (boolean)
  Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

- `locale` (enum, nullable)
  The IETF language tag of the locale Checkout is displayed in. If blank or `auto`, the browser’s locale is used.
Possible enum values:
  - `auto`
  - `bg`
  - `cs`
  - `da`
  - `de`
  - `el`
  - `en`
  - `en-GB`
  - `es`
  - `es-419`
  - `et`
  - `fi`
  - `fil`
  - `fr`
  - `fr-CA`
  - `hr`
  - `hu`
  - `id`
  - `it`
  - `ja`
  - `ko`
  - `lt`
  - `lv`
  - `ms`
  - `mt`
  - `nb`
  - `nl`
  - `pl`
  - `pt`
  - `pt-BR`
  - `ro`
  - `ru`
  - `sk`
  - `sl`
  - `sv`
  - `th`
  - `tr`
  - `vi`
  - `zh`
  - `zh-HK`
  - `zh-TW`

- `metadata` (object, nullable)
  Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

- `mode` (enum)
  The mode of the Checkout Session.
Possible enum values:
  - `payment`
    Accept one-time payments for cards, iDEAL, and more.

  - `setup`
    Save payment details to charge your customers later.

  - `subscription`
    Use Stripe Billing to set up fixed-price subscriptions.

- `name_collection` (object, nullable)
  Details on the state of name collection for the session.

  - `name_collection.business` (object, nullable)
    The settings applied for collecting a business’s name.

    - `name_collection.business.enabled` (boolean)
      Indicates whether business name collection is enabled for the session

    - `name_collection.business.optional` (boolean)
      Whether the customer is required to complete the field before completing the Checkout Session. Defaults to `false`.

  - `name_collection.individual` (object, nullable)
    The settings applied for collecting an individual’s name.

    - `name_collection.individual.enabled` (boolean)
      Indicates whether individual name collection is enabled for the session

    - `name_collection.individual.optional` (boolean)
      Whether the customer is required to complete the field before completing the Checkout Session. Defaults to `false`.

- `optional_items` (array of objects, nullable)
  The optional items presented to the customer at checkout.

- `origin_context` (enum, nullable)
  Where the user is coming from. This informs the optimizations that are applied to the session.
Possible enum values:
  - `mobile_app`
    The Checkout Session originates from a mobile app.

  - `web`
    The Checkout Session originates from a web page.

- `payment_intent` (string, nullable)
  The ID of the PaymentIntent for Checkout Sessions in `payment` mode. You can’t confirm or cancel the PaymentIntent for a Checkout Session. To cancel, [expire the Checkout Session](https://docs.stripe.com/docs/api/checkout/sessions/expire.md) instead.

- `payment_link` (string, nullable)
  The ID of the Payment Link that created this Session.

- `payment_method_collection` (enum, nullable)
  Configure whether a Checkout Session should collect a payment method. Defaults to `always`.
Possible enum values:
  - `always`
    The Checkout Session will always collect a PaymentMethod.

  - `if_required`
    The Checkout Session will only collect a PaymentMethod if there is an amount due.

- `payment_method_configuration_details` (object, nullable)
  Information about the payment method configuration used for this Checkout session if using dynamic payment methods.

  - `payment_method_configuration_details.id` (string)
    ID of the payment method configuration used.

  - `payment_method_configuration_details.parent` (string, nullable)
    ID of the parent payment method configuration used.

- `payment_method_options` (object, nullable)
  Payment-method-specific configuration for the PaymentIntent or SetupIntent of this CheckoutSession.

  - `payment_method_options.acss_debit` (object, nullable)
    If the Checkout Session’s payment_method_types includes `acss_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.acss_debit.currency` (enum, nullable)
      Currency supported by the bank account. Returned when the Session is in `setup` mode.
Possible enum values:
      - `cad`
        Canadian dollars

      - `usd`
        US dollars

    - `payment_method_options.acss_debit.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.acss_debit.mandate_options.custom_mandate_url` (string, nullable)
        A URL for custom mandate text

      - `payment_method_options.acss_debit.mandate_options.default_for` (array of enums, nullable)
        List of Stripe products where this mandate can be selected automatically. Returned when the Session is in `setup` mode.
Possible enum values:
        - `invoice`
          Enables payments for Stripe Invoices. ‘subscription’ must also be provided.

        - `subscription`
          Enables payments for Stripe Subscriptions. ‘invoice’ must also be provided.

      - `payment_method_options.acss_debit.mandate_options.interval_description` (string, nullable)
        Description of the interval. Only required if the ‘payment_schedule’ parameter is ‘interval’ or ‘combined’.

      - `payment_method_options.acss_debit.mandate_options.payment_schedule` (enum, nullable)
        Payment schedule for the mandate.
Possible enum values:
        - `combined`
          Payments can be initiated at a pre-defined interval or sporadically

        - `interval`
          Payments are initiated at a regular pre-defined interval

        - `sporadic`
          Payments are initiated sporadically

      - `payment_method_options.acss_debit.mandate_options.transaction_type` (enum, nullable)
        Transaction type of the mandate.
Possible enum values:
        - `business`
          Transactions are made for business reasons

        - `personal`
          Transactions are made for personal reasons

    - `payment_method_options.acss_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.acss_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

    - `payment_method_options.acss_debit.verification_method` (enum, nullable)
      Bank account verification method.
Possible enum values:
      - `automatic`
        Instant verification with fallback to microdeposits.

      - `instant`
        Instant verification.

      - `microdeposits`
        Verification using microdeposits.

  - `payment_method_options.affirm` (object, nullable)
    If the Checkout Session’s payment_method_types includes `affirm`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.affirm.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.affirm.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.afterpay_clearpay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `afterpay_clearpay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.afterpay_clearpay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.afterpay_clearpay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.alipay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `alipay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.alipay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.alma` (object, nullable)
    If the Checkout Session’s payment_method_types includes `alma`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.alma.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.amazon_pay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `amazon_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.amazon_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.amazon_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.au_becs_debit` (object, nullable)
    If the Checkout Session’s payment_method_types includes `au_becs_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.au_becs_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

    - `payment_method_options.au_becs_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.bacs_debit` (object, nullable)
    If the Checkout Session’s payment_method_types includes `bacs_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.bacs_debit.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.bacs_debit.mandate_options.reference_prefix` (string, nullable)
        Prefix used to generate the Mandate reference. Must be at most 12 characters long. Must consist of only uppercase letters, numbers, spaces, or the following special characters: ‘/’, ‘_’, ‘-’, ‘&’, ‘.’. Cannot begin with ‘DDIC’ or ‘STRIPE’.

    - `payment_method_options.bacs_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.bacs_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.bancontact` (object, nullable)
    If the Checkout Session’s payment_method_types includes `bancontact`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.bancontact.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.billie` (object, nullable)
    If the Checkout Session’s payment_method_types includes `billie`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.billie.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.boleto` (object, nullable)
    If the Checkout Session’s payment_method_types includes `boleto`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.boleto.expires_after_days` (integer)
      The number of calendar days before a Boleto voucher expires. For example, if you create a Boleto voucher on Monday and you set expires_after_days to 2, the Boleto voucher will expire on Wednesday at 23:59 America/Sao_Paulo time.

    - `payment_method_options.boleto.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

  - `payment_method_options.card` (object, nullable)
    If the Checkout Session’s payment_method_types includes `card`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.card.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.card.installments` (object, nullable)
      Additional fields for Installments configuration

      - `payment_method_options.card.installments.enabled` (boolean, nullable)
        Indicates if installments are enabled

    - `payment_method_options.card.request_extended_authorization` (enum, nullable)
      Request ability to [capture beyond the standard authorization validity window](https://docs.stripe.com/payments/extended-authorization.md) for this CheckoutSession.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to extend the capture window when eligible for extended authorization.

      - `never`
        Use `never` if you don’t want to extend the capture window.

    - `payment_method_options.card.request_incremental_authorization` (enum, nullable)
      Request ability to [increment the authorization](https://docs.stripe.com/payments/incremental-authorization.md) for this CheckoutSession.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to increment the authorization on the PaymentIntent when eligible.

      - `never`
        Use `never` if you don’t want to increment the authorization on the PaymentIntent.

    - `payment_method_options.card.request_multicapture` (enum, nullable)
      Request ability to make [multiple captures](https://docs.stripe.com/payments/multicapture.md) for this CheckoutSession.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to use multicapture when eligible.

      - `never`
        Use `never` if you don’t want to use multicapture.

    - `payment_method_options.card.request_overcapture` (enum, nullable)
      Request ability to [overcapture](https://docs.stripe.com/payments/overcapture.md) for this CheckoutSession.
Possible enum values:
      - `if_available`
        Use `if_available` if you want to overcapture the payment when eligible.

      - `never`
        Use `never` if you don’t want to overcapture the payment.

    - `payment_method_options.card.request_three_d_secure` (enum)
      We strongly recommend that you rely on our SCA Engine to automatically prompt your customers for authentication based on risk level and [other requirements](https://docs.stripe.com/docs/strong-customer-authentication.md). However, if you wish to request 3D Secure based on logic from your own fraud engine, provide this option. If not provided, this value defaults to `automatic`. Read our guide on [manually requesting 3D Secure](https://docs.stripe.com/docs/payments/3d-secure/authentication-flow.md#manual-three-ds) for more information on how this configuration interacts with Radar and our SCA Engine.
Possible enum values:
      - `any`
        Use `any` to manually request 3DS with a preference for a `frictionless` flow, increasing the likelihood of the authentication being completed without any additional input from the customer. 3DS will always be attempted if it is supported for the card, but Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

      - `automatic`
        (Default) Our SCA Engine automatically prompts your customers for authentication based on risk level and other requirements.

      - `challenge`
        Use `challenge` to request 3DS with a preference for a `challenge` flow, where the customer must respond to a prompt for active authentication. Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

    - `payment_method_options.card.restrictions` (object, nullable)
      Restrictions to apply to the card payment method. For example, you can block specific card brands.

      - `payment_method_options.card.restrictions.brands_blocked` (array of enums, nullable)
        Specify the card brands to block in the Checkout Session. If a customer enters or selects a card belonging to a blocked brand, they can’t complete the Session.
Possible enum values:
        - `american_express`
        - `discover_global_network`
        - `mastercard`
        - `visa`

    - `payment_method_options.card.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.card.statement_descriptor_suffix_kana` (string, nullable)
      Provides information about a card payment that customers see on their statements. Concatenated with the Kana prefix (shortened Kana descriptor) or Kana statement descriptor that’s set on the account to form the complete statement descriptor. Maximum 22 characters. On card statements, the *concatenation* of both prefix and suffix (including separators) will appear truncated to 22 characters.

    - `payment_method_options.card.statement_descriptor_suffix_kanji` (string, nullable)
      Provides information about a card payment that customers see on their statements. Concatenated with the Kanji prefix (shortened Kanji descriptor) or Kanji statement descriptor that’s set on the account to form the complete statement descriptor. Maximum 17 characters. On card statements, the *concatenation* of both prefix and suffix (including separators) will appear truncated to 17 characters.

  - `payment_method_options.cashapp` (object, nullable)
    If the Checkout Session’s payment_method_types includes `cashapp`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.cashapp.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.cashapp.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.customer_balance` (object, nullable)
    If the Checkout Session’s payment_method_types includes `customer_balance`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.customer_balance.bank_transfer` (object, nullable)
      Configuration for the bank transfer funding type, if the `funding_type` is set to `bank_transfer`.

      - `payment_method_options.customer_balance.bank_transfer.eu_bank_transfer` (object, nullable)
        Configuration for eu_bank_transfer

        - `payment_method_options.customer_balance.bank_transfer.eu_bank_transfer.country` (enum)
          The desired country code of the bank account information. Permitted values include: `BE`, `DE`, `ES`, `FR`, `IE`, or `NL`.
Possible enum values:
          - `BE`
          - `DE`
          - `ES`
          - `FR`
          - `IE`
          - `NL`

      - `payment_method_options.customer_balance.bank_transfer.requested_address_types` (array of enums, nullable)
        List of address types that should be returned in the financial_addresses response. If not specified, all valid types will be returned.

        Permitted values include: `sort_code`, `zengin`, `iban`, or `spei`.
Possible enum values:
        - `aba`
          aba bank account address type

        - `iban`
          iban bank account address type

        - `sepa`
          sepa bank account address type

        - `sort_code`
          sort_code bank account address type

        - `spei`
          spei bank account address type

        - `swift`
          swift bank account address type

        - `zengin`
          zengin bank account address type

      - `payment_method_options.customer_balance.bank_transfer.type` (enum, nullable)
        The bank transfer type that this PaymentIntent is allowed to use for funding Permitted values include: `eu_bank_transfer`, `gb_bank_transfer`, `jp_bank_transfer`, `mx_bank_transfer`, or `us_bank_transfer`.
Possible enum values:
        - `eu_bank_transfer`
          A bank transfer of type eu_bank_transfer

        - `gb_bank_transfer`
          A bank transfer of type gb_bank_transfer

        - `jp_bank_transfer`
          A bank transfer of type jp_bank_transfer

        - `mx_bank_transfer`
          A bank transfer of type mx_bank_transfer

        - `us_bank_transfer`
          A bank transfer of type us_bank_transfer

    - `payment_method_options.customer_balance.funding_type` (enum, nullable)
      The funding method type to be used when there are not enough funds in the customer balance. Permitted values include: `bank_transfer`.
Possible enum values:
      - `bank_transfer`

    - `payment_method_options.customer_balance.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.eps` (object, nullable)
    If the Checkout Session’s payment_method_types includes `eps`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.eps.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.fpx` (object, nullable)
    If the Checkout Session’s payment_method_types includes `fpx`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.fpx.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.giropay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `giropay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.giropay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.grabpay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `grabpay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.grabpay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.ideal` (object, nullable)
    If the Checkout Session’s payment_method_types includes `ideal`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.ideal.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.kakao_pay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `kakao_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.kakao_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.kakao_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.klarna` (object, nullable)
    If the Checkout Session’s payment_method_types includes `klarna`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.klarna.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.klarna.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

  - `payment_method_options.konbini` (object, nullable)
    If the Checkout Session’s payment_method_types includes `konbini`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.konbini.expires_after_days` (integer, nullable)
      The number of calendar days (between 1 and 60) after which Konbini payment instructions will expire. For example, if a PaymentIntent is confirmed with Konbini and `expires_after_days` set to 2 on Monday JST, the instructions will expire on Wednesday 23:59:59 JST.

    - `payment_method_options.konbini.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.kr_card` (object, nullable)
    If the Checkout Session’s payment_method_types includes `kr_card`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.kr_card.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.kr_card.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.link` (object, nullable)
    If the Checkout Session’s payment_method_types includes `link`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.link.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.link.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.mobilepay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `mobilepay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.mobilepay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.mobilepay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.multibanco` (object, nullable)
    If the Checkout Session’s payment_method_types includes `multibanco`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.multibanco.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.naver_pay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `naver_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.naver_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.naver_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.oxxo` (object, nullable)
    If the Checkout Session’s payment_method_types includes `oxxo`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.oxxo.expires_after_days` (integer)
      The number of calendar days before an OXXO invoice expires. For example, if you create an OXXO invoice on Monday and you set expires_after_days to 2, the OXXO invoice will expire on Wednesday at 23:59 America/Mexico_City time.

    - `payment_method_options.oxxo.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.p24` (object, nullable)
    If the Checkout Session’s payment_method_types includes `p24`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.p24.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.payco` (object, nullable)
    If the Checkout Session’s payment_method_types includes `payco`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.payco.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.paynow` (object, nullable)
    If the Checkout Session’s payment_method_types includes `paynow`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.paynow.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.paypal` (object, nullable)
    If the Checkout Session’s payment_method_types includes `paypal`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.paypal.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.paypal.preferred_locale` (string, nullable)
      Preferred locale of the PayPal checkout page that the customer is redirected to.

    - `payment_method_options.paypal.reference` (string, nullable)
      A reference of the PayPal transaction visible to customer which is mapped to PayPal’s invoice ID. This must be a globally unique ID if you have configured in your PayPal settings to block multiple payments per invoice ID.

    - `payment_method_options.paypal.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.pix` (object, nullable)
    If the Checkout Session’s payment_method_types includes `pix`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.pix.amount_includes_iof` (enum, nullable)
      Determines if the amount includes the IOF tax.
Possible enum values:
      - `always`
        The IOF tax is included in the amount.

      - `never`
        The IOF tax is not included in the amount.

    - `payment_method_options.pix.expires_after_seconds` (integer, nullable)
      The number of seconds after which Pix payment will expire.

    - `payment_method_options.pix.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.revolut_pay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `revolut_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.revolut_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

    - `payment_method_options.revolut_pay.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

  - `payment_method_options.samsung_pay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `samsung_pay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.samsung_pay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.satispay` (object, nullable)
    If the Checkout Session’s payment_method_types includes `satispay`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.satispay.capture_method` (enum, nullable)
      Controls when the funds will be captured from the customer’s account.
Possible enum values:
      - `manual`
        Use `manual` if you intend to place the funds on hold and want to override the top-level `capture_method` value for this payment method.

  - `payment_method_options.sepa_debit` (object, nullable)
    If the Checkout Session’s payment_method_types includes `sepa_debit`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.sepa_debit.mandate_options` (object, nullable)
      Additional fields for Mandate creation

      - `payment_method_options.sepa_debit.mandate_options.reference_prefix` (string, nullable)
        Prefix used to generate the Mandate reference. Must be at most 12 characters long. Must consist of only uppercase letters, numbers, spaces, or the following special characters: ‘/’, ‘_’, ‘-’, ‘&’, ‘.’. Cannot begin with ‘STRIPE’.

    - `payment_method_options.sepa_debit.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.sepa_debit.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

  - `payment_method_options.sofort` (object, nullable)
    If the Checkout Session’s payment_method_types includes `sofort`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.sofort.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.swish` (object, nullable)
    If the Checkout Session’s payment_method_types includes `swish`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.swish.reference` (string, nullable)
      The order reference that will be displayed to customers in the Swish application. Defaults to the `id` of the Payment Intent.

  - `payment_method_options.twint` (object, nullable)
    If the Checkout Session’s payment_method_types includes `twint`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.twint.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

  - `payment_method_options.us_bank_account` (object, nullable)
    If the Checkout Session’s payment_method_types includes `us_bank_account`, this hash contains the configurations that will be applied to each payment attempt of that type.

    - `payment_method_options.us_bank_account.financial_connections` (object, nullable)
      Additional fields for Financial Connections Session creation

      - `payment_method_options.us_bank_account.financial_connections.filters` (object, nullable)
        Filter the list of accounts that are allowed to be linked.

        - `payment_method_options.us_bank_account.financial_connections.filters.account_subcategories` (array of enums, nullable)
          The account subcategories to use to filter for possible accounts to link. Valid subcategories are `checking` and `savings`.
Possible enum values:
          - `checking`
            Bank account subcategory is checking

          - `savings`
            Bank account subcategory is savings

      - `payment_method_options.us_bank_account.financial_connections.permissions` (array of enums, nullable)
        The list of permissions to request. The `payment_method` permission must be included.
Possible enum values:
        - `balances`
          Allows accessing balance data from the account.

        - `ownership`
          Allows accessing ownership data from the account.

        - `payment_method`
          Allows the creation of a payment method from the account.

        - `transactions`
          Allows accessing transactions data from the account.

      - `payment_method_options.us_bank_account.financial_connections.prefetch` (array of enums, nullable)
        Data features requested to be retrieved upon account creation.
Possible enum values:
        - `balances`
          Requests to prefetch balance data on accounts collected in this session.

        - `ownership`
          Requests to prefetch ownership data on accounts collected in this session.

        - `transactions`
          Requests to prefetch transaction data on accounts collected in this session.

      - `payment_method_options.us_bank_account.financial_connections.return_url` (string, nullable)
        For webview integrations only. Upon completing OAuth login in the native browser, the user will be redirected to this URL to return to your app.

    - `payment_method_options.us_bank_account.setup_future_usage` (enum, nullable)
      Indicates that you intend to make future payments with this PaymentIntent’s payment method.

      If you provide a Customer with the PaymentIntent, you can use this parameter to [attach the payment method](https://docs.stripe.com/payments/save-during-payment.md) to the Customer after the PaymentIntent is confirmed and the customer completes any required actions. If you don’t provide a Customer, you can still [attach](https://docs.stripe.com/api/payment_methods/attach.md) the payment method to a Customer after the transaction completes.

      If the payment method is `card_present` and isn’t a digital wallet, Stripe creates and attaches a [generated_card](https://docs.stripe.com/api/charges/object.md#charge_object-payment_method_details-card_present-generated_card) payment method representing the card to the Customer instead.

      When processing card payments, Stripe uses `setup_future_usage` to help you comply with regional legislation and network rules, such as [SCA](https://docs.stripe.com/strong-customer-authentication.md).
Possible enum values:
      - `none`
        Use `none` if you do not intend to reuse this payment method and want to override the top-level `setup_future_usage` value for this payment method.

      - `off_session`
        Use `off_session` if your customer may or may not be present in your checkout flow.

      - `on_session`
        Use `on_session` if you intend to only reuse the payment method when your customer is present in your checkout flow.

    - `payment_method_options.us_bank_account.target_date` (string, nullable)
      Controls when Stripe will attempt to debit the funds from the customer’s account. The date must be a string in YYYY-MM-DD format. The date must be in the future and between 3 and 15 calendar days from now.

    - `payment_method_options.us_bank_account.verification_method` (enum, nullable)
      Bank account verification method.
Possible enum values:
      - `automatic`
        Instant verification with fallback to microdeposits.

      - `instant`
        Instant verification only.

- `payment_method_types` (array of strings)
  A list of the types of payment methods (e.g. card) this Checkout Session is allowed to accept.

- `payment_status` (enum)
  The payment status of the Checkout Session, one of `paid`, `unpaid`, or `no_payment_required`. You can use this value to decide when to fulfill your customer’s order.
Possible enum values:
  - `no_payment_required`
    The payment is delayed to a future date, or the Checkout Session is in `setup` mode and doesn’t require a payment at this time.

  - `paid`
    The payment funds are available in your account.

  - `unpaid`
    The payment funds are not yet available in your account.

- `permissions` (object, nullable)
  This property is used to set up permissions for various actions (e.g., update) on the CheckoutSession object.

  For specific permissions, please refer to their dedicated subsections, such as `permissions.update_shipping_details`.

  - `permissions.update_shipping_details` (enum, nullable)
    Determines which entity is allowed to update the shipping details.

    Default is `client_only`. Stripe Checkout client will automatically update the shipping details. If set to `server_only`, only your server is allowed to update the shipping details.

    When set to `server_only`, you must add the onShippingDetailsChange event handler when initializing the Stripe Checkout client and manually update the shipping details from your server using the Stripe API.
Possible enum values:
    - `client_only`
    - `server_only`

- `phone_number_collection` (object, nullable)
  Details on the state of phone number collection for the session.

  - `phone_number_collection.enabled` (boolean)
    Indicates whether phone number collection is enabled for the session

- `presentment_details` (object, nullable)
  A hash containing information about the currency presentation to the customer, including the displayed currency and amount used for conversion from the integration currency.

  - `presentment_details.presentment_amount` (integer)
    Amount intended to be collected by this payment, denominated in `presentment_currency`.

  - `presentment_details.presentment_currency` (string)
    Currency presented to the customer during payment.

- `recovered_from` (string, nullable)
  The ID of the original expired Checkout Session that triggered the recovery flow.

- `redirect_on_completion` (enum, nullable)
  This parameter applies to `ui_mode: embedded`. Learn more about the [redirect behavior](https://docs.stripe.com/docs/payments/checkout/custom-success-page.md?payment-ui=embedded-form) of embedded sessions. Defaults to `always`.
Possible enum values:
  - `always`
    The Session will always redirect to the `return_url` after successful confirmation.

  - `if_required`
    The Session will only redirect to the `return_url` after a redirect-based payment method is used.

  - `never`
    The Session will never redirect to the `return_url`, and redirect-based payment methods will be disabled.

- `return_url` (string, nullable)
  Applies to Checkout Sessions with `ui_mode: embedded` or `ui_mode: custom`. The URL to redirect your customer back to after they authenticate or cancel their payment on the payment method’s app or site.

- `saved_payment_method_options` (object, nullable)
  Controls saved payment method settings for the session. Only available in `payment` and `subscription` mode.

  - `saved_payment_method_options.allow_redisplay_filters` (array of enums, nullable)
    Uses the `allow_redisplay` value of each saved payment method to filter the set presented to a returning customer. By default, only saved payment methods with ’allow_redisplay: ‘always’ are shown in Checkout.
Possible enum values:
    - `always`
      When set, Checkout will show eligible saved payment methods with the `allow_redisplay` value of `always`

    - `limited`
      When set, Checkout will show eligible saved payment methods with the `allow_redisplay` value of `limited`

    - `unspecified`
      When set, Checkout will show eligible saved payment methods with the `allow_redisplay` value of `unspecified`

  - `saved_payment_method_options.payment_method_remove` (enum, nullable)
    Enable customers to choose if they wish to remove their saved payment methods. Disabled by default.
Possible enum values:
    - `disabled`
      Removing payment methods will be disabled for this Checkout Session. This is the default option.

    - `enabled`
      Removing payment methods will be enabled for this Checkout Session.

  - `saved_payment_method_options.payment_method_save` (enum, nullable)
    Enable customers to choose if they wish to save their payment method for future use. Disabled by default.
Possible enum values:
    - `disabled`
      Saving payment methods will be disabled for this Checkout Session. This is the default option.

    - `enabled`
      Saving payment methods will be enabled for this Checkout Session.

- `setup_intent` (string, nullable)
  The ID of the SetupIntent for Checkout Sessions in `setup` mode. You can’t confirm or cancel the SetupIntent for a Checkout Session. To cancel, [expire the Checkout Session](https://docs.stripe.com/docs/api/checkout/sessions/expire.md) instead.

- `shipping_address_collection` (object, nullable)
  When set, provides configuration for Checkout to collect a shipping address from a customer.

  - `shipping_address_collection.allowed_countries` (array of enums)
    An array of two-letter ISO country codes representing which countries Checkout should provide as options for shipping locations. Unsupported country codes: `AS, CX, CC, CU, HM, IR, KP, MH, FM, NF, MP, PW, SY, UM, VI`.
Possible enum values:
    - `AC`
    - `AD`
    - `AE`
    - `AF`
    - `AG`
    - `AI`
    - `AL`
    - `AM`
    - `AO`
    - `AQ`
    - `AR`
    - `AT`
    - `AU`
    - `AW`
    - `AX`
    - `AZ`
    - `BA`
    - `BB`
    - `BD`
    - `BE`
    - `BF`
    - `BG`
    - `BH`
    - `BI`
    - `BJ`
    - `BL`
    - `BM`
    - `BN`
    - `BO`
    - `BQ`
    - `BR`
    - `BS`
    - `BT`
    - `BV`
    - `BW`
    - `BY`
    - `BZ`
    - `CA`
    - `CD`
    - `CF`
    - `CG`
    - `CH`
    - `CI`
    - `CK`
    - `CL`
    - `CM`
    - `CN`
    - `CO`
    - `CR`
    - `CV`
    - `CW`
    - `CY`
    - `CZ`
    - `DE`
    - `DJ`
    - `DK`
    - `DM`
    - `DO`
    - `DZ`
    - `EC`
    - `EE`
    - `EG`
    - `EH`
    - `ER`
    - `ES`
    - `ET`
    - `FI`
    - `FJ`
    - `FK`
    - `FO`
    - `FR`
    - `GA`
    - `GB`
    - `GD`
    - `GE`
    - `GF`
    - `GG`
    - `GH`
    - `GI`
    - `GL`
    - `GM`
    - `GN`
    - `GP`
    - `GQ`
    - `GR`
    - `GS`
    - `GT`
    - `GU`
    - `GW`
    - `GY`
    - `HK`
    - `HN`
    - `HR`
    - `HT`
    - `HU`
    - `ID`
    - `IE`
    - `IL`
    - `IM`
    - `IN`
    - `IO`
    - `IQ`
    - `IS`
    - `IT`
    - `JE`
    - `JM`
    - `JO`
    - `JP`
    - `KE`
    - `KG`
    - `KH`
    - `KI`
    - `KM`
    - `KN`
    - `KR`
    - `KW`
    - `KY`
    - `KZ`
    - `LA`
    - `LB`
    - `LC`
    - `LI`
    - `LK`
    - `LR`
    - `LS`
    - `LT`
    - `LU`
    - `LV`
    - `LY`
    - `MA`
    - `MC`
    - `MD`
    - `ME`
    - `MF`
    - `MG`
    - `MK`
    - `ML`
    - `MM`
    - `MN`
    - `MO`
    - `MQ`
    - `MR`
    - `MS`
    - `MT`
    - `MU`
    - `MV`
    - `MW`
    - `MX`
    - `MY`
    - `MZ`
    - `NA`
    - `NC`
    - `NE`
    - `NG`
    - `NI`
    - `NL`
    - `NO`
    - `NP`
    - `NR`
    - `NU`
    - `NZ`
    - `OM`
    - `PA`
    - `PE`
    - `PF`
    - `PG`
    - `PH`
    - `PK`
    - `PL`
    - `PM`
    - `PN`
    - `PR`
    - `PS`
    - `PT`
    - `PY`
    - `QA`
    - `RE`
    - `RO`
    - `RS`
    - `RU`
    - `RW`
    - `SA`
    - `SB`
    - `SC`
    - `SD`
    - `SE`
    - `SG`
    - `SH`
    - `SI`
    - `SJ`
    - `SK`
    - `SL`
    - `SM`
    - `SN`
    - `SO`
    - `SR`
    - `SS`
    - `ST`
    - `SV`
    - `SX`
    - `SZ`
    - `TA`
    - `TC`
    - `TD`
    - `TF`
    - `TG`
    - `TH`
    - `TJ`
    - `TK`
    - `TL`
    - `TM`
    - `TN`
    - `TO`
    - `TR`
    - `TT`
    - `TV`
    - `TW`
    - `TZ`
    - `UA`
    - `UG`
    - `US`
    - `UY`
    - `UZ`
    - `VA`
    - `VC`
    - `VE`
    - `VG`
    - `VN`
    - `VU`
    - `WF`
    - `WS`
    - `XK`
    - `YE`
    - `YT`
    - `ZA`
    - `ZM`
    - `ZW`
    - `ZZ`

- `shipping_cost` (object, nullable)
  The details of the customer cost of shipping, including the customer chosen ShippingRate.

  - `shipping_cost.amount_subtotal` (integer)
    Total shipping cost before any discounts or taxes are applied.

  - `shipping_cost.amount_tax` (integer)
    Total tax amount applied due to shipping costs. If no tax was applied, defaults to 0.

  - `shipping_cost.amount_total` (integer)
    Total shipping cost after discounts and taxes are applied.

  - `shipping_cost.shipping_rate` (string, nullable)
    The ID of the ShippingRate for this order.

  - `shipping_cost.taxes` (array of objects, nullable)
    The taxes applied to the shipping rate.

    - `shipping_cost.taxes.amount` (integer)
      Amount of tax applied for this rate.

    - `shipping_cost.taxes.rate` (object)
      The tax rate applied.

      - `shipping_cost.taxes.rate.id` (string)
        Unique identifier for the object.

      - `shipping_cost.taxes.rate.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `shipping_cost.taxes.rate.active` (boolean)
        Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

      - `shipping_cost.taxes.rate.country` (string, nullable)
        Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

      - `shipping_cost.taxes.rate.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `shipping_cost.taxes.rate.description` (string, nullable)
        An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

      - `shipping_cost.taxes.rate.display_name` (string)
        The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

      - `shipping_cost.taxes.rate.effective_percentage` (float, nullable)
        Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

      - `shipping_cost.taxes.rate.flat_amount` (object, nullable)
        The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

        - `shipping_cost.taxes.rate.flat_amount.amount` (integer)
          Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

        - `shipping_cost.taxes.rate.flat_amount.currency` (string)
          Three-letter ISO currency code, in lowercase.

      - `shipping_cost.taxes.rate.inclusive` (boolean)
        This specifies if the tax rate is inclusive or exclusive.

      - `shipping_cost.taxes.rate.jurisdiction` (string, nullable)
        The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

      - `shipping_cost.taxes.rate.jurisdiction_level` (enum, nullable)
        The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
        - `city`
        - `country`
        - `county`
        - `district`
        - `multiple`
        - `state`

      - `shipping_cost.taxes.rate.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `shipping_cost.taxes.rate.metadata` (object, nullable)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `shipping_cost.taxes.rate.percentage` (float)
        Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

      - `shipping_cost.taxes.rate.rate_type` (enum, nullable)
        Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
        - `flat_amount`
          A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

        - `percentage`
          A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

      - `shipping_cost.taxes.rate.state` (string, nullable)
        [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

      - `shipping_cost.taxes.rate.tax_type` (enum, nullable)
        The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
        - `amusement_tax`
          Amusement Tax

        - `communications_tax`
          Communications Tax

        - `gst`
          Goods and Services Tax

        - `hst`
          Harmonized Sales Tax

        - `igst`
          Integrated Goods and Services Tax

        - `jct`
          Japanese Consumption Tax

        - `lease_tax`
          Chicago Lease Tax

        - `pst`
          Provincial Sales Tax

        - `qst`
          Quebec Sales Tax

        - `retail_delivery_fee`
          Retail Delivery Fee

        - `rst`
          Retail Sales Tax

        - `sales_tax`
          Sales Tax

        - `service_tax`
          Service Tax

        - `vat`
          Value-Added Tax

    - `shipping_cost.taxes.taxability_reason` (enum, nullable)
      The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
Possible enum values:
      - `customer_exempt`
        No tax is applied as the customer is exempt from tax.

      - `not_collecting`
        No tax is collected either because you are not registered to collect tax in this jurisdiction, or because the non-taxable product tax code (`txcd_00000000`) was used.

      - `not_subject_to_tax`
        No tax is imposed on this transaction.

      - `not_supported`
        No tax applied. Stripe doesn’t support this jurisdiction, territory, or product.

      - `portion_product_exempt`
        A portion of the price is exempt from tax.

      - `portion_reduced_rated`
        A portion of the price is taxed at a reduced rate.

      - `portion_standard_rated`
        A portion of the price is taxed at the standard rate.

      - `product_exempt`
        The product or service is nontaxable or exempt from tax.

      - `product_exempt_holiday`
        The product or service is not taxed due to a sales tax holiday.

      - `proportionally_rated`
        The shipping cost tax rate is calculated as a weighted average of the other line items’ rates, weighted by their amounts.

      - `reduced_rated`
        Taxed at a reduced rate.

      - `reverse_charge`
        No tax is applied as it is the responsibility of the buyer to account for tax in this case.

      - `standard_rated`
        Taxed at the standard rate.

      - `taxable_basis_reduced`
        A reduced amount of the price is subject to tax.

      - `zero_rated`
        The transaction is taxed at a special rate of 0% or the transaction is exempt (but these exempt transactions still let you deduct the “input VAT” paid on your business purchases).

    - `shipping_cost.taxes.taxable_amount` (integer, nullable)
      The amount on which tax is calculated, in cents.

- `shipping_options` (array of objects)
  The shipping rate options applied to this Session.

  - `shipping_options.shipping_amount` (integer)
    A non-negative integer in cents representing how much to charge.

  - `shipping_options.shipping_rate` (string)
    The shipping rate.

- `status` (enum, nullable)
  The status of the Checkout Session, one of `open`, `complete`, or `expired`.
Possible enum values:
  - `complete`
    The checkout session is complete. Payment processing may still be in progress

  - `expired`
    The checkout session has expired. No further processing will occur

  - `open`
    The checkout session is still in progress. Payment processing has not started

- `submit_type` (enum, nullable)
  Describes the type of transaction being performed by Checkout in order to customize relevant text on the page, such as the submit button. `submit_type` can only be specified on Checkout Sessions in `payment` mode. If blank or `auto`, `pay` is used.
Possible enum values:
  - `auto`
    `pay` will used for `payment` mode sessions and `subscribe` will be used for `subscription` mode sessions

  - `book`
    Recommended when offering bookings. Submit button includes a ‘Book’ label

  - `donate`
    Recommended when accepting donations. Submit button includes a ‘Donate’ label

  - `pay`
    Submit button includes a ‘Buy’ label

  - `subscribe`
    Submit button includes a ‘Subscribe’ label

- `subscription` (string, nullable)
  The ID of the [Subscription](https://docs.stripe.com/docs/api/subscriptions.md) for Checkout Sessions in `subscription` mode.

- `success_url` (string, nullable)
  The URL the customer will be directed to after the payment or subscription creation is successful.

- `tax_id_collection` (object, nullable)
  Details on the state of tax ID collection for the session.

  - `tax_id_collection.enabled` (boolean)
    Indicates whether tax ID collection is enabled for the session

  - `tax_id_collection.required` (enum)
    Indicates whether a tax ID is required on the payment page
Possible enum values:
    - `if_supported`
      A tax ID will be required if collection is [supported](https://docs.stripe.com/tax/checkout/tax-ids.md#supported-types) for the selected billing address country.

    - `never`
      Tax ID collection is never required.

- `total_details` (object, nullable)
  Tax and discount details for the computed total amount.

  - `total_details.amount_discount` (integer)
    This is the sum of all the discounts.

  - `total_details.amount_shipping` (integer, nullable)
    This is the sum of all the shipping amounts.

  - `total_details.amount_tax` (integer)
    This is the sum of all the tax amounts.

  - `total_details.breakdown` (object, nullable)
    Breakdown of individual tax and discount amounts that add up to the totals.

    - `total_details.breakdown.discounts` (array of objects)
      The aggregated discounts.

      - `total_details.breakdown.discounts.amount` (integer)
        The amount discounted.

      - `total_details.breakdown.discounts.discount` (object)
        The discount applied.

        - `total_details.breakdown.discounts.discount.id` (string)
          The ID of the discount object. Discounts cannot be fetched by ID. Use `expand[]=discounts` in API calls to expand discount IDs in an array.

        - `total_details.breakdown.discounts.discount.object` (string)
          String representing the object’s type. Objects of the same type share the same value.

        - `total_details.breakdown.discounts.discount.checkout_session` (string, nullable)
          The Checkout session that this coupon is applied to, if it is applied to a particular session in payment mode. Will not be present for subscription mode.

        - `total_details.breakdown.discounts.discount.customer` (string, nullable)
          The ID of the customer associated with this discount.

        - `total_details.breakdown.discounts.discount.end` (timestamp, nullable)
          If the coupon has a duration of `repeating`, the date that this discount will end. If the coupon has a duration of `once` or `forever`, this attribute will be null.

        - `total_details.breakdown.discounts.discount.invoice` (string, nullable)
          The invoice that the discount’s coupon was applied to, if it was applied directly to a particular invoice.

        - `total_details.breakdown.discounts.discount.invoice_item` (string, nullable)
          The invoice item `id` (or invoice line item `id` for invoice line items of type=‘subscription’) that the discount’s coupon was applied to, if it was applied directly to a particular invoice item or invoice line item.

        - `total_details.breakdown.discounts.discount.promotion_code` (string, nullable)
          The promotion code applied to create this discount.

        - `total_details.breakdown.discounts.discount.source` (object)
          The source of the discount.

          - `total_details.breakdown.discounts.discount.source.coupon` (string, nullable)
            The coupon that was redeemed to create this discount.

          - `total_details.breakdown.discounts.discount.source.type` (enum)
            The source type of the discount.
Possible enum values:
            - `coupon`
              Coupon source type

        - `total_details.breakdown.discounts.discount.start` (timestamp)
          Date that the coupon was applied.

        - `total_details.breakdown.discounts.discount.subscription` (string, nullable)
          The subscription that this coupon is applied to, if it is applied to a particular subscription.

        - `total_details.breakdown.discounts.discount.subscription_item` (string, nullable)
          The subscription item that this coupon is applied to, if it is applied to a particular subscription item.

    - `total_details.breakdown.taxes` (array of objects)
      The aggregated tax amounts by rate.

      - `total_details.breakdown.taxes.amount` (integer)
        Amount of tax applied for this rate.

      - `total_details.breakdown.taxes.rate` (object)
        The tax rate applied.

        - `total_details.breakdown.taxes.rate.id` (string)
          Unique identifier for the object.

        - `total_details.breakdown.taxes.rate.object` (string)
          String representing the object’s type. Objects of the same type share the same value.

        - `total_details.breakdown.taxes.rate.active` (boolean)
          Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

        - `total_details.breakdown.taxes.rate.country` (string, nullable)
          Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

        - `total_details.breakdown.taxes.rate.created` (timestamp)
          Time at which the object was created. Measured in seconds since the Unix epoch.

        - `total_details.breakdown.taxes.rate.description` (string, nullable)
          An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

        - `total_details.breakdown.taxes.rate.display_name` (string)
          The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

        - `total_details.breakdown.taxes.rate.effective_percentage` (float, nullable)
          Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

        - `total_details.breakdown.taxes.rate.flat_amount` (object, nullable)
          The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

          - `total_details.breakdown.taxes.rate.flat_amount.amount` (integer)
            Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

          - `total_details.breakdown.taxes.rate.flat_amount.currency` (string)
            Three-letter ISO currency code, in lowercase.

        - `total_details.breakdown.taxes.rate.inclusive` (boolean)
          This specifies if the tax rate is inclusive or exclusive.

        - `total_details.breakdown.taxes.rate.jurisdiction` (string, nullable)
          The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

        - `total_details.breakdown.taxes.rate.jurisdiction_level` (enum, nullable)
          The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
          - `city`
          - `country`
          - `county`
          - `district`
          - `multiple`
          - `state`

        - `total_details.breakdown.taxes.rate.livemode` (boolean)
          Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

        - `total_details.breakdown.taxes.rate.metadata` (object, nullable)
          Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

        - `total_details.breakdown.taxes.rate.percentage` (float)
          Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

        - `total_details.breakdown.taxes.rate.rate_type` (enum, nullable)
          Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
          - `flat_amount`
            A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

          - `percentage`
            A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

        - `total_details.breakdown.taxes.rate.state` (string, nullable)
          [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

        - `total_details.breakdown.taxes.rate.tax_type` (enum, nullable)
          The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
          - `amusement_tax`
            Amusement Tax

          - `communications_tax`
            Communications Tax

          - `gst`
            Goods and Services Tax

          - `hst`
            Harmonized Sales Tax

          - `igst`
            Integrated Goods and Services Tax

          - `jct`
            Japanese Consumption Tax

          - `lease_tax`
            Chicago Lease Tax

          - `pst`
            Provincial Sales Tax

          - `qst`
            Quebec Sales Tax

          - `retail_delivery_fee`
            Retail Delivery Fee

          - `rst`
            Retail Sales Tax

          - `sales_tax`
            Sales Tax

          - `service_tax`
            Service Tax

          - `vat`
            Value-Added Tax

      - `total_details.breakdown.taxes.taxability_reason` (enum, nullable)
        The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
Possible enum values:
        - `customer_exempt`
          No tax is applied as the customer is exempt from tax.

        - `not_collecting`
          No tax is collected either because you are not registered to collect tax in this jurisdiction, or because the non-taxable product tax code (`txcd_00000000`) was used.

        - `not_subject_to_tax`
          No tax is imposed on this transaction.

        - `not_supported`
          No tax applied. Stripe doesn’t support this jurisdiction, territory, or product.

        - `portion_product_exempt`
          A portion of the price is exempt from tax.

        - `portion_reduced_rated`
          A portion of the price is taxed at a reduced rate.

        - `portion_standard_rated`
          A portion of the price is taxed at the standard rate.

        - `product_exempt`
          The product or service is nontaxable or exempt from tax.

        - `product_exempt_holiday`
          The product or service is not taxed due to a sales tax holiday.

        - `proportionally_rated`
          The shipping cost tax rate is calculated as a weighted average of the other line items’ rates, weighted by their amounts.

        - `reduced_rated`
          Taxed at a reduced rate.

        - `reverse_charge`
          No tax is applied as it is the responsibility of the buyer to account for tax in this case.

        - `standard_rated`
          Taxed at the standard rate.

        - `taxable_basis_reduced`
          A reduced amount of the price is subject to tax.

        - `zero_rated`
          The transaction is taxed at a special rate of 0% or the transaction is exempt (but these exempt transactions still let you deduct the “input VAT” paid on your business purchases).

      - `total_details.breakdown.taxes.taxable_amount` (integer, nullable)
        The amount on which tax is calculated, in cents.

- `ui_mode` (enum, nullable)
  The UI mode of the Session. Defaults to `hosted`.
Possible enum values:
  - `custom`
    The Checkout Session will be displayed using [embedded components](https://docs.stripe.com/checkout/custom/quickstart.md) on your website

  - `embedded`
    The Checkout Session will be displayed as an embedded form on your website.

  - `hosted`
    The Checkout Session will be displayed on a hosted page that customers will be redirected to.

- `url` (string, nullable)
  The URL to the Checkout Session. Applies to Checkout Sessions with `ui_mode: hosted`. Redirect customers to this URL to take them to Checkout. If you’re using [Custom Domains](https://docs.stripe.com/docs/payments/checkout/custom-domains.md), the URL will use your subdomain. Otherwise, it’ll use `checkout.stripe.com.` This value is only present when the session is active.

- `wallet_options` (object, nullable)
  Wallet-specific configuration for this Checkout Session.

  - `wallet_options.link` (object, nullable)
    This hash contains the configurations that will be applied to the wallet of this type.

    - `wallet_options.link.display` (enum, nullable)
      Describes whether Checkout should display Link. Defaults to `auto`.
Possible enum values:
      - `auto`
        The Checkout Session will automatically determine if Link is a supported payment option and display accordingly.

      - `never`
        The Checkout Session will not display Link as a payment option.

### The Checkout Session object

```json
{
  "id": "cs_test_a11YYufWQzNY63zpQ6QSNRQhkUpVph4WRmzW0zWJO2znZKdVujZ0N0S22u",
  "object": "checkout.session",
  "after_expiration": null,
  "allow_promotion_codes": null,
  "amount_subtotal": 2198,
  "amount_total": 2198,
  "automatic_tax": {
    "enabled": false,
    "liability": null,
    "status": null
  },
  "billing_address_collection": null,
  "cancel_url": null,
  "client_reference_id": null,
  "consent": null,
  "consent_collection": null,
  "created": 1679600215,
  "currency": "usd",
  "custom_fields": [],
  "custom_text": {
    "shipping_address": null,
    "submit": null
  },
  "customer": null,
  "customer_creation": "if_required",
  "customer_details": null,
  "customer_email": null,
  "expires_at": 1679686615,
  "invoice": null,
  "invoice_creation": {
    "enabled": false,
    "invoice_data": {
      "account_tax_ids": null,
      "custom_fields": null,
      "description": null,
      "footer": null,
      "issuer": null,
      "metadata": {},
      "rendering_options": null
    }
  },
  "livemode": false,
  "locale": null,
  "metadata": {},
  "mode": "payment",
  "payment_intent": null,
  "payment_link": null,
  "payment_method_collection": "always",
  "payment_method_options": {},
  "payment_method_types": [
    "card"
  ],
  "payment_status": "unpaid",
  "phone_number_collection": {
    "enabled": false
  },
  "recovered_from": null,
  "setup_intent": null,
  "shipping_address_collection": null,
  "shipping_cost": null,
  "shipping_details": null,
  "shipping_options": [],
  "status": "open",
  "submit_type": null,
  "subscription": null,
  "success_url": "https://example.com/success",
  "total_details": {
    "amount_discount": 0,
    "amount_shipping": 0,
    "amount_tax": 0
  },
  "url": "https://checkout.stripe.com/c/pay/cs_test_a11YYufWQzNY63zpQ6QSNRQhkUpVph4WRmzW0zWJO2znZKdVujZ0N0S22u#fidkdWxOYHwnPyd1blpxYHZxWjA0SDdPUW5JbmFMck1wMmx9N2BLZjFEfGRUNWhqTmJ%2FM2F8bUA2SDRySkFdUV81T1BSV0YxcWJcTUJcYW5rSzN3dzBLPUE0TzRKTTxzNFBjPWZEX1NKSkxpNTVjRjN8VHE0YicpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl"
}
```

# The Invoice object

## Attributes

- `id` (string)
  Unique identifier for the object. For preview invoices created using the [create preview](https://stripe.com/docs/api/invoices/create_preview) endpoint, this id will be prefixed with `upcoming_in`.

- `object` (string)
  String representing the object’s type. Objects of the same type share the same value.

- `account_country` (string, nullable)
  The country of the business associated with this invoice, most often the business creating the invoice.

- `account_name` (string, nullable)
  The public name of the business associated with this invoice, most often the business creating the invoice.

- `account_tax_ids` (array of strings, nullable)
  The account tax IDs associated with the invoice. Only editable when the invoice is a draft.

- `amount_due` (integer)
  Final amount due at this time for this invoice. If the invoice’s total is smaller than the minimum charge amount, for example, or if there is account credit that can be applied to the invoice, the `amount_due` may be 0. If there is a positive `starting_balance` for the invoice (the customer owes money), the `amount_due` will also take that into account. The charge that gets generated for the invoice will be for the amount specified in `amount_due`.

- `amount_overpaid` (integer)
  Amount that was overpaid on the invoice. The amount overpaid is credited to the customer’s credit balance.

- `amount_paid` (integer)
  The amount, in cents, that was paid.

- `amount_remaining` (integer)
  The difference between amount_due and amount_paid, in cents.

- `amount_shipping` (integer)
  This is the sum of all the shipping amounts.

- `application` (string, nullable)
  ID of the Connect Application that created the invoice.

- `attempt_count` (integer)
  Number of payment attempts made for this invoice, from the perspective of the payment retry schedule. Any payment attempt counts as the first attempt, and subsequently only automatic retries increment the attempt count. In other words, manual payment attempts after the first attempt do not affect the retry schedule. If a failure is returned with a non-retryable return code, the invoice can no longer be retried unless a new payment method is obtained. Retries will continue to be scheduled, and attempt_count will continue to increment, but retries will only be executed if a new payment method is obtained.

- `attempted` (boolean)
  Whether an attempt has been made to pay the invoice. An invoice is not attempted until 1 hour after the `invoice.created` webhook, for example, so you might not want to display that invoice as unpaid to your users.

- `auto_advance` (boolean)
  Controls whether Stripe performs [automatic collection](https://docs.stripe.com/docs/invoicing/integration/automatic-advancement-collection.md) of the invoice. If `false`, the invoice’s state doesn’t automatically advance without an explicit action.

- `automatic_tax` (object)
  Settings and latest results for automatic tax lookup for this invoice.

  - `automatic_tax.disabled_reason` (enum, nullable)
    If Stripe disabled automatic tax, this enum describes why.
Possible enum values:
    - `finalization_requires_location_inputs`
      Stripe’s systems automatically turned off Tax for this invoice when finalizing it with a missing or incomplete location for your customer.

    - `finalization_system_error`
      Stripe’s systems automatically turned off Tax for this invoice due to an internal outage during tax calculation. We expect this to be very rare. Contact support for additional assistance.

  - `automatic_tax.enabled` (boolean)
    Whether Stripe automatically computes tax on this invoice. Note that incompatible invoice items (invoice items with manually specified [tax rates](https://docs.stripe.com/docs/api/tax_rates.md), negative amounts, or `tax_behavior=unspecified`) cannot be added to automatic tax invoices.

  - `automatic_tax.liability` (object, nullable)
    The account that’s liable for tax. If set, the business address and tax registrations required to perform the tax calculation are loaded from this account. The tax transaction is returned in the report of the connected account.

    - `automatic_tax.liability.account` (string, nullable)
      The connected account being referenced when `type` is `account`.

    - `automatic_tax.liability.type` (enum)
      Type of the account referenced.
Possible enum values:
      - `account`
        Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

      - `self`
        Indicates that the account being referenced is the account making the API request.

  - `automatic_tax.provider` (string, nullable)
    The tax provider powering automatic tax.

  - `automatic_tax.status` (enum, nullable)
    The status of the most recent automated tax calculation for this invoice.
Possible enum values:
    - `complete`
      The automatic tax calculation was successful.

    - `failed`
      The tax calculation failed, please try again later.

    - `requires_location_inputs`
      The location details supplied on the customer aren’t valid or don’t provide enough location information to accurately determine tax rates for the customer.

- `automatically_finalizes_at` (timestamp, nullable)
  The time when this invoice is currently scheduled to be automatically finalized. The field will be `null` if the invoice is not scheduled to finalize in the future. If the invoice is not in the draft state, this field will always be `null` - see `finalized_at` for the time when an already-finalized invoice was finalized.

- `billing_reason` (enum, nullable)
  Indicates the reason why the invoice was created.

  - `manual`: Unrelated to a subscription, for example, created via the invoice editor.
  - `subscription`: No longer in use. Applies to subscriptions from before May 2018 where no distinction was made between updates, cycles, and thresholds.
  - `subscription_create`: A new subscription was created.
  - `subscription_cycle`: A subscription advanced into a new period.
  - `subscription_threshold`: A subscription reached a billing threshold.
  - `subscription_update`: A subscription was updated.
  - `upcoming`: Reserved for upcoming invoices created through the Create Preview Invoice API or when an `invoice.upcoming` event is generated for an upcoming invoice on a subscription.
Possible enum values:
  - `automatic_pending_invoice_item_invoice`
  - `manual`
  - `quote_accept`
  - `subscription`
  - `subscription_create`
  - `subscription_cycle`
  - `subscription_threshold`
  - `subscription_update`
  - `upcoming`

- `collection_method` (enum)
  Either `charge_automatically`, or `send_invoice`. When charging automatically, Stripe will attempt to pay this invoice using the default source attached to the customer. When sending an invoice, Stripe will email this invoice to the customer with payment instructions.
Possible enum values:
  - `charge_automatically`
    Attempt payment using the default source attached to the customer.

  - `send_invoice`
    Email payment instructions to the customer.

- `confirmation_secret` (object, nullable)
  The confirmation secret associated with this invoice. Currently, this contains the client_secret of the PaymentIntent that Stripe creates during invoice finalization.

  - `confirmation_secret.client_secret` (string)
    The client_secret of the payment that Stripe creates for the invoice after finalization.

  - `confirmation_secret.type` (string)
    The type of client_secret. Currently this is always payment_intent, referencing the default payment_intent that Stripe creates during invoice finalization

- `created` (timestamp)
  Time at which the object was created. Measured in seconds since the Unix epoch.

- `currency` (enum)
  Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

- `custom_fields` (array of objects, nullable)
  Custom fields displayed on the invoice.

  - `custom_fields.name` (string)
    The name of the custom field.

  - `custom_fields.value` (string)
    The value of the custom field.

- `customer` (string)
  The ID of the customer who will be billed.

- `customer_address` (object, nullable)
  The customer’s address. Until the invoice is finalized, this field will equal `customer.address`. Once the invoice is finalized, this field will no longer be updated.

  - `customer_address.city` (string, nullable)
    City, district, suburb, town, or village.

  - `customer_address.country` (string, nullable)
    Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

  - `customer_address.line1` (string, nullable)
    Address line 1, such as the street, PO Box, or company name.

  - `customer_address.line2` (string, nullable)
    Address line 2, such as the apartment, suite, unit, or building.

  - `customer_address.postal_code` (string, nullable)
    ZIP or postal code.

  - `customer_address.state` (string, nullable)
    State, county, province, or region.

- `customer_email` (string, nullable)
  The customer’s email. Until the invoice is finalized, this field will equal `customer.email`. Once the invoice is finalized, this field will no longer be updated.

- `customer_name` (string, nullable)
  The customer’s name. Until the invoice is finalized, this field will equal `customer.name`. Once the invoice is finalized, this field will no longer be updated.

- `customer_phone` (string, nullable)
  The customer’s phone number. Until the invoice is finalized, this field will equal `customer.phone`. Once the invoice is finalized, this field will no longer be updated.

- `customer_shipping` (object, nullable)
  The customer’s shipping information. Until the invoice is finalized, this field will equal `customer.shipping`. Once the invoice is finalized, this field will no longer be updated.

  - `customer_shipping.address` (object)
    Customer shipping address.

    - `customer_shipping.address.city` (string, nullable)
      City, district, suburb, town, or village.

    - `customer_shipping.address.country` (string, nullable)
      Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

    - `customer_shipping.address.line1` (string, nullable)
      Address line 1, such as the street, PO Box, or company name.

    - `customer_shipping.address.line2` (string, nullable)
      Address line 2, such as the apartment, suite, unit, or building.

    - `customer_shipping.address.postal_code` (string, nullable)
      ZIP or postal code.

    - `customer_shipping.address.state` (string, nullable)
      State, county, province, or region.

  - `customer_shipping.name` (string)
    Customer name.

  - `customer_shipping.phone` (string, nullable)
    Customer phone (including extension).

- `customer_tax_exempt` (enum, nullable)
  The customer’s tax exempt status. Until the invoice is finalized, this field will equal `customer.tax_exempt`. Once the invoice is finalized, this field will no longer be updated.
Possible enum values:
  - `exempt`
  - `none`
  - `reverse`

- `customer_tax_ids` (array of objects, nullable)
  The customer’s tax IDs. Until the invoice is finalized, this field will contain the same tax IDs as `customer.tax_ids`. Once the invoice is finalized, this field will no longer be updated.

  - `customer_tax_ids.type` (enum)
    The type of the tax ID, one of `ad_nrt`, `ar_cuit`, `eu_vat`, `bo_tin`, `br_cnpj`, `br_cpf`, `cn_tin`, `co_nit`, `cr_tin`, `do_rcn`, `ec_ruc`, `eu_oss_vat`, `hr_oib`, `pe_ruc`, `ro_tin`, `rs_pib`, `sv_nit`, `uy_ruc`, `ve_rif`, `vn_tin`, `gb_vat`, `nz_gst`, `au_abn`, `au_arn`, `in_gst`, `no_vat`, `no_voec`, `za_vat`, `ch_vat`, `mx_rfc`, `sg_uen`, `ru_inn`, `ru_kpp`, `ca_bn`, `hk_br`, `es_cif`, `tw_vat`, `th_vat`, `jp_cn`, `jp_rn`, `jp_trn`, `li_uid`, `li_vat`, `my_itn`, `us_ein`, `kr_brn`, `ca_qst`, `ca_gst_hst`, `ca_pst_bc`, `ca_pst_mb`, `ca_pst_sk`, `my_sst`, `sg_gst`, `ae_trn`, `cl_tin`, `sa_vat`, `id_npwp`, `my_frp`, `il_vat`, `ge_vat`, `ua_vat`, `is_vat`, `bg_uic`, `hu_tin`, `si_tin`, `ke_pin`, `tr_tin`, `eg_tin`, `ph_tin`, `al_tin`, `bh_vat`, `kz_bin`, `ng_tin`, `om_vat`, `de_stn`, `ch_uid`, `tz_vat`, `uz_vat`, `uz_tin`, `md_vat`, `ma_vat`, `by_tin`, `ao_tin`, `bs_tin`, `bb_tin`, `cd_nif`, `mr_nif`, `me_pib`, `zw_tin`, `ba_tin`, `gn_nif`, `mk_vat`, `sr_fin`, `sn_ninea`, `am_tin`, `np_pan`, `tj_tin`, `ug_tin`, `zm_tin`, `kh_tin`, `aw_tin`, `az_tin`, `bd_bin`, `bj_ifu`, `et_tin`, `kg_tin`, `la_tin`, `cm_niu`, `cv_nif`, `bf_ifu`, or `unknown`
Possible enum values:
    - `ad_nrt`
    - `ae_trn`
    - `al_tin`
    - `am_tin`
    - `ao_tin`
    - `ar_cuit`
    - `au_abn`
    - `au_arn`
    - `aw_tin`
    - `az_tin`
    - `ba_tin`
    - `bb_tin`
    - `bd_bin`
    - `bf_ifu`
    - `bg_uic`
    - `bh_vat`
    - `bj_ifu`
    - `bo_tin`
    - `br_cnpj`
    - `br_cpf`
    - `bs_tin`
    - `by_tin`
    - `ca_bn`
    - `ca_gst_hst`
    - `ca_pst_bc`
    - `ca_pst_mb`
    - `ca_pst_sk`
    - `ca_qst`
    - `cd_nif`
    - `ch_uid`
    - `ch_vat`
    - `cl_tin`
    - `cm_niu`
    - `cn_tin`
    - `co_nit`
    - `cr_tin`
    - `cv_nif`
    - `de_stn`
    - `do_rcn`
    - `ec_ruc`
    - `eg_tin`
    - `es_cif`
    - `et_tin`
    - `eu_oss_vat`
    - `eu_vat`
    - `gb_vat`
    - `ge_vat`
    - `gn_nif`
    - `hk_br`
    - `hr_oib`
    - `hu_tin`
    - `id_npwp`
    - `il_vat`
    - `in_gst`
    - `is_vat`
    - `jp_cn`
    - `jp_rn`
    - `jp_trn`
    - `ke_pin`
    - `kg_tin`
    - `kh_tin`
    - `kr_brn`
    - `kz_bin`
    - `la_tin`
    - `li_uid`
    - `li_vat`
    - `ma_vat`
    - `md_vat`
    - `me_pib`
    - `mk_vat`
    - `mr_nif`
    - `mx_rfc`
    - `my_frp`
    - `my_itn`
    - `my_sst`
    - `ng_tin`
    - `no_vat`
    - `no_voec`
    - `np_pan`
    - `nz_gst`
    - `om_vat`
    - `pe_ruc`
    - `ph_tin`
    - `ro_tin`
    - `rs_pib`
    - `ru_inn`
    - `ru_kpp`
    - `sa_vat`
    - `sg_gst`
    - `sg_uen`
    - `si_tin`
    - `sn_ninea`
    - `sr_fin`
    - `sv_nit`
    - `th_vat`
    - `tj_tin`
    - `tr_tin`
    - `tw_vat`
    - `tz_vat`
    - `ua_vat`
    - `ug_tin`
    - `unknown`
    - `us_ein`
    - `uy_ruc`
    - `uz_tin`
    - `uz_vat`
    - `ve_rif`
    - `vn_tin`
    - `za_vat`
    - `zm_tin`
    - `zw_tin`

  - `customer_tax_ids.value` (string, nullable)
    The value of the tax ID.

- `default_payment_method` (string, nullable)
  ID of the default payment method for the invoice. It must belong to the customer associated with the invoice. If not set, defaults to the subscription’s default payment method, if any, or to the default payment method in the customer’s invoice settings.

- `default_source` (string, nullable)
  ID of the default payment source for the invoice. It must belong to the customer associated with the invoice and be in a chargeable state. If not set, defaults to the subscription’s default source, if any, or to the customer’s default source.

- `default_tax_rates` (array of objects)
  The tax rates applied to this invoice, if any.

  - `default_tax_rates.id` (string)
    Unique identifier for the object.

  - `default_tax_rates.object` (string)
    String representing the object’s type. Objects of the same type share the same value.

  - `default_tax_rates.active` (boolean)
    Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

  - `default_tax_rates.country` (string, nullable)
    Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

  - `default_tax_rates.created` (timestamp)
    Time at which the object was created. Measured in seconds since the Unix epoch.

  - `default_tax_rates.description` (string, nullable)
    An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

  - `default_tax_rates.display_name` (string)
    The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

  - `default_tax_rates.effective_percentage` (float, nullable)
    Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

  - `default_tax_rates.flat_amount` (object, nullable)
    The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

    - `default_tax_rates.flat_amount.amount` (integer)
      Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

    - `default_tax_rates.flat_amount.currency` (string)
      Three-letter ISO currency code, in lowercase.

  - `default_tax_rates.inclusive` (boolean)
    This specifies if the tax rate is inclusive or exclusive.

  - `default_tax_rates.jurisdiction` (string, nullable)
    The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

  - `default_tax_rates.jurisdiction_level` (enum, nullable)
    The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
    - `city`
    - `country`
    - `county`
    - `district`
    - `multiple`
    - `state`

  - `default_tax_rates.livemode` (boolean)
    Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

  - `default_tax_rates.metadata` (object, nullable)
    Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

  - `default_tax_rates.percentage` (float)
    Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

  - `default_tax_rates.rate_type` (enum, nullable)
    Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
    - `flat_amount`
      A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

    - `percentage`
      A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

  - `default_tax_rates.state` (string, nullable)
    [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

  - `default_tax_rates.tax_type` (enum, nullable)
    The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
    - `amusement_tax`
      Amusement Tax

    - `communications_tax`
      Communications Tax

    - `gst`
      Goods and Services Tax

    - `hst`
      Harmonized Sales Tax

    - `igst`
      Integrated Goods and Services Tax

    - `jct`
      Japanese Consumption Tax

    - `lease_tax`
      Chicago Lease Tax

    - `pst`
      Provincial Sales Tax

    - `qst`
      Quebec Sales Tax

    - `retail_delivery_fee`
      Retail Delivery Fee

    - `rst`
      Retail Sales Tax

    - `sales_tax`
      Sales Tax

    - `service_tax`
      Service Tax

    - `vat`
      Value-Added Tax

- `description` (string, nullable)
  An arbitrary string attached to the object. Often useful for displaying to users. Referenced as ‘memo’ in the Dashboard.

- `discounts` (array of strings)
  The discounts applied to the invoice. Line item discounts are applied before invoice discounts. Use `expand[]=discounts` to expand each discount.

- `due_date` (timestamp, nullable)
  The date on which payment for this invoice is due. This value will be `null` for invoices where `collection_method=charge_automatically`.

- `effective_at` (timestamp, nullable)
  The date when this invoice is in effect. Same as `finalized_at` unless overwritten. When defined, this value replaces the system-generated ‘Date of issue’ printed on the invoice PDF and receipt.

- `ending_balance` (integer, nullable)
  Ending customer balance after the invoice is finalized. Invoices are finalized approximately an hour after successful webhook delivery or when payment collection is attempted for the invoice. If the invoice has not been finalized yet, this will be null.

- `footer` (string, nullable)
  Footer displayed on the invoice.

- `from_invoice` (object, nullable)
  Details of the invoice that was cloned. See the [revision documentation](https://docs.stripe.com/docs/invoicing/invoice-revisions.md) for more details.

  - `from_invoice.action` (string)
    The relation between this invoice and the cloned invoice

  - `from_invoice.invoice` (string)
    The invoice that was cloned.

- `hosted_invoice_url` (string, nullable)
  The URL for the hosted invoice page, which allows customers to view and pay an invoice. If the invoice has not been finalized yet, this will be null.

- `invoice_pdf` (string, nullable)
  The link to download the PDF for the invoice. If the invoice has not been finalized yet, this will be null.

- `issuer` (object)
  The connected account that issues the invoice. The invoice is presented with the branding and support information of the specified account.

  - `issuer.account` (string, nullable)
    The connected account being referenced when `type` is `account`.

  - `issuer.type` (enum)
    Type of the account referenced.
Possible enum values:
    - `account`
      Indicates that the account being referenced is a connected account which is different from the account making the API request but related to it.

    - `self`
      Indicates that the account being referenced is the account making the API request.

- `last_finalization_error` (object, nullable)
  The error encountered during the previous attempt to finalize the invoice. This field is cleared when the invoice is successfully finalized.

  - `last_finalization_error.advice_code` (string, nullable)
    For card errors resulting from a card issuer decline, a short string indicating [how to proceed with an error](https://docs.stripe.com/docs/declines.md#retrying-issuer-declines) if they provide one.

  - `last_finalization_error.code` (string, nullable)
    For some errors that could be handled programmatically, a short string indicating the [error code](https://docs.stripe.com/docs/error-codes.md) reported.

  - `last_finalization_error.doc_url` (string, nullable)
    A URL to more information about the [error code](https://docs.stripe.com/docs/error-codes.md) reported.

  - `last_finalization_error.message` (string, nullable)
    A human-readable message providing more details about the error. For card errors, these messages can be shown to your users.

  - `last_finalization_error.network_advice_code` (string, nullable)
    For card errors resulting from a card issuer decline, a 2 digit code which indicates the advice given to merchant by the card network on how to proceed with an error.

  - `last_finalization_error.network_decline_code` (string, nullable)
    For payments declined by the network, an alphanumeric code which indicates the reason the payment failed.

  - `last_finalization_error.param` (string, nullable)
    If the error is parameter-specific, the parameter related to the error. For example, you can use this to display a message near the correct form field.

  - `last_finalization_error.payment_method_type` (string, nullable)
    If the error is specific to the type of payment method, the payment method type that had a problem. This field is only populated for invoice-related errors.

  - `last_finalization_error.type` (enum)
    The type of error returned. One of `api_error`, `card_error`, `idempotency_error`, or `invalid_request_error`
Possible enum values:
    - `api_error`
    - `card_error`
    - `idempotency_error`
    - `invalid_request_error`

- `latest_revision` (string, nullable)
  The ID of the most recent non-draft revision of this invoice

- `lines` (object)
  The individual line items that make up the invoice. `lines` is sorted as follows: (1) pending invoice items (including prorations) in reverse chronological order, (2) subscription items in reverse chronological order, and (3) invoice items added after invoice creation in chronological order.

  - `lines.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `lines.data` (array of objects)
    Details about each object.

    - `lines.data.id` (string)
      Unique identifier for the object.

    - `lines.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `lines.data.amount` (integer)
      The amount, in cents.

    - `lines.data.currency` (enum)
      Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

    - `lines.data.description` (string, nullable)
      An arbitrary string attached to the object. Often useful for displaying to users.

    - `lines.data.discount_amounts` (array of objects, nullable)
      The amount of discount calculated per discount for this line item.

      - `lines.data.discount_amounts.amount` (integer)
        The amount, in cents, of the discount.

      - `lines.data.discount_amounts.discount` (string)
        The discount that was applied to get this discount amount.

    - `lines.data.discountable` (boolean)
      If true, discounts will apply to this line item. Always false for prorations.

    - `lines.data.discounts` (array of strings)
      The discounts applied to the invoice line item. Line item discounts are applied before invoice discounts. Use `expand[]=discounts` to expand each discount.

    - `lines.data.invoice` (string, nullable)
      The ID of the invoice that contains this line item.

    - `lines.data.livemode` (boolean)
      Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

    - `lines.data.metadata` (object)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format. Note that for line items with `type=subscription`, `metadata` reflects the current metadata from the subscription associated with the line item, unless the invoice line was directly updated with different metadata after creation.

    - `lines.data.parent` (object, nullable)
      The parent that generated this line item.

      - `lines.data.parent.invoice_item_details` (object, nullable)
        Details about the invoice item that generated this line item

        - `lines.data.parent.invoice_item_details.invoice_item` (string)
          The invoice item that generated this line item

        - `lines.data.parent.invoice_item_details.proration` (boolean)
          Whether this is a proration

        - `lines.data.parent.invoice_item_details.proration_details` (object, nullable)
          Additional details for proration line items

          - `lines.data.parent.invoice_item_details.proration_details.credited_items` (object, nullable)
            For a credit proration `line_item`, the original debit line_items to which the credit proration applies.

            - `lines.data.parent.invoice_item_details.proration_details.credited_items.invoice` (string)
              Invoice containing the credited invoice line items

            - `lines.data.parent.invoice_item_details.proration_details.credited_items.invoice_line_items` (array of strings)
              Credited invoice line items

        - `lines.data.parent.invoice_item_details.subscription` (string, nullable)
          The subscription that the invoice item belongs to

      - `lines.data.parent.subscription_item_details` (object, nullable)
        Details about the subscription item that generated this line item

        - `lines.data.parent.subscription_item_details.invoice_item` (string, nullable)
          The invoice item that generated this line item

        - `lines.data.parent.subscription_item_details.proration` (boolean)
          Whether this is a proration

        - `lines.data.parent.subscription_item_details.proration_details` (object, nullable)
          Additional details for proration line items

          - `lines.data.parent.subscription_item_details.proration_details.credited_items` (object, nullable)
            For a credit proration `line_item`, the original debit line_items to which the credit proration applies.

            - `lines.data.parent.subscription_item_details.proration_details.credited_items.invoice` (string)
              Invoice containing the credited invoice line items

            - `lines.data.parent.subscription_item_details.proration_details.credited_items.invoice_line_items` (array of strings)
              Credited invoice line items

        - `lines.data.parent.subscription_item_details.subscription` (string, nullable)
          The subscription that the subscription item belongs to

        - `lines.data.parent.subscription_item_details.subscription_item` (string)
          The subscription item that generated this line item

      - `lines.data.parent.type` (enum)
        The type of parent that generated this line item
Possible enum values:
        - `invoice_item_details`
          Details of the parent can be found in the `invoice_item_details` hash.

        - `subscription_item_details`
          Details of the parent can be found in the `subscription_item_details` hash.

    - `lines.data.period` (object)
      The period this `line_item` covers. For subscription line items, this is the subscription period. For prorations, this starts when the proration was calculated, and ends at the period end of the subscription. For invoice items, this is the time at which the invoice item was created or the period of the item. If you have [Stripe Revenue Recognition](https://docs.stripe.com/docs/revenue-recognition.md) enabled, the period will be used to recognize and defer revenue. See the [Revenue Recognition documentation](https://docs.stripe.com/docs/revenue-recognition/methodology/subscriptions-and-invoicing.md) for details.

      - `lines.data.period.end` (timestamp)
        The end of the period, which must be greater than or equal to the start. This value is inclusive.

      - `lines.data.period.start` (timestamp)
        The start of the period. This value is inclusive.

    - `lines.data.pretax_credit_amounts` (array of objects, nullable)
      Contains pretax credit amounts (ex: discount, credit grants, etc) that apply to this line item.

      - `lines.data.pretax_credit_amounts.amount` (integer)
        The amount, in cents, of the pretax credit amount.

      - `lines.data.pretax_credit_amounts.credit_balance_transaction` (string, nullable)
        The credit balance transaction that was applied to get this pretax credit amount.

      - `lines.data.pretax_credit_amounts.discount` (string, nullable)
        The discount that was applied to get this pretax credit amount.

      - `lines.data.pretax_credit_amounts.type` (enum)
        Type of the pretax credit amount referenced.
Possible enum values:
        - `credit_balance_transaction`
          The pretax credit amount is from a credit balance transaction.

        - `discount`
          The pretax credit amount is from a discount.

    - `lines.data.pricing` (object, nullable)
      The pricing information of the line item.

      - `lines.data.pricing.price_details` (object, nullable)
        Additional details about the price this item is associated with. This is present only when the `type` is `price_details`

        - `lines.data.pricing.price_details.price` (string)
          The ID of the price this item is associated with.

        - `lines.data.pricing.price_details.product` (string)
          The ID of the product this item is associated with.

      - `lines.data.pricing.type` (enum)
        The type of the pricing details.

      - `lines.data.pricing.unit_amount_decimal` (decimal string, nullable)
        The unit amount (in the `currency` specified) of the item which contains a decimal value with at most 12 decimal places.

    - `lines.data.quantity` (integer, nullable)
      The quantity of the subscription, if the line item is a subscription or a proration.

    - `lines.data.taxes` (array of objects, nullable)
      The tax information of the line item.

      - `lines.data.taxes.amount` (integer)
        The amount of the tax, in cents.

      - `lines.data.taxes.tax_behavior` (enum)
        Whether this tax is inclusive or exclusive.
Possible enum values:
        - `exclusive`
        - `inclusive`

      - `lines.data.taxes.tax_rate_details` (object, nullable)
        Additional details about the tax rate. Only present when `type` is `tax_rate_details`.

      - `lines.data.taxes.taxability_reason` (enum)
        The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
Possible enum values:
        - `customer_exempt`
          No tax is applied as the customer is exempt from tax.

        - `not_available`
          The reasoning behind this tax is not available.

        - `not_collecting`
          No tax is collected either because you are not registered to collect tax in this jurisdiction, or because the non-taxable product tax code (`txcd_00000000`) was used.

        - `not_subject_to_tax`
          No tax is imposed on this transaction.

        - `not_supported`
          No tax applied. Stripe doesn’t support this jurisdiction, territory, or product.

        - `portion_product_exempt`
          A portion of the price is exempt from tax.

        - `portion_reduced_rated`
          A portion of the price is taxed at a reduced rate.

        - `portion_standard_rated`
          A portion of the price is taxed at the standard rate.

        - `product_exempt`
          The product or service is nontaxable or exempt from tax.

        - `product_exempt_holiday`
          The product or service is not taxed due to a sales tax holiday.

        - `proportionally_rated`
          The shipping cost tax rate is calculated as a weighted average of the other line items’ rates, weighted by their amounts.

        - `reduced_rated`
          Taxed at a reduced rate.

        - `reverse_charge`
          No tax is applied as it is the responsibility of the buyer to account for tax in this case.

        - `standard_rated`
          Taxed at the standard rate.

        - `taxable_basis_reduced`
          A reduced amount of the price is subject to tax.

        - `zero_rated`
          The transaction is taxed at a special rate of 0% or the transaction is exempt (but these exempt transactions still let you deduct the “input VAT” paid on your business purchases).

      - `lines.data.taxes.taxable_amount` (integer, nullable)
        The amount on which tax is calculated, in cents.

      - `lines.data.taxes.type` (enum)
        The type of tax information.

  - `lines.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `lines.url` (string)
    The URL where this list can be accessed.

- `livemode` (boolean)
  Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

- `metadata` (object, nullable)
  Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

- `next_payment_attempt` (timestamp, nullable)
  The time at which payment will next be attempted. This value will be `null` for invoices where `collection_method=send_invoice`.

- `number` (string, nullable)
  A unique, identifying string that appears on emails sent to the customer for this invoice. This starts with the customer’s unique invoice_prefix if it is specified.

- `on_behalf_of` (string, nullable)
  The account (if any) for which the funds of the invoice payment are intended. If set, the invoice will be presented with the branding and support information of the specified account. See the [Invoices with Connect](https://docs.stripe.com/docs/billing/invoices/connect.md) documentation for details.

- `parent` (object, nullable)
  The parent that generated this invoice

  - `parent.billing_cadence_details` (object, nullable)
    Details about the billing cadence that generated this invoice

    - `parent.billing_cadence_details.billing_cadence` (string)
      The billing cadence that generated this invoice

  - `parent.quote_details` (object, nullable)
    Details about the quote that generated this invoice

    - `parent.quote_details.quote` (string)
      The quote that generated this invoice

  - `parent.subscription_details` (object, nullable)
    Details about the subscription that generated this invoice

    - `parent.subscription_details.metadata` (object, nullable)
      Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) defined as subscription metadata when an invoice is created. Becomes an immutable snapshot of the subscription metadata at the time of invoice finalization. *Note: This attribute is populated only for invoices created on or after June 29, 2023.*

    - `parent.subscription_details.subscription` (string)
      The subscription that generated this invoice

    - `parent.subscription_details.subscription_proration_date` (timestamp, nullable)
      Only set for upcoming invoices that preview prorations. The time used to calculate prorations.

  - `parent.type` (enum)
    The type of parent that generated this invoice
Possible enum values:
    - `quote_details`
      Details of the parent can be found in the `quote_details` hash.

    - `subscription_details`
      Details of the parent can be found in the `subscription_details` hash.

- `payment_settings` (object)
  Configuration settings for the PaymentIntent that is generated when the invoice is finalized.

  - `payment_settings.default_mandate` (string, nullable)
    ID of the mandate to be used for this invoice. It must correspond to the payment method used to pay the invoice, including the invoice’s default_payment_method or default_source, if set.

  - `payment_settings.payment_method_options` (object, nullable)
    Payment-method-specific configuration to provide to the invoice’s PaymentIntent.

    - `payment_settings.payment_method_options.acss_debit` (object, nullable)
      If paying by `acss_debit`, this sub-hash contains details about the Canadian pre-authorized debit payment method options to pass to the invoice’s PaymentIntent.

      - `payment_settings.payment_method_options.acss_debit.mandate_options` (object, nullable)
        Additional fields for Mandate creation

        - `payment_settings.payment_method_options.acss_debit.mandate_options.transaction_type` (enum, nullable)
          Transaction type of the mandate.
Possible enum values:
          - `business`
            Transactions are made for business reasons

          - `personal`
            Transactions are made for personal reasons

      - `payment_settings.payment_method_options.acss_debit.verification_method` (enum, nullable)
        Bank account verification method.
Possible enum values:
        - `automatic`
          Instant verification with fallback to microdeposits.

        - `instant`
          Instant verification.

        - `microdeposits`
          Verification using microdeposits.

    - `payment_settings.payment_method_options.bancontact` (object, nullable)
      If paying by `bancontact`, this sub-hash contains details about the Bancontact payment method options to pass to the invoice’s PaymentIntent.

      - `payment_settings.payment_method_options.bancontact.preferred_language` (enum)
        Preferred language of the Bancontact authorization page that the customer is redirected to.
Possible enum values:
        - `de`
          German

        - `en`
          English

        - `fr`
          French

        - `nl`
          Dutch

    - `payment_settings.payment_method_options.card` (object, nullable)
      If paying by `card`, this sub-hash contains details about the Card payment method options to pass to the invoice’s PaymentIntent.

      - `payment_settings.payment_method_options.card.installments` (object, nullable)
        Installment details for this Invoice.

        For more information, see the [installments integration guide](https://docs.stripe.com/docs/payments/installments.md).

        - `payment_settings.payment_method_options.card.installments.enabled` (boolean, nullable)
          Whether Installments are enabled for this Invoice.

      - `payment_settings.payment_method_options.card.request_three_d_secure` (enum, nullable)
        We strongly recommend that you rely on our SCA Engine to automatically prompt your customers for authentication based on risk level and [other requirements](https://docs.stripe.com/docs/strong-customer-authentication.md). However, if you wish to request 3D Secure based on logic from your own fraud engine, provide this option. Read our guide on [manually requesting 3D Secure](https://docs.stripe.com/docs/payments/3d-secure/authentication-flow.md#manual-three-ds) for more information on how this configuration interacts with Radar and our SCA Engine.
Possible enum values:
        - `any`
          Use `any` to manually request 3DS with a preference for a `frictionless` flow, increasing the likelihood of the authentication being completed without any additional input from the customer. 3DS will always be attempted if it is supported for the card, but Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

        - `automatic`
          (Default) Our SCA Engine automatically prompts your customers for authentication based on risk level and other requirements.

        - `challenge`
          Use `challenge` to request 3DS with a preference for a `challenge` flow, where the customer must respond to a prompt for active authentication. Stripe can’t guarantee your preference because the issuer determines the ultimate authentication flow. To learn more about 3DS flows, read our [guide](https://stripe.com/guides/3d-secure-2#frictionless-authentication).

    - `payment_settings.payment_method_options.customer_balance` (object, nullable)
      If paying by `customer_balance`, this sub-hash contains details about the Bank transfer payment method options to pass to the invoice’s PaymentIntent.

      - `payment_settings.payment_method_options.customer_balance.bank_transfer` (object, nullable)
        Configuration for the bank transfer funding type, if the `funding_type` is set to `bank_transfer`.

        - `payment_settings.payment_method_options.customer_balance.bank_transfer.eu_bank_transfer` (object, nullable)
          Configuration for eu_bank_transfer funding type.

          - `payment_settings.payment_method_options.customer_balance.bank_transfer.eu_bank_transfer.country` (enum)
            The desired country code of the bank account information. Permitted values include: `BE`, `DE`, `ES`, `FR`, `IE`, or `NL`.
Possible enum values:
            - `BE`
            - `DE`
            - `ES`
            - `FR`
            - `IE`
            - `NL`

        - `payment_settings.payment_method_options.customer_balance.bank_transfer.type` (enum, nullable)
          The bank transfer type that can be used for funding. Permitted values include: `eu_bank_transfer`, `gb_bank_transfer`, `jp_bank_transfer`, `mx_bank_transfer`, or `us_bank_transfer`.

      - `payment_settings.payment_method_options.customer_balance.funding_type` (enum, nullable)
        The funding method type to be used when there are not enough funds in the customer balance. Permitted values include: `bank_transfer`.
Possible enum values:
        - `bank_transfer`

    - `payment_settings.payment_method_options.konbini` (object, nullable)
      If paying by `konbini`, this sub-hash contains details about the Konbini payment method options to pass to the invoice’s PaymentIntent.

    - `payment_settings.payment_method_options.sepa_debit` (object, nullable)
      If paying by `sepa_debit`, this sub-hash contains details about the SEPA Direct Debit payment method options to pass to the invoice’s PaymentIntent.

    - `payment_settings.payment_method_options.us_bank_account` (object, nullable)
      If paying by `us_bank_account`, this sub-hash contains details about the ACH direct debit payment method options to pass to the invoice’s PaymentIntent.

      - `payment_settings.payment_method_options.us_bank_account.financial_connections` (object, nullable)
        Additional fields for Financial Connections Session creation

        - `payment_settings.payment_method_options.us_bank_account.financial_connections.filters` (object, nullable)
          Filter the list of accounts that are allowed to be linked.

          - `payment_settings.payment_method_options.us_bank_account.financial_connections.filters.account_subcategories` (array of enums, nullable)
            The account subcategories to use to filter for possible accounts to link. Valid subcategories are `checking` and `savings`.
Possible enum values:
            - `checking`
              Bank account subcategory is checking

            - `savings`
              Bank account subcategory is savings

        - `payment_settings.payment_method_options.us_bank_account.financial_connections.permissions` (array of enums, nullable)
          The list of permissions to request. The `payment_method` permission must be included.
Possible enum values:
          - `balances`
            Allows accessing balance data from the account.

          - `ownership`
            Allows accessing ownership data from the account.

          - `payment_method`
            Allows the creation of a payment method from the account.

          - `transactions`
            Allows accessing transactions data from the account.

        - `payment_settings.payment_method_options.us_bank_account.financial_connections.prefetch` (array of enums, nullable)
          Data features requested to be retrieved upon account creation.
Possible enum values:
          - `balances`
            Requests to prefetch balance data on accounts collected in this session.

          - `ownership`
            Requests to prefetch ownership data on accounts collected in this session.

          - `transactions`
            Requests to prefetch transaction data on accounts collected in this session.

      - `payment_settings.payment_method_options.us_bank_account.verification_method` (enum, nullable)
        Bank account verification method.
Possible enum values:
        - `automatic`
          Instant verification with fallback to microdeposits.

        - `instant`
          Instant verification only.

        - `microdeposits`
          Verification using microdeposits. Cannot be used with Stripe Checkout, Hosted Invoices, or Payment Element.

  - `payment_settings.payment_method_types` (array of enums, nullable)
    The list of payment method types (e.g. card) to provide to the invoice’s PaymentIntent. If not set, Stripe attempts to automatically determine the types to use by looking at the invoice’s default payment method, the subscription’s default payment method, the customer’s default payment method, and your [invoice template settings](https://dashboard.stripe.com/settings/billing/invoice).
Possible enum values:
    - `ach_debit`
      ACH

    - `acss_debit`
      Canadian pre-authorized debit

    - `affirm`
      Affirm

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `amazon_pay`
      Amazon Pay

    - `au_becs_debit`
      BECS Direct Debit

    - `bacs_debit`
      Bacs Direct Debit

    - `bancontact`
      Bancontact

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `boleto`
      Boleto

    - `card`
      Card

    - `cashapp`
      Cash App Pay

    - `crypto`
      Crypto

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `custom`
      Custom

    - `customer_balance`
      Bank transfer

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `eps`
      EPS

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `fpx`
      FPX

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `giropay`
      giropay

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `grabpay`
      GrabPay

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `ideal`
      iDEAL

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `kakao_pay`
      Kakao Pay

    - `klarna`
      Klarna

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `konbini`
      Konbini

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `kr_card`
      Korean card

    - `link`
      Link

    - `multibanco`
      Multibanco

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `naver_pay`
      Naver Pay

    - `nz_bank_account`
      NZ BECS Direct Debit

    - `p24`
      Przelewy24

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `pay_by_bank`
      Pay By Bank

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `payco`
      PAYCO

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `paynow`
      PayNow

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `paypal`
      PayPal

    - `promptpay`
      PromptPay

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `revolut_pay`
      Revolut Pay

    - `sepa_debit`
      SEPA Direct Debit

    - `sofort`
      SOFORT

      If set, the Subscription `collection_method` must be `send_invoice`.

    - `us_bank_account`
      ACH direct debit

    - `wechat_pay`
      WeChat Pay

      If set, the Subscription `collection_method` must be `send_invoice`.

- `payments` (object)
  Payments for this invoice

  - `payments.object` (string)
    String representing the object’s type. Objects of the same type share the same value. Always has the value `list`.

  - `payments.data` (array of objects)
    Details about each object.

    - `payments.data.id` (string)
      Unique identifier for the object.

    - `payments.data.object` (string)
      String representing the object’s type. Objects of the same type share the same value.

    - `payments.data.amount_paid` (integer, nullable)
      Amount that was actually paid for this invoice, in cents. This field is null until the payment is `paid`. This amount can be less than the `amount_requested` if the PaymentIntent’s `amount_received` is not sufficient to pay all of the invoices that it is attached to.

    - `payments.data.amount_requested` (integer)
      Amount intended to be paid toward this invoice, in cents

    - `payments.data.created` (timestamp)
      Time at which the object was created. Measured in seconds since the Unix epoch.

    - `payments.data.currency` (string)
      Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).

    - `payments.data.invoice` (string)
      The invoice that was paid.

    - `payments.data.is_default` (boolean)
      Stripe automatically creates a default InvoicePayment when the invoice is finalized, and keeps it synchronized with the invoice’s `amount_remaining`. The PaymentIntent associated with the default payment can’t be edited or canceled directly.

    - `payments.data.livemode` (boolean)
      Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

    - `payments.data.payment` (object)
      The details on the payment.

      - `payments.data.payment.charge` (string, nullable)
        ID of the successful charge for this payment when `type` is `charge`.Note: charge is only surfaced if the charge object is not associated with a payment intent. If the charge object does have a payment intent, the Invoice Payment surfaces the payment intent instead.

      - `payments.data.payment.payment_intent` (string, nullable)
        ID of the PaymentIntent associated with this payment when `type` is `payment_intent`. Note: This property is only populated for invoices finalized on or after March 15th, 2019.

      - `payments.data.payment.payment_record` (string, nullable)
        ID of the PaymentRecord associated with this payment when `type` is `payment_record`.

      - `payments.data.payment.type` (enum)
        Type of payment object associated with this invoice payment.
Possible enum values:
        - `charge`
        - `payment_intent`

    - `payments.data.status` (string)
      The status of the payment, one of `open`, `paid`, or `canceled`.

    - `payments.data.status_transitions` (object)
      The timestamps when the payment’s status was updated.

      - `payments.data.status_transitions.canceled_at` (timestamp, nullable)
        The time that the payment was canceled.

      - `payments.data.status_transitions.paid_at` (timestamp, nullable)
        The time that the payment succeeded.

  - `payments.has_more` (boolean)
    True if this list has another page of items after this one that can be fetched.

  - `payments.url` (string)
    The URL where this list can be accessed.

- `period_end` (timestamp)
  End of the usage period during which invoice items were added to this invoice. This looks back one period for a subscription invoice. Use the [line item period](https://docs.stripe.com/api/invoices/line_item.md#invoice_line_item_object-period) to get the service period for each price.

- `period_start` (timestamp)
  Start of the usage period during which invoice items were added to this invoice. This looks back one period for a subscription invoice. Use the [line item period](https://docs.stripe.com/api/invoices/line_item.md#invoice_line_item_object-period) to get the service period for each price.

- `post_payment_credit_notes_amount` (integer)
  Total amount of all post-payment credit notes issued for this invoice.

- `pre_payment_credit_notes_amount` (integer)
  Total amount of all pre-payment credit notes issued for this invoice.

- `receipt_number` (string, nullable)
  This is the transaction number that appears on email receipts sent for this invoice.

- `rendering` (object, nullable)
  The rendering-related settings that control how the invoice is displayed on customer-facing surfaces such as PDF and Hosted Invoice Page.

  - `rendering.amount_tax_display` (string, nullable)
    How line-item prices and amounts will be displayed with respect to tax on invoice PDFs.

  - `rendering.pdf` (object, nullable)
    Invoice pdf rendering options

    - `rendering.pdf.page_size` (enum, nullable)
      Page size of invoice pdf. Options include a4, letter, and auto. If set to auto, page size will be switched to a4 or letter based on customer locale.
Possible enum values:
      - `a4`
      - `auto`
      - `letter`

  - `rendering.template` (string, nullable)
    ID of the rendering template that the invoice is formatted by.

  - `rendering.template_version` (integer, nullable)
    Version of the rendering template that the invoice is using.

- `shipping_cost` (object, nullable)
  The details of the cost of shipping, including the ShippingRate applied on the invoice.

  - `shipping_cost.amount_subtotal` (integer)
    Total shipping cost before any taxes are applied.

  - `shipping_cost.amount_tax` (integer)
    Total tax amount applied due to shipping costs. If no tax was applied, defaults to 0.

  - `shipping_cost.amount_total` (integer)
    Total shipping cost after taxes are applied.

  - `shipping_cost.shipping_rate` (string, nullable)
    The ID of the ShippingRate for this invoice.

  - `shipping_cost.taxes` (array of objects, nullable)
    The taxes applied to the shipping rate.

    - `shipping_cost.taxes.amount` (integer)
      Amount of tax applied for this rate.

    - `shipping_cost.taxes.rate` (object)
      The tax rate applied.

      - `shipping_cost.taxes.rate.id` (string)
        Unique identifier for the object.

      - `shipping_cost.taxes.rate.object` (string)
        String representing the object’s type. Objects of the same type share the same value.

      - `shipping_cost.taxes.rate.active` (boolean)
        Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.

      - `shipping_cost.taxes.rate.country` (string, nullable)
        Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

      - `shipping_cost.taxes.rate.created` (timestamp)
        Time at which the object was created. Measured in seconds since the Unix epoch.

      - `shipping_cost.taxes.rate.description` (string, nullable)
        An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.

      - `shipping_cost.taxes.rate.display_name` (string)
        The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.

      - `shipping_cost.taxes.rate.effective_percentage` (float, nullable)
        Actual/effective tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage reflects the rate actually used to calculate tax based on the product’s taxability and whether the user is registered to collect taxes in the corresponding jurisdiction.

      - `shipping_cost.taxes.rate.flat_amount` (object, nullable)
        The amount of the tax rate when the `rate_type` is `flat_amount`. Tax rates with `rate_type` `percentage` can vary based on the transaction, resulting in this field being `null`. This field exposes the amount and currency of the flat tax rate.

        - `shipping_cost.taxes.rate.flat_amount.amount` (integer)
          Amount of the tax when the `rate_type` is `flat_amount`. This positive integer represents how much to charge in the smallest currency unit (e.g., 100 cents to charge $1.00 or 100 to charge ¥100, a zero-decimal currency). The amount value supports up to eight digits (e.g., a value of 99999999 for a USD charge of $999,999.99).

        - `shipping_cost.taxes.rate.flat_amount.currency` (string)
          Three-letter ISO currency code, in lowercase.

      - `shipping_cost.taxes.rate.inclusive` (boolean)
        This specifies if the tax rate is inclusive or exclusive.

      - `shipping_cost.taxes.rate.jurisdiction` (string, nullable)
        The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.

      - `shipping_cost.taxes.rate.jurisdiction_level` (enum, nullable)
        The level of the jurisdiction that imposes this tax rate. Will be `null` for manually defined tax rates.
Possible enum values:
        - `city`
        - `country`
        - `county`
        - `district`
        - `multiple`
        - `state`

      - `shipping_cost.taxes.rate.livemode` (boolean)
        Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.

      - `shipping_cost.taxes.rate.metadata` (object, nullable)
        Set of [key-value pairs](https://docs.stripe.com/docs/api/metadata.md) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.

      - `shipping_cost.taxes.rate.percentage` (float)
        Tax rate percentage out of 100. For tax calculations with automatic_tax[enabled]=true, this percentage includes the statutory tax rate of non-taxable jurisdictions.

      - `shipping_cost.taxes.rate.rate_type` (enum, nullable)
        Indicates the type of tax rate applied to the taxable amount. This value can be `null` when no tax applies to the location. This field is only present for TaxRates created by Stripe Tax.
Possible enum values:
        - `flat_amount`
          A fixed amount applied as tax, regardless of the taxable amount, such as a retail delivery fee.

        - `percentage`
          A tax rate expressed as a percentage of the taxable amount, such as the sales tax rate in California.

      - `shipping_cost.taxes.rate.state` (string, nullable)
        [ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2), without country prefix. For example, “NY” for New York, United States.

      - `shipping_cost.taxes.rate.tax_type` (enum, nullable)
        The high-level tax type, such as `vat` or `sales_tax`.
Possible enum values:
        - `amusement_tax`
          Amusement Tax

        - `communications_tax`
          Communications Tax

        - `gst`
          Goods and Services Tax

        - `hst`
          Harmonized Sales Tax

        - `igst`
          Integrated Goods and Services Tax

        - `jct`
          Japanese Consumption Tax

        - `lease_tax`
          Chicago Lease Tax

        - `pst`
          Provincial Sales Tax

        - `qst`
          Quebec Sales Tax

        - `retail_delivery_fee`
          Retail Delivery Fee

        - `rst`
          Retail Sales Tax

        - `sales_tax`
          Sales Tax

        - `service_tax`
          Service Tax

        - `vat`
          Value-Added Tax

    - `shipping_cost.taxes.taxability_reason` (enum, nullable)
      The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
Possible enum values:
      - `customer_exempt`
        No tax is applied as the customer is exempt from tax.

      - `not_collecting`
        No tax is collected either because you are not registered to collect tax in this jurisdiction, or because the non-taxable product tax code (`txcd_00000000`) was used.

      - `not_subject_to_tax`
        No tax is imposed on this transaction.

      - `not_supported`
        No tax applied. Stripe doesn’t support this jurisdiction, territory, or product.

      - `portion_product_exempt`
        A portion of the price is exempt from tax.

      - `portion_reduced_rated`
        A portion of the price is taxed at a reduced rate.

      - `portion_standard_rated`
        A portion of the price is taxed at the standard rate.

      - `product_exempt`
        The product or service is nontaxable or exempt from tax.

      - `product_exempt_holiday`
        The product or service is not taxed due to a sales tax holiday.

      - `proportionally_rated`
        The shipping cost tax rate is calculated as a weighted average of the other line items’ rates, weighted by their amounts.

      - `reduced_rated`
        Taxed at a reduced rate.

      - `reverse_charge`
        No tax is applied as it is the responsibility of the buyer to account for tax in this case.

      - `standard_rated`
        Taxed at the standard rate.

      - `taxable_basis_reduced`
        A reduced amount of the price is subject to tax.

      - `zero_rated`
        The transaction is taxed at a special rate of 0% or the transaction is exempt (but these exempt transactions still let you deduct the “input VAT” paid on your business purchases).

    - `shipping_cost.taxes.taxable_amount` (integer, nullable)
      The amount on which tax is calculated, in cents.

- `shipping_details` (object, nullable)
  Shipping details for the invoice. The Invoice PDF will use the `shipping_details` value if it is set, otherwise the PDF will render the shipping address from the customer.

  - `shipping_details.address` (object)
    Shipping address.

    - `shipping_details.address.city` (string, nullable)
      City, district, suburb, town, or village.

    - `shipping_details.address.country` (string, nullable)
      Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).

    - `shipping_details.address.line1` (string, nullable)
      Address line 1, such as the street, PO Box, or company name.

    - `shipping_details.address.line2` (string, nullable)
      Address line 2, such as the apartment, suite, unit, or building.

    - `shipping_details.address.postal_code` (string, nullable)
      ZIP or postal code.

    - `shipping_details.address.state` (string, nullable)
      State, county, province, or region.

  - `shipping_details.name` (string)
    Recipient name.

  - `shipping_details.phone` (string, nullable)
    Recipient phone (including extension).

- `starting_balance` (integer)
  Starting customer balance before the invoice is finalized. If the invoice has not been finalized yet, this will be the current customer balance. For revision invoices, this also includes any customer balance that was applied to the original invoice.

- `statement_descriptor` (string, nullable)
  Extra information about an invoice for the customer’s credit card statement.

- `status` (enum, nullable)
  The status of the invoice, one of `draft`, `open`, `paid`, `uncollectible`, or `void`. [Learn more](https://docs.stripe.com/docs/billing/invoices/workflow.md#workflow-overview)

- `status_transitions` (object)
  The timestamps at which the invoice status was updated.

  - `status_transitions.finalized_at` (timestamp, nullable)
    The time that the invoice draft was finalized.

  - `status_transitions.marked_uncollectible_at` (timestamp, nullable)
    The time that the invoice was marked uncollectible.

  - `status_transitions.paid_at` (timestamp, nullable)
    The time that the invoice was paid.

  - `status_transitions.voided_at` (timestamp, nullable)
    The time that the invoice was voided.

- `subtotal` (integer)
  Total of all subscriptions, invoice items, and prorations on the invoice before any invoice level discount or exclusive tax is applied. Item discounts are already incorporated

- `subtotal_excluding_tax` (integer, nullable)
  The integer amount in cents representing the subtotal of the invoice before any invoice level discount or tax is applied. Item discounts are already incorporated

- `test_clock` (string, nullable)
  ID of the test clock this invoice belongs to.

- `threshold_reason` (object, nullable)
  If `billing_reason` is set to `subscription_threshold` this returns more information on which threshold rules triggered the invoice.

  - `threshold_reason.amount_gte` (integer, nullable)
    The total invoice amount threshold boundary if it triggered the threshold invoice.

  - `threshold_reason.item_reasons` (array of objects)
    Indicates which line items triggered a threshold invoice.

    - `threshold_reason.item_reasons.line_item_ids` (array of strings)
      The IDs of the line items that triggered the threshold invoice.

    - `threshold_reason.item_reasons.usage_gte` (integer)
      The quantity threshold boundary that applied to the given line item.

- `total` (integer)
  Total after discounts and taxes.

- `total_discount_amounts` (array of objects, nullable)
  The aggregate amounts calculated per discount across all line items.

  - `total_discount_amounts.amount` (integer)
    The amount, in cents, of the discount.

  - `total_discount_amounts.discount` (string)
    The discount that was applied to get this discount amount.

- `total_excluding_tax` (integer, nullable)
  The integer amount in cents representing the total amount of the invoice including all discounts but excluding all tax.

- `total_pretax_credit_amounts` (array of objects, nullable)
  Contains pretax credit amounts (ex: discount, credit grants, etc) that apply to this invoice. This is a combined list of total_pretax_credit_amounts across all invoice line items.

  - `total_pretax_credit_amounts.amount` (integer)
    The amount, in cents, of the pretax credit amount.

  - `total_pretax_credit_amounts.credit_balance_transaction` (string, nullable)
    The credit balance transaction that was applied to get this pretax credit amount.

  - `total_pretax_credit_amounts.discount` (string, nullable)
    The discount that was applied to get this pretax credit amount.

  - `total_pretax_credit_amounts.type` (enum)
    Type of the pretax credit amount referenced.
Possible enum values:
    - `credit_balance_transaction`
      The pretax credit amount is from a credit balance transaction.

    - `discount`
      The pretax credit amount is from a discount.

- `total_taxes` (array of objects, nullable)
  The aggregate tax information of all line items.

  - `total_taxes.amount` (integer)
    The amount of the tax, in cents.

  - `total_taxes.tax_behavior` (enum)
    Whether this tax is inclusive or exclusive.
Possible enum values:
    - `exclusive`
    - `inclusive`

  - `total_taxes.tax_rate_details` (object, nullable)
    Additional details about the tax rate. Only present when `type` is `tax_rate_details`.

  - `total_taxes.taxability_reason` (enum)
    The reasoning behind this tax, for example, if the product is tax exempt. The possible values for this field may be extended as new tax rules are supported.
Possible enum values:
    - `customer_exempt`
      No tax is applied as the customer is exempt from tax.

    - `not_available`
      The reasoning behind this tax is not available.

    - `not_collecting`
      No tax is collected either because you are not registered to collect tax in this jurisdiction, or because the non-taxable product tax code (`txcd_00000000`) was used.

    - `not_subject_to_tax`
      No tax is imposed on this transaction.

    - `not_supported`
      No tax applied. Stripe doesn’t support this jurisdiction, territory, or product.

    - `portion_product_exempt`
      A portion of the price is exempt from tax.

    - `portion_reduced_rated`
      A portion of the price is taxed at a reduced rate.

    - `portion_standard_rated`
      A portion of the price is taxed at the standard rate.

    - `product_exempt`
      The product or service is nontaxable or exempt from tax.

    - `product_exempt_holiday`
      The product or service is not taxed due to a sales tax holiday.

    - `proportionally_rated`
      The shipping cost tax rate is calculated as a weighted average of the other line items’ rates, weighted by their amounts.

    - `reduced_rated`
      Taxed at a reduced rate.

    - `reverse_charge`
      No tax is applied as it is the responsibility of the buyer to account for tax in this case.

    - `standard_rated`
      Taxed at the standard rate.

    - `taxable_basis_reduced`
      A reduced amount of the price is subject to tax.

    - `zero_rated`
      The transaction is taxed at a special rate of 0% or the transaction is exempt (but these exempt transactions still let you deduct the “input VAT” paid on your business purchases).

  - `total_taxes.taxable_amount` (integer, nullable)
    The amount on which tax is calculated, in cents.

  - `total_taxes.type` (enum)
    The type of tax information.

- `webhooks_delivered_at` (timestamp, nullable)
  Invoices are automatically paid or sent 1 hour after webhooks are delivered, or until all webhook delivery attempts have [been exhausted](https://docs.stripe.com/docs/billing/webhooks.md#understand). This field tracks the time when webhooks for this invoice were successfully delivered. If the invoice had no webhooks to deliver, this will be set while the invoice is being created.

### The Invoice object

```json
{
  "id": "in_1MtHbELkdIwHu7ixl4OzzPMv",
  "object": "invoice",
  "account_country": "US",
  "account_name": "Stripe Docs",
  "account_tax_ids": null,
  "amount_due": 0,
  "amount_paid": 0,
  "amount_overpaid": 0,
  "amount_remaining": 0,
  "amount_shipping": 0,
  "application": null,
  "attempt_count": 0,
  "attempted": false,
  "auto_advance": false,
  "automatic_tax": {
    "enabled": false,
    "liability": null,
    "status": null
  },
  "billing_reason": "manual",
  "collection_method": "charge_automatically",
  "created": 1680644467,
  "currency": "usd",
  "custom_fields": null,
  "customer": "cus_NeZwdNtLEOXuvB",
  "customer_address": null,
  "customer_email": "jennyrosen@example.com",
  "customer_name": "Jenny Rosen",
  "customer_phone": null,
  "customer_shipping": null,
  "customer_tax_exempt": "none",
  "customer_tax_ids": [],
  "confirmation_secret": null,
  "default_payment_method": null,
  "default_source": null,
  "default_tax_rates": [],
  "description": null,
  "discounts": [],
  "due_date": null,
  "ending_balance": null,
  "footer": null,
  "from_invoice": null,
  "hosted_invoice_url": null,
  "invoice_pdf": null,
  "issuer": {
    "type": "self"
  },
  "last_finalization_error": null,
  "latest_revision": null,
  "lines": {
    "object": "list",
    "data": [],
    "has_more": false,
    "total_count": 0,
    "url": "/v1/invoices/in_1MtHbELkdIwHu7ixl4OzzPMv/lines"
  },
  "payments": {
    "object": "list",
    "data": [],
    "has_more": false,
    "total_count": 0,
    "url": "/v1/invoice_payments"
  },
  "livemode": false,
  "metadata": {},
  "next_payment_attempt": null,
  "number": null,
  "on_behalf_of": null,
  "paid": false,
  "paid_out_of_band": false,
  "parent": null,
  "payment_intent": null,
  "payment_settings": {
    "default_mandate": null,
    "payment_method_options": null,
    "payment_method_types": null
  },
  "period_end": 1680644467,
  "period_start": 1680644467,
  "post_payment_credit_notes_amount": 0,
  "pre_payment_credit_notes_amount": 0,
  "receipt_number": null,
  "shipping_cost": null,
  "shipping_details": null,
  "starting_balance": 0,
  "statement_descriptor": null,
  "status": "draft",
  "status_transitions": {
    "finalized_at": null,
    "marked_uncollectible_at": null,
    "paid_at": null,
    "voided_at": null
  },
  "subtotal": 0,
  "subtotal_excluding_tax": 0,
  "test_clock": null,
  "total": 0,
  "total_discount_amounts": [],
  "total_excluding_tax": 0,
  "total_taxes": [],
  "transfer_data": null,
  "webhooks_delivered_at": 1680644467
}
```


## Webhook Events We Handle

### Event Structure
All webhook events follow this structure:
```javascript
{
  id: "evt_...",
  object: "event",
  type: "customer.subscription.created",
  data: {
    object: { /* the actual Stripe object */ }
  },
  created: 1234567890
}
```

### Supported Events
1. **checkout.session.completed**
   - Fires when customer completes checkout
   - Access session: `event.data.object`
   - Check `mode` to determine if subscription or one-time payment
   - Retrieve customer ID, subscription ID, or payment_intent ID

2. **payment_intent.succeeded**
   - Payment was successful
   - Access PaymentIntent: `event.data.object`
   - Update Salesforce records with payment confirmation
   - amount is in cents

3. **payment_intent.payment_failed**
   - Payment attempt failed
   - Access PaymentIntent: `event.data.object`
   - Check `last_payment_error` for failure reason
   - Notify customer or retry logic

4. **customer.subscription.created**
   - New subscription created
   - Access Subscription: `event.data.object`
   - Create corresponding Salesforce Opportunity/Contract
   - Store subscription ID in Salesforce

5. **customer.subscription.updated**
   - Subscription changed (status, items, billing)
   - Access Subscription: `event.data.object`
   - Check `status` changes (active → past_due, etc.)
   - Update Salesforce subscription records

6. **customer.subscription.deleted**
   - Subscription canceled or expired
   - Access Subscription: `event.data.object`
   - Update Salesforce to reflect cancellation
   - Preserve historical data

7. **customer.updated**
   - Customer details changed (email, payment method, etc.)
   - Access Customer: `event.data.object`
   - Sync changes to Salesforce Account/Contact

## Webhook Implementation Patterns

### Endpoint Setup
```javascript
app.post('/webhook/stripe', express.raw({type: 'application/json'}), (req, res) => {
  const sig = req.headers['stripe-signature'];
  const webhookSecret = process.env.STRIPE_WEBHOOK_SECRET;
  
  let event;
  try {
    event = stripe.webhooks.constructEvent(req.body, sig, webhookSecret);
  } catch (err) {
    console.error('Webhook signature verification failed:', err.message);
    return res.status(400).send(`Webhook Error: ${err.message}`);
  }
  
  // Return 200 immediately
  res.status(200).json({received: true});
  
  // Process asynchronously
  handleWebhookEvent(event);
});
```

### Salesforce Integration (Apex)
```apex
// Verify webhook signature
String payload = requestBody.toString();
String signature = headers.get('Stripe-Signature');
Boolean isValid = StripeWebhookUtil.verifySignature(payload, signature, webhookSecret);

if (!isValid) {
    res.setStatusCode(400);
    res.setBody('Invalid signature');
    return;
}

// Parse event
Map<String, Object> eventData = (Map<String, Object>) JSON.deserializeUntyped(payload);
String eventType = (String) eventData.get('type');

// Process with exponential backoff pattern
StripeWebhookProcessor processor = new StripeWebhookProcessor(eventType, eventData);
System.enqueueJob(processor); // Use your existing queueable pattern
```

### Idempotency
- Webhooks may be sent multiple times
- Use `event.id` to deduplicate
- Store processed event IDs in Salesforce (custom object or field)
- Check before processing: `if (processedEventIds.contains(event.id)) return;`

## Error Handling

### Stripe API Errors
```javascript
try {
  const customer = await stripe.customers.create({...});
} catch (err) {
  if (err.type === 'StripeCardError') {
    // Card declined
    console.error('Card error:', err.message);
  } else if (err.type === 'StripeInvalidRequestError') {
    // Invalid parameters
    console.error('Invalid request:', err.message);
  } else if (err.type === 'StripeAPIError') {
    // Stripe API issue
    console.error('API error:', err.message);
  } else if (err.type === 'StripeConnectionError') {
    // Network issue
    console.error('Connection error:', err.message);
  } else if (err.type === 'StripeAuthenticationError') {
    // Invalid API key
    console.error('Auth error:', err.message);
  }
  // Implement retry logic for transient errors
}
```

### Webhook Retry Logic
- Return 200 immediately to acknowledge receipt
- Process asynchronously with try/catch
- Use exponential backoff for failures (you've implemented this before!)
- Stripe retries failed webhooks automatically for 3 days

## Monetary Amounts
- **ALWAYS use cents** (smallest currency unit)
- $20.00 USD = 2000 cents
- Never use floats for money: use integers
- Currency codes are lowercase: 'usd', 'eur', 'gbp'

## Metadata Best Practices
- Use metadata to link Stripe and Salesforce records
- Example Customer metadata:
  ```javascript
  metadata: {
    salesforce_account_id: '001...',
    salesforce_contact_id: '003...',
    environment: 'production'
  }
  ```
- Example Subscription metadata:
  ```javascript
  metadata: {
    salesforce_opportunity_id: '006...',
    plan_name: 'Enterprise',
    contract_id: '800...'
  }
  ```
- Metadata values must be strings
- Max 50 keys, 500 characters per value

## Testing

### Test Cards
- Success: 4242 4242 4242 4242
- Decline: 4000 0000 0000 0002
- Requires authentication: 4000 0025 0000 3155
- Insufficient funds: 4000 0000 0000 9995

### Test Webhooks
- Use Stripe CLI: `stripe listen --forward-to localhost:3000/webhook/stripe`
- Trigger events: `stripe trigger customer.subscription.created`
- Test webhook signature verification

### Environment Separation
- Use test keys (sk_test_...) in sandbox/dev
- Use live keys (sk_live_...) only in production
- Never mix test and live data

## Salesforce-Specific Patterns

### Object Mapping
- Stripe Customer → Salesforce Account or Contact
- Stripe Subscription → Salesforce Opportunity or Custom Object (Subscription__c)
- Stripe Invoice → Salesforce Invoice or Opportunity
- Stripe PaymentIntent → Salesforce Payment__c or Transaction__c

### Field Mapping
Store these Stripe IDs in Salesforce:
- `Stripe_Customer_ID__c` (Text 255)
- `Stripe_Subscription_ID__c` (Text 255)
- `Stripe_Payment_Intent_ID__c` (Text 255)
- `Subscription_Status__c` (Picklist: Active, Past Due, Canceled, etc.)
- `Current_Period_End__c` (Date)

### Asynchronous Processing
- Use Queueable Apex for webhook processing
- Implement exponential backoff for retry logic
- Handle governor limits (callout limits, DML limits)
- Use Platform Events for decoupling if needed

## Common Pitfalls to Avoid
- ❌ Don't store amounts as decimals (use integers in cents)
- ❌ Don't skip webhook signature verification
- ❌ Don't process webhooks synchronously (timeout risk)
- ❌ Don't ignore idempotency (duplicate processing)
- ❌ Don't hardcode API keys
- ❌ Don't use deprecated API versions
- ❌ Don't forget to expand nested objects when needed
- ❌ Don't assume webhook delivery order

## Expanding Objects
When you need related data, use expand parameter:
```javascript
const subscription = await stripe.subscriptions.retrieve('sub_...', {
  expand: ['customer', 'default_payment_method', 'latest_invoice']
});
// Now subscription.customer is full object, not just ID
```

## Security Checklist
- ✅ Verify webhook signatures
- ✅ Use HTTPS endpoints only
- ✅ Store secrets in environment variables or Named Credentials
- ✅ Validate incoming data before processing
- ✅ Use API versioning explicitly
- ✅ Implement rate limiting
- ✅ Log security events

## Reference Links
- API Reference: https://docs.stripe.com/api
- Webhooks Guide: https://docs.stripe.com/webhooks
- Testing: https://docs.stripe.com/testing
- Subscription Lifecycle: https://docs.stripe.com/billing/subscriptions/overview
- Error Handling: https://docs.stripe.com/error-handling

---

**When in doubt, always reference the official Stripe documentation for the most current patterns and best practices.**